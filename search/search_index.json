{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"SQA - Simple Qualitative Analysis","text":"Key Features <ul> <li>High Performance - Rust-backed Polars DataFrames (30x faster)</li> <li>150+ Technical Indicators - TA-Lib integration via sqa-tai</li> <li>13+ Trading Strategies - RSI, MACD, Bollinger Bands, and more</li> <li>Portfolio Management - Track positions, P&amp;L, commissions</li> <li>Backtesting Framework - Comprehensive performance metrics</li> <li>Real-Time Streaming - Live price data with callbacks</li> <li>Strategy Generation - Discover patterns from profitable trades</li> <li>Genetic Programming - Evolve optimal parameters</li> <li>Risk Management - VaR, CVaR, position sizing</li> <li>Pattern Matching - Find similar historical patterns</li> </ul>"},{"location":"#welcome-to-sqa","title":"Welcome to SQA","text":"<p>SQA (Simple Qualitative Analysis) is an educational Ruby library designed for stock market technical analysis and trading strategy development. Built with high-performance data structures and seamlessly integrated with TA-Lib, SQA provides a comprehensive toolkit for analyzing historical stock data, implementing trading strategies, and backtesting your ideas.</p> <p>Educational Purpose Only</p> <p>SQA is designed for educational purposes only. It should not be used for actual trading without extensive testing and professional financial advice. Trading stocks involves substantial risk of loss.</p>"},{"location":"#why-sqa","title":"Why SQA?","text":""},{"location":"#high-performance","title":"High Performance","text":"<ul> <li>Polars DataFrames: Rust-backed data structures providing 30x faster operations than pure Ruby</li> <li>TA-Lib Integration: Access to 150+ battle-tested technical indicators via the <code>sqa-tai</code> gem</li> <li>Efficient Algorithms: Optimized for large historical datasets</li> </ul>"},{"location":"#comprehensive-feature-set","title":"Comprehensive Feature Set","text":"<ul> <li>13+ Trading Strategies: From simple moving averages to advanced machine learning-based strategies</li> <li>Portfolio Management: Track positions, calculate P&amp;L, manage commissions</li> <li>Backtesting Framework: Simulate strategies with comprehensive performance metrics</li> <li>Real-Time Streaming: Process live price data with callback support</li> <li>Strategy Generation: Reverse-engineer profitable trades to discover patterns</li> <li>Genetic Programming: Evolve optimal strategy parameters</li> </ul>"},{"location":"#educational-focus","title":"Educational Focus","text":"<ul> <li>Clear Documentation: Extensive guides and examples</li> <li>Transparent Algorithms: Understand how each indicator and strategy works</li> <li>Modular Design: Learn by building custom strategies</li> <li>Risk Disclaimers: Honest about limitations and risks</li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>require 'sqa'\n\n# Initialize SQA\nSQA.init\n\n# Load stock data\nstock = SQA::Stock.new(ticker: 'AAPL')\n\n# Get price data\nprices = stock.df[\"adj_close_price\"].to_a\n\n# Calculate RSI indicator\nrsi = SQAI.rsi(prices, period: 14)\n\n# Execute RSI trading strategy\nrequire 'ostruct'\nvector = OpenStruct.new(rsi: { trend: rsi.last &lt; 30 ? :over_sold : :over_bought })\nsignal = SQA::Strategy::RSI.trade(vector)  # =&gt; :buy, :sell, or :hold\n\n# Backtest the strategy\nbacktest = SQA::Backtest.new(\n  stock: stock,\n  strategy: SQA::Strategy::RSI,\n  initial_cash: 10_000\n)\nresults = backtest.run\n\nputs \"Total Return: #{results.total_return}%\"\nputs \"Sharpe Ratio: #{results.sharpe_ratio}\"\nputs \"Max Drawdown: #{results.max_drawdown}%\"\n</code></pre>"},{"location":"#core-features","title":"Core Features","text":""},{"location":"#data-management","title":"Data Management","text":"<ul> <li>Multiple Data Sources: Alpha Vantage, Yahoo Finance, CSV imports</li> <li>Polars DataFrames: High-performance time series data manipulation</li> <li>Automatic Updates: Keep historical data current</li> </ul>"},{"location":"#technical-analysis","title":"Technical Analysis","text":"<ul> <li>150+ Indicators: SMA, EMA, RSI, MACD, Bollinger Bands, Stochastic, ADX, ATR, and more</li> <li>Custom Calculations: Build your own indicators</li> <li>Trend Detection: Identify market conditions automatically</li> </ul>"},{"location":"#trading-strategies","title":"Trading Strategies","text":"<ul> <li>Built-in Strategies: RSI, MACD, Bollinger Bands, Moving Average crossovers, Volume Breakout</li> <li>Strategy Framework: Plugin architecture for custom strategies</li> <li>Consensus Approach: Combine multiple strategies</li> <li>Rule-Based (KBS): RETE-based forward-chaining inference engine</li> </ul>"},{"location":"#advanced-analytics","title":"Advanced Analytics","text":"<ul> <li>Portfolio Tracking: Monitor positions, P&amp;L, commissions</li> <li>Backtesting: Historical simulation with performance metrics</li> <li>Strategy Generator: Mine patterns from profitable trades</li> <li>Genetic Programming: Evolutionary parameter optimization</li> <li>FPOP Analysis: Future Period of Performance calculations</li> <li>Real-Time Streaming: Process live data with event callbacks</li> </ul>"},{"location":"#architecture","title":"Architecture","text":""},{"location":"#getting-started","title":"Getting Started","text":"<p>Ready to dive in? Check out our guides:</p> <ul> <li>Installation Guide - Get SQA up and running</li> <li>Quick Start - Your first analysis in minutes</li> </ul>"},{"location":"#key-resources","title":"Key Resources","text":""},{"location":"#for-beginners","title":"For Beginners","text":"<ul> <li>Core Concepts - Understand the fundamentals</li> <li>Technical Indicators - Learn about indicators</li> <li>Trading Strategies - Explore built-in strategies</li> </ul>"},{"location":"#for-advanced-users","title":"For Advanced Users","text":"<ul> <li>Portfolio Management - Track your trades</li> <li>Backtesting - Test strategies historically</li> <li>Strategy Generator - Discover patterns</li> <li>Genetic Programming - Optimize parameters</li> </ul>"},{"location":"#reference","title":"Reference","text":"<ul> <li>API Documentation - Complete API reference</li> <li>Data Sources - Working with data</li> <li>Terms of Use - Important legal information</li> </ul>"},{"location":"#demo-application","title":"Demo Application","text":"<p>Want to see SQA in action? Check out the sqa_demo-sinatra gem - a web-based demonstration application that provides a visual interface for exploring stock analysis, technical indicators, and trading strategies.</p>"},{"location":"#community-support","title":"Community &amp; Support","text":"<ul> <li>GitHub: github.com/madbomber/sqa</li> <li>RubyGems: rubygems.org/gems/sqa</li> <li>Demo App: sqa_demo-sinatra - Web-based SQA demonstration</li> <li>Issues: Report bugs or request features on GitHub Issues</li> </ul>"},{"location":"#license","title":"License","text":"<p>SQA is released under the MIT License. See the LICENSE file for details.</p> <p> Remember: The House Always Wins Trade responsibly. Never risk more than you can afford to lose. </p>"},{"location":"IMPROVEMENT_PLAN/","title":"SQA Gem Improvement Plan","text":"<p>Created: 2025-11-23 Status: Pending Review Scope: 17 files, 31 discrete changes across 4 phases Impact Analysis: Verified against sqa_demo-sinatra and sqa-cli</p>"},{"location":"IMPROVEMENT_PLAN/#overview","title":"Overview","text":"<p>This plan addresses code quality issues identified in a comprehensive review of the SQA codebase. All changes have been verified for backward compatibility with dependent gems.</p>"},{"location":"IMPROVEMENT_PLAN/#dependent-gems-analyzed","title":"Dependent Gems Analyzed","text":"Gem Impact Notes sqa_demo-sinatra \u2705 All changes safe Explicitly calls <code>SQA.init</code> sqa-cli \u2705 All changes safe Requires coordinated update (see separate plan)"},{"location":"IMPROVEMENT_PLAN/#phase-1-critical-security-correctness-fixes","title":"Phase 1: Critical Security &amp; Correctness Fixes","text":"<p>Priority: Immediate Dependencies: None Files: 4 Breaking Changes: None</p>"},{"location":"IMPROVEMENT_PLAN/#task-11-fix-shell-injection-vulnerability","title":"Task 1.1: Fix Shell Injection Vulnerability","text":"<p>File: <code>lib/sqa/config.rb</code> Line: 123</p> <pre><code># FROM:\n`touch #{config_file}`\n\n# TO:\nFileUtils.touch(config_file)\n</code></pre> <p>Requires: Verify <code>require 'fileutils'</code> is present Risk: None Test: Verify config file creation works</p>"},{"location":"IMPROVEMENT_PLAN/#task-12-replace-deprecated-has_key-with-key","title":"Task 1.2: Replace Deprecated <code>has_key?</code> with <code>key?</code>","text":"File Line Change <code>lib/sqa/stock.rb</code> 176 <code>temp.has_key? \"Information\"</code> \u2192 <code>temp.key?(\"Information\")</code> <code>lib/sqa/ticker.rb</code> 74 <code>has_key?</code> \u2192 <code>key?</code> <code>lib/sqa/config.rb</code> 111 <code>has_key?</code> \u2192 <code>key?</code> <p>Risk: None Test: Existing tests pass</p>"},{"location":"IMPROVEMENT_PLAN/#task-13-fix-string-raises-to-proper-exception-classes","title":"Task 1.3: Fix String Raises to Proper Exception Classes","text":"<p>File: <code>lib/sqa/errors.rb</code> - Add new classes:</p> <pre><code>class DataFetchError &lt; StandardError\n  attr_reader :original_error\n  def initialize(message, original: nil)\n    @original_error = original\n    super(message)\n  end\nend\n\nclass ConfigurationError &lt; StandardError; end\n</code></pre> <p>File: <code>lib/sqa/stock.rb</code> (Lines 106-108):</p> <pre><code># FROM:\nraise \"Unable to fetch data for #{@ticker}...Error: #{e.message}\"\n\n# TO:\nraise SQA::DataFetchError.new(\"Unable to fetch data for #{@ticker}: #{e.message}\", original: e)\n</code></pre> <p>File: <code>lib/sqa/init.rb</code> (Line 34):</p> <pre><code># FROM:\nraise('Alpha Vantage API key not set...')\n\n# TO:\nraise SQA::ConfigurationError, 'Alpha Vantage API key not set...'\n</code></pre> <p>Risk: Low - More informative errors, generic rescue still catches them Test: Add tests for new exception classes</p>"},{"location":"IMPROVEMENT_PLAN/#task-14-replace-bare-rescues-with-specific-exception-types","title":"Task 1.4: Replace Bare Rescues with Specific Exception Types","text":"<p>File: <code>lib/sqa/stock.rb</code></p> Line From To 54 <code>rescue =&gt; e</code> <code>rescue StandardError =&gt; e</code> 106 <code>rescue =&gt; e</code> <code>rescue Faraday::Error, StandardError =&gt; e</code> 128 <code>rescue =&gt; e</code> <code>rescue StandardError =&gt; e</code> 143 <code>rescue</code> (bare) <code>rescue ArgumentError, Date::Error =&gt; e</code> 154 <code>rescue =&gt; e</code> <code>rescue StandardError =&gt; e</code> <p>Risk: Low - Won't catch <code>Interrupt</code>/<code>SystemExit</code> (correct behavior) Test: Verify error handling for expected failures</p>"},{"location":"IMPROVEMENT_PLAN/#phase-2-code-quality-best-practices","title":"Phase 2: Code Quality &amp; Best Practices","text":"<p>Priority: High Dependencies: Phase 1 complete Files: 7 Breaking Changes: None</p>"},{"location":"IMPROVEMENT_PLAN/#task-21-replace-class-variables-with-thread-safe-alternatives","title":"Task 2.1: Replace Class Variables with Thread-Safe Alternatives","text":"<p>File: <code>lib/sqa/init.rb</code> (Lines 5-6, 34, 47-48, 52, 55)</p> <pre><code># FROM:\n@@data_dir = nil\n@@av_api_key = nil\n\n# TO:\nclass &lt;&lt; self\n  attr_accessor :data_dir, :av_api_key\nend\n@data_dir = nil\n@av_api_key = nil\n</code></pre> <p>File: <code>lib/sqa/stock.rb</code> (Lines 196, 219)</p> <pre><code># FROM:\n@@top = nil\n@@bottom = nil\n\n# TO:\nclass &lt;&lt; self\n  def top\n    @top ||= fetch_top_data\n  end\n\n  def bottom\n    @bottom ||= fetch_bottom_data\n  end\n\n  def reset_cache!\n    @top = nil\n    @bottom = nil\n  end\nend\n</code></pre> <p>File: <code>lib/sqa/ticker.rb</code> (Lines 16, 61, 67, 72) - Similar pattern</p> <p>Risk: Medium - Changes shared state behavior Test: Add thread-safety tests, verify existing tests pass</p>"},{"location":"IMPROVEMENT_PLAN/#task-22-remove-puts-from-error-classes","title":"Task 2.2: Remove <code>puts</code> from Error Classes","text":"<p>File: <code>lib/sqa/errors.rb</code> (Lines 5-14, 18-26)</p> <pre><code># FROM:\nclass ApiError &lt; RuntimeError\n  def self.raise(why)\n    puts \"=\"*64\n    puts \"== API Error\"\n    puts why\n    puts \"=\"*64\n    super\n  end\nend\n\n# TO:\nclass ApiError &lt; RuntimeError\n  def self.raise(why)\n    debug_me {\"API Error: #{why}\"}\n    super\n  end\nend\n</code></pre> <p>Requires: <code>debug_me</code> gem available (per CLAUDE.md guidelines) Risk: Low Test: Verify errors still raise correctly</p>"},{"location":"IMPROVEMENT_PLAN/#task-23-remove-puts-from-production-code","title":"Task 2.3: Remove <code>puts</code> from Production Code","text":"<p>File: <code>lib/sqa/sector_analyzer.rb</code> (Lines 145-147)</p> <pre><code># FROM:\nputs \"=\" * 70\nputs \"Discovering patterns for #{sector.to_s.upcase} sector\"\nputs \"=\" * 70\n\n# TO:\ndebug_me {\"Discovering patterns for #{sector.to_s.upcase} sector\"}\n</code></pre> <p>Risk: None Test: Verify sector analysis works</p>"},{"location":"IMPROVEMENT_PLAN/#task-24-simplify-method_missing-in-dataframe","title":"Task 2.4: Simplify <code>method_missing</code> in DataFrame","text":"<p>File: <code>lib/sqa/data_frame.rb</code> (Lines 164-173)</p> <p>Option A - Simplified Dynamic (Recommended):</p> <pre><code># FROM:\ndef method_missing(method_name, *args, &amp;block)\n  if @data.respond_to?(method_name)\n    self.class.send(:define_method, method_name) do |*method_args, &amp;method_block|\n      @data.send(method_name, *method_args, &amp;method_block)\n    end\n    send(method_name, *args, &amp;block)\n  else\n    super\n  end\nend\n\n# TO:\ndef method_missing(method_name, *args, &amp;block)\n  return super unless @data.respond_to?(method_name)\n  @data.send(method_name, *args, &amp;block)\nend\n</code></pre> <p>Risk: Low - Removes dynamic method definition, keeps delegation Test: Run all DataFrame tests</p>"},{"location":"IMPROVEMENT_PLAN/#task-25-remove-unused-parameters","title":"Task 2.5: Remove Unused Parameters","text":"<p>File: <code>lib/sqa/data_frame.rb</code> (Lines 200-209)</p> <pre><code># FROM:\ndef from_aofh(aofh, mapping: {}, transformers: {})\n\n# TO:\ndef from_aofh(aofh)\n</code></pre> <p>Risk: None - Parameters were never used Test: Verify <code>from_aofh</code> works</p>"},{"location":"IMPROVEMENT_PLAN/#task-26-fix-type-checking-pattern","title":"Task 2.6: Fix Type Checking Pattern","text":"<p>File: <code>lib/sqa/strategy.rb</code> (Line 11)</p> <pre><code># FROM:\nraise BadParameterError unless [Class, Method].include? a_strategy.class\n\n# TO:\nraise BadParameterError unless a_strategy.is_a?(Class) || a_strategy.is_a?(Method)\n</code></pre> <p>Risk: None Test: Existing tests pass</p>"},{"location":"IMPROVEMENT_PLAN/#task-27-remove-magic-placeholder-code","title":"Task 2.7: Remove Magic Placeholder Code","text":"<p>File: <code>lib/sqa/stock.rb</code> (Line 48)</p> <pre><code># FROM:\n@data = SQA::DataFrame::Data.new(ticker: @ticker, source: @source, indicators: { xyzzy: \"Magic\" })\n\n# TO:\n@data = SQA::DataFrame::Data.new(ticker: @ticker, source: @source, indicators: {})\n</code></pre> <p>Risk: None Test: Verify stock initialization</p>"},{"location":"IMPROVEMENT_PLAN/#phase-3-architecture-design-improvements","title":"Phase 3: Architecture &amp; Design Improvements","text":"<p>Priority: Medium Dependencies: Phases 1-2 complete Files: 3 Breaking Changes: None (Task 3.1 revised)</p>"},{"location":"IMPROVEMENT_PLAN/#task-31-add-deprecation-warning-for-auto-initialization-revised","title":"Task 3.1: Add Deprecation Warning for Auto-Initialization (REVISED)","text":"<p>Original Plan: Remove <code>SQA::Config.reset</code> at require time Revision: Keep auto-init but add deprecation warning for future removal</p> <p>File: <code>lib/sqa/config.rb</code> (Line 195)</p> <pre><code># FROM:\nSQA::Config.reset\n\n# TO:\nunless SQA::Config.instance_variable_get(:@initialized)\n  warn \"[SQA DEPRECATION] Auto-initialization at require time will be removed in v1.0. \" \\\n       \"Please call SQA.init explicitly in your application startup.\"\n  SQA::Config.reset\nend\n</code></pre> <p>Rationale: sqa-cli does not explicitly call <code>SQA.init</code> and would break. This gives dependent gems time to update.</p> <p>Coordination Required: - Update sqa-cli to call <code>SQA.init</code> explicitly (see separate plan) - Remove auto-init in SQA v1.0</p> <p>Risk: None - Backward compatible with warning Test: Verify warning appears, initialization still works</p>"},{"location":"IMPROVEMENT_PLAN/#task-32-add-ascending-order-enforcement","title":"Task 3.2: Add Ascending Order Enforcement","text":"<p>File: <code>lib/sqa/data_frame.rb</code> (around line 85)</p> <pre><code>def concat_and_deduplicate!(other_df, sort_column: \"timestamp\", descending: false)\n  if descending\n    warn \"[SQA WARNING] TA-Lib requires ascending (oldest-first) order. Forcing descending: false\"\n    descending = false\n  end\n  # ... rest of method\nend\n</code></pre> <p>Risk: Low - Prevents silent data ordering bugs Test: Add test for descending=true warning</p>"},{"location":"IMPROVEMENT_PLAN/#task-33-extract-faraday-connection-to-configurable-dependency","title":"Task 3.3: Extract Faraday Connection to Configurable Dependency","text":"<p>File: <code>lib/sqa/stock.rb</code> (Line 6)</p> <pre><code># FROM:\nCONNECTION = Faraday.new(url: \"https://www.alphavantage.co\")\n\n# TO:\nclass &lt;&lt; self\n  def connection\n    @connection ||= default_connection\n  end\n\n  def connection=(conn)\n    @connection = conn\n  end\n\n  def default_connection\n    Faraday.new(url: \"https://www.alphavantage.co\")\n  end\n\n  def reset_connection!\n    @connection = nil\n  end\nend\n</code></pre> <p>Benefit: Allows mocking in tests, custom configurations Risk: Low - Default behavior unchanged Test: Add tests for connection injection</p>"},{"location":"IMPROVEMENT_PLAN/#phase-4-documentation-cleanup","title":"Phase 4: Documentation &amp; Cleanup","text":"<p>Priority: Low Dependencies: Phases 1-3 complete Files: Multiple Breaking Changes: None</p>"},{"location":"IMPROVEMENT_PLAN/#task-41-resolve-todo-comments","title":"Task 4.1: Resolve TODO Comments","text":"<p>Create GitHub issues for each TODO, update code with issue references:</p> File Line TODO <code>lib/sqa.rb</code> 4, 16-17 Investigate <code>lib/sqa/config.rb</code> 23 (FIXME), 36, 43, 47, 96 Create issues <code>lib/api/alpha_vantage_api.rb</code> 6 Investigate <code>lib/sqa/strategy.rb</code> 24 Investigate <code>lib/sqa/init.rb</code> 21 Investigate <p>Deliverable: GitHub issues created, TODOs updated</p>"},{"location":"IMPROVEMENT_PLAN/#task-42-fix-error-class-documentation","title":"Task 4.2: Fix Error Class Documentation","text":"<p>File: <code>lib/sqa/errors.rb</code></p> <p>Fix duplicated/incorrect docstring for <code>NotImplemented</code> class.</p>"},{"location":"IMPROVEMENT_PLAN/#task-43-standardize-method-naming-optional","title":"Task 4.3: Standardize Method Naming (Optional)","text":"<p>File: <code>lib/sqa/stock.rb</code></p> Current Proposed <code>update_the_dataframe</code> <code>update_dataframe</code> <p>Decision: Add deprecation alias or rename directly? Risk: Medium if renaming without deprecation</p>"},{"location":"IMPROVEMENT_PLAN/#implementation-order","title":"Implementation Order","text":"<pre><code>Week 1: Phase 1 (Critical)\n\u251c\u2500\u2500 Task 1.1: Shell injection fix\n\u251c\u2500\u2500 Task 1.2: has_key? \u2192 key?\n\u251c\u2500\u2500 Task 1.3: String raises \u2192 exceptions\n\u2514\u2500\u2500 Task 1.4: Bare rescues \u2192 specific types\n\nWeek 2: Phase 2 (Quality) - Part 1\n\u251c\u2500\u2500 Task 2.1: Class variables \u2192 instance variables\n\u251c\u2500\u2500 Task 2.2: Remove puts from errors\n\u2514\u2500\u2500 Task 2.3: Remove puts from production\n\nWeek 3: Phase 2 (Quality) - Part 2\n\u251c\u2500\u2500 Task 2.4: Simplify method_missing\n\u251c\u2500\u2500 Task 2.5: Remove unused parameters\n\u251c\u2500\u2500 Task 2.6: Fix type checking\n\u2514\u2500\u2500 Task 2.7: Remove magic placeholder\n\nWeek 4: Phase 3 (Architecture)\n\u251c\u2500\u2500 Task 3.1: Add deprecation warning (coordinate with sqa-cli)\n\u251c\u2500\u2500 Task 3.2: Ascending order enforcement\n\u2514\u2500\u2500 Task 3.3: Configurable connection\n\nOngoing: Phase 4 (Docs)\n\u251c\u2500\u2500 Task 4.1-4.3: Documentation cleanup\n</code></pre>"},{"location":"IMPROVEMENT_PLAN/#testing-strategy","title":"Testing Strategy","text":""},{"location":"IMPROVEMENT_PLAN/#per-phase-testing","title":"Per-Phase Testing","text":"<ul> <li>Run <code>rake test</code> after each task</li> <li>Verify no regressions</li> </ul>"},{"location":"IMPROVEMENT_PLAN/#integration-testing","title":"Integration Testing","text":"<p>After all phases: 1. Install updated SQA locally 2. Run sqa_demo-sinatra test suite 3. Run sqa-cli test suite 4. Manual smoke testing of key features</p>"},{"location":"IMPROVEMENT_PLAN/#test-coverage-additions","title":"Test Coverage Additions","text":"<ul> <li>New exception classes (Task 1.3)</li> <li>Thread-safety for class instance variables (Task 2.1)</li> <li>Connection injection (Task 3.3)</li> <li>Ascending order warning (Task 3.2)</li> </ul>"},{"location":"IMPROVEMENT_PLAN/#rollback-strategy","title":"Rollback Strategy","text":"<p>Each phase creates separate commits allowing: - Independent review per phase - Easy rollback if issues discovered - Incremental release if needed</p>"},{"location":"IMPROVEMENT_PLAN/#version-strategy","title":"Version Strategy","text":"Release Changes v0.0.33 Current release v0.0.34 Phases 1-2 (non-breaking fixes) v0.0.35 Phase 3 (with deprecation warning) v1.0.0 Remove auto-initialization (breaking)"},{"location":"IMPROVEMENT_PLAN/#coordination-with-dependent-gems","title":"Coordination with Dependent Gems","text":""},{"location":"IMPROVEMENT_PLAN/#sqa-cli","title":"sqa-cli","text":"<ul> <li>Before SQA v0.0.35: Update sqa-cli to call <code>SQA.init</code> explicitly</li> <li>See: <code>sqa-cli/docs/SQA_COMPATIBILITY_UPDATE.md</code></li> </ul>"},{"location":"IMPROVEMENT_PLAN/#sqa_demo-sinatra","title":"sqa_demo-sinatra","text":"<ul> <li>No changes required - Already calls <code>SQA.init</code> explicitly</li> </ul>"},{"location":"IMPROVEMENT_PLAN/#approval-checklist","title":"Approval Checklist","text":"<ul> <li> User approves Phase 1 tasks</li> <li> User approves Phase 2 tasks</li> <li> User approves Phase 3 tasks (revised)</li> <li> User approves Phase 4 tasks</li> <li> sqa-cli update plan approved</li> <li> Ready to begin implementation</li> </ul>"},{"location":"ai_and_ml/","title":"Overview","text":""},{"location":"ai_and_ml/#ai-and-ml-in-trading-advancing-decision-making","title":"AI and ML in Trading -- Advancing Decision-Making","text":"<p>The realm of financial trading has experienced a wonderful transformation with the benefit of algorithmic trading. This innovative approach, which utilizes automated and pre-programmed instructions, has elevated the trading game to new heights. It excels in executing trades with incredible speed and accuracy, focusing on various factors such as price, timing, and volume. The key to its enhanced performance lies in the integration of machine learning (ML) and artificial intelligence (AI). These technologies are useful for the prediction power which was impossible permitting traders to understand the difficulties of the market with enhancement.  </p> <p>Machine learning in Algo trading, in particular, has been a game-changer. It enables systems to learn from historical data, adapt to changing market dynamics, and make informed predictions about future market behaviors. This evolution has not only streamlined trading operations but also opened up new avenues for strategic and dynamic trading decisions, revolutionizing the way financial markets operate.</p>"},{"location":"ai_and_ml/#applications-in-algorithmic-trading","title":"Applications in Algorithmic Trading","text":"<p>Algorithmic trading has revolutionized the financial world by its rapidness and accuracy in the trading procedure. With the integration of artificial intelligence, these systems have become more easier. Here are several key applications of AI in algo trading:</p>"},{"location":"ai_and_ml/#predictive-analytics-for-market-trends","title":"Predictive Analytics for Market Trends","text":"<p>AI algorithms analyze vast datasets, including historical price data, news, and economic reports, to predict market trends. Techniques like sentiment analysis are used to gauge market mood from social media and news sources, offering insights into potential market movements. Time-series forecasting models, driven by AI, help in predicting future price movements based on past trends.</p> <p>Risk Management and Mitigation  </p> <p>AI in algo trading enhances the ability to identify and assess risks. By analyzing market conditions and historical data, these systems can predict volatility and potential downturns. Advanced models help in diversifying portfolios to minimize risk and optimize returns. Real-time monitoring tools powered by AI detect anomalies and potential market manipulations, safeguarding investments.</p>"},{"location":"ai_and_ml/#portfolio-optimization","title":"Portfolio Optimization","text":"<p>AI systems analyze historical performance data and market conditions to construct optimized portfolios that align with specific investment goals and risk tolerances. These algorithms continuously adjust portfolios in response to market changes, ensuring optimal asset allocation.</p>"},{"location":"ai_and_ml/#algorithmic-market-making","title":"Algorithmic Market Making","text":"<p>AI-driven algorithms act as market makers, providing liquidity to the market by continuously buying and selling securities. These algorithms adjust bid-ask spreads based on market conditions, balancing profit-making with the need to maintain market stability.</p>"},{"location":"ai_and_ml/#sentiment-analysis-and-behavioral-finance","title":"Sentiment Analysis and Behavioral Finance","text":"<p>AI tools perform sentiment analysis on news articles, social media, and financial reports to understand market sentiment. Behavioral biases in trading decisions are identified and countered using AI, leading to more rational decision-making.</p>"},{"location":"ai_and_ml/#fraud-detection-and-compliance","title":"Fraud Detection and Compliance","text":"<p>AI algorithms in algo trading detect patterns indicative of fraudulent activities, enhancing the security of trading platforms. Compliance monitoring is automated, ensuring adherence to regulatory standards and reducing the risk of legal issues.</p>"},{"location":"ai_and_ml/#customized-trading-solutions","title":"Customized Trading Solutions","text":"<p>AI app development companies enable the creation of personalized trading strategies based on individual investor profiles and preferences. It offers tailored advice and recommendations, improving client engagement and satisfaction.</p>"},{"location":"ai_and_ml/#real-time-data-processing-and-decision-making","title":"Real-time Data Processing and Decision Making","text":"<p>AI systems process real-time market data to make immediate trading decisions, capitalizing on short-lived trading opportunities. They can adjust strategies instantaneously in response to live market data, maintaining relevance and effectiveness.</p>"},{"location":"ai_and_ml/#predictive-maintenance-in-trading-infrastructure","title":"Predictive Maintenance in Trading Infrastructure","text":"<p>AI is used to predict and prevent system failures in trading infrastructure, ensuring uninterrupted operations. Predictive maintenance minimizes downtime and maintains the reliability of trading systems.</p>"},{"location":"ai_and_ml/#advancing-decision-making-with-ai-and-ml-in-algorithmic-trading","title":"Advancing Decision Making with AI and ML in Algorithmic Trading","text":""},{"location":"ai_and_ml/#incorporation-of-ai-in-software-development-for-trading-systems","title":"Incorporation of AI in Software Development for Trading Systems","text":"<p>The evolution of algorithmic trading is significantly influenced by advancements in AI-driven software development. Software development companies are now focusing on integrating AI and ML into trading platforms, enhancing their capability to process and analyze massive data sets rapidly. This integration allows for the creation of more sophisticated and accurate trading models. By adopting AI, these companies can develop software that not only processes historical and real-time market data efficiently but also predicts future market trends, contributing to more informed trading decisions.</p>"},{"location":"ai_and_ml/#mobile-app-development-for-on-the-go-trading","title":"Mobile App Development for On-the-Go Trading","text":"<p>The demand for mobile app development services in the financial sector has reached the heights of the sky mainly for algorithmic trading.\u00a0 These mobile apps, empowered by AI and ML algorithms, provide traders with the flexibility to monitor and execute trades anytime and anywhere. The incorporation of AI in these apps offers real-time analytics, market insights, and personalized notifications, ensuring that traders stay ahead in the fast-paced trading environment. This advancement in mobile technology means that traders can now make data-driven decisions on the go, with AI providing constant insights and updates.</p>"},{"location":"ai_and_ml/#enhancing-trading-platforms-with-dedicated-ai-expertise","title":"Enhancing Trading Platforms with Dedicated AI Expertise.","text":"<p>To harness the full potential of AI and ML in algorithmic trading, it's essential to hire dedicated developers who specialize in AI. Their expertise helps in refining the AI models used in algo trading platforms, ensuring that they are not only efficient but also accurate and reliable. Dedicated developers bring a depth of knowledge in AI and ML, driving innovations that keep trading platforms at the forefront of the financial industry.</p>"},{"location":"ai_and_ml/#collaboration-with-artificial-intelligence-development-companies","title":"Collaboration with Artificial Intelligence Development Companies","text":"<p>The partnership between algo trading firms and artificial intelligence development companies is pivotal in advancing trading strategies. These collaborations bring together financial expertise and cutting-edge AI technology. AI development companies provide the technological backbone, developing complex algorithms capable of predictive analytics, risk assessment, and decision automation. It leads to more powerful trading platforms, which can process a huge amount of data and make autonomous, great decisions that would be hard to make for human traders.</p>"},{"location":"ai_and_ml/#leveraging-algo-trading-platforms-for-enhanced-decision-making","title":"Leveraging Algo Trading Platforms for Enhanced Decision-Making","text":"<p>Algo trading platforms have become more advanced with the integration of AI and ML, offering traders a myriad of tools for enhanced decision-making. These platforms utilize AI to analyze market conditions, predict price movements, and identify trading opportunities. They can automatically adjust trading strategies in real-time, responding to market changes instantaneously. This level of automation and precision in decision-making permits traders to focus on market opportunities more efficiently, minimizing risks, and enhancing overall trading performance.</p>"},{"location":"ai_and_ml/#future-trends-and-developments-in-ai-and-ml-for-trading","title":"Future Trends and Developments in AI and ML for Trading","text":"<p>Looking forward, the continued integration of AI and ML in algorithmic trading promises even more sophisticated and efficient trading systems. Growth in areas like deep learning, and natural language processing will again improve the abilities of algo trading platforms. As AI and ML technologies evolve, they will offer more nuanced and complex analysis, leading to even more refined decision-making processes in trading. The ongoing collaboration with dedicated AI developers, and financial experts will be crucial in driving these advancements and shaping the future of algorithmic trading in the financial markets.</p> <p>The advancement of decision-making in algorithmic trading through AI and ML is a multifaceted process that involves the collaboration of software development companies, the creation of mobile trading apps, the hiring of dedicated developers, partnerships with AI development firms, and the continuous improvement of algo trading platforms.</p>"},{"location":"ai_and_ml/#conclusion","title":"Conclusion:","text":"<p>The blend of artificial intelligence and machine learning in algo trading is nothing but a kind of transformation in the financial world. This blend has not just automated the existing processes but has infused them with an unprecedented level of accuracy and sophistication. These advancements empower traders to make decisions swiftly and more accurately, effectively reshaping the entire trading landscape. As we look ahead, the continuous evolution of these technologies heralds a future rich with innovative strategies and heightened efficiency in trading. In this new era, driven by AI and ML, the essence of successful trading will increasingly hinge on the ability to harness data-driven insights and automated decision-making.</p>"},{"location":"data_frame/","title":"DataFrame Documentation","text":""},{"location":"data_frame/#overview","title":"Overview","text":"<p>The <code>SQA::DataFrame</code> class is a high-performance wrapper around the Polars DataFrame library, specifically designed for time series financial data manipulation. Polars is a Rust-backed library that provides blazingly fast operations on columnar data.</p>"},{"location":"data_frame/#architecture","title":"Architecture","text":"<p>The DataFrame system consists of two main components:</p>"},{"location":"data_frame/#1-sqadataframe","title":"1. SQA::DataFrame","text":"<p>The main DataFrame class that wraps Polars::DataFrame with SQA-specific convenience methods.</p> <p>Location: <code>lib/sqa/data_frame.rb</code></p> <p>Key Features: - Wraps Polars::DataFrame for high-performance operations - Column-based vectorized operations (avoid row iterations) - CSV and JSON import/export - Automatic column renaming and transformations - FPL (Future Period Loss/Profit) analysis convenience methods - Method delegation to underlying Polars DataFrame</p>"},{"location":"data_frame/#2-sqadataframedata","title":"2. SQA::DataFrame::Data","text":"<p>A metadata storage class for stock information, separate from the price/volume data.</p> <p>Location: <code>lib/sqa/data_frame/data.rb</code></p> <p>Attributes: - <code>ticker</code> - Stock symbol (e.g., 'AAPL', 'MSFT') - <code>name</code> - Company name - <code>exchange</code> - Exchange symbol (NASDAQ, NYSE, etc.) - <code>source</code> - Data source (<code>:alpha_vantage</code>, <code>:yahoo_finance</code>) - <code>indicators</code> - Technical indicators configuration hash - <code>overview</code> - Company overview data from Alpha Vantage</p> <p>Key Features: - Dual initialization: from hash (JSON) or keyword arguments - JSON serialization with <code>to_json</code> - Used by <code>SQA::Stock</code> to persist metadata in <code>~/sqa_data/ticker.json</code> - All attributes are read/write accessible</p>"},{"location":"data_frame/#creating-dataframes","title":"Creating DataFrames","text":""},{"location":"data_frame/#from-data-sources","title":"From Data Sources","text":"<pre><code># Using Alpha Vantage\nstock = SQA::Stock.new(ticker: 'AAPL')\ndf = stock.df  # SQA::DataFrame instance\n\n# Using Yahoo Finance\nstock = SQA::Stock.new(ticker: 'MSFT', source: :yahoo_finance)\ndf = stock.df\n</code></pre>"},{"location":"data_frame/#from-csv-file","title":"From CSV File","text":"<pre><code># Load CSV file (Polars-compatible)\ndf = SQA::DataFrame.from_csv_file('path/to/stock_data.csv')\n\n# The underlying Polars DataFrame is accessible via .data\npolars_df = df.data\n</code></pre>"},{"location":"data_frame/#from-json-file","title":"From JSON File","text":"<pre><code># Load JSON array of hashes\ndf = SQA::DataFrame.from_json_file('path/to/stock_data.json')\n</code></pre>"},{"location":"data_frame/#from-array-of-hashes","title":"From Array of Hashes","text":"<pre><code>data = [\n  { date: '2024-01-01', close: 150.0, volume: 1_000_000 },\n  { date: '2024-01-02', close: 152.0, volume: 1_200_000 }\n]\n\ndf = SQA::DataFrame.from_aofh(data)\n</code></pre>"},{"location":"data_frame/#working-with-dataframes","title":"Working with DataFrames","text":""},{"location":"data_frame/#column-access","title":"Column Access","text":"<pre><code># Get column names\ndf.columns\n# =&gt; [\"timestamp\", \"open\", \"high\", \"low\", \"close\", \"adj_close_price\", \"volume\"]\n\n# Access a column (returns Polars::Series)\nclose_prices = df[\"close\"]\n\n# Convert to Ruby array\nprices_array = df[\"adj_close_price\"].to_a\n</code></pre>"},{"location":"data_frame/#basic-operations","title":"Basic Operations","text":"<pre><code># Get dimensions\ndf.size      # Number of rows (also: df.nrows, df.length)\ndf.ncols     # Number of columns\n\n# Get first/last rows\ndf.head(10)  # First 10 rows\ndf.tail(10)  # Last 10 rows\n\n# Column statistics (via Polars)\ndf.data[\"close\"].mean\ndf.data[\"volume\"].sum\ndf.data[\"close\"].min\ndf.data[\"close\"].max\n</code></pre>"},{"location":"data_frame/#data-transformation","title":"Data Transformation","text":"<pre><code># Rename columns\nmapping = { 'Close' =&gt; :close, 'Volume' =&gt; :volume }\ndf.rename_columns!(mapping)\n\n# Apply transformers\ntransformers = {\n  date: -&gt;(val) { Date.parse(val) },\n  volume: -&gt;(val) { val.to_i }\n}\ndf.apply_transformers!(transformers)\n</code></pre>"},{"location":"data_frame/#appending-dataframes","title":"Appending DataFrames","text":"<pre><code># Combine two DataFrames\ndf1.append!(df2)  # Modifies df1 in place\ndf1.concat!(df2)  # Alias for append!\n</code></pre>"},{"location":"data_frame/#export","title":"Export","text":"<pre><code># To CSV\ndf.to_csv('output.csv')\ndf.write_csv('output.csv')  # Alias\n\n# To Hash\nhash = df.to_h\n# =&gt; { close: [150.0, 152.0, ...], volume: [1_000_000, 1_200_000, ...] }\n</code></pre>"},{"location":"data_frame/#fpl-analysis-methods","title":"FPL Analysis Methods","text":"<p>The DataFrame includes convenience methods for Future Period Loss/Profit analysis:</p>"},{"location":"data_frame/#basic-fpl-calculation","title":"Basic FPL Calculation","text":"<pre><code># Calculate min/max future deltas for each point\nfpl_data = df.fpl(column: \"adj_close_price\", fpop: 10)\n# =&gt; [[min_delta, max_delta], [min_delta, max_delta], ...]\n</code></pre>"},{"location":"data_frame/#comprehensive-fpl-analysis","title":"Comprehensive FPL Analysis","text":"<pre><code># Get detailed analysis with risk metrics\nanalysis = df.fpl_analysis(column: \"adj_close_price\", fpop: 10)\n# =&gt; [\n#   {\n#     min_delta: -2.5,\n#     max_delta: 5.3,\n#     magnitude: 3.9,\n#     risk: 7.8,\n#     direction: :UP\n#   },\n#   ...\n# ]\n</code></pre> <p>See FPL Analysis Documentation for more details.</p>"},{"location":"data_frame/#working-with-stock-metadata","title":"Working with Stock Metadata","text":""},{"location":"data_frame/#creating-metadata","title":"Creating Metadata","text":"<pre><code># From keyword arguments\ndata = SQA::DataFrame::Data.new(\n  ticker: 'AAPL',\n  source: :alpha_vantage,\n  indicators: { rsi: 14, sma: [20, 50] }\n)\n\n# From hash (JSON deserialization)\njson_data = JSON.parse(File.read('aapl.json'))\ndata = SQA::DataFrame::Data.new(json_data)\n</code></pre>"},{"location":"data_frame/#accessing-and-modifying-metadata","title":"Accessing and Modifying Metadata","text":"<pre><code># Read attributes\ndata.ticker        # =&gt; 'AAPL'\ndata.source        # =&gt; :alpha_vantage\ndata.indicators    # =&gt; { rsi: 14, sma: [20, 50] }\n\n# Write attributes\ndata.name = 'Apple Inc.'\ndata.exchange = 'NASDAQ'\ndata.overview = {\n  'company' =&gt; 'Apple Inc.',\n  'sector' =&gt; 'Technology',\n  'market_cap' =&gt; 2_800_000_000_000\n}\n</code></pre>"},{"location":"data_frame/#persistence","title":"Persistence","text":"<pre><code># Serialize to JSON\njson_string = data.to_json\n\n# Save to file (typically done by SQA::Stock)\nFile.write('aapl.json', data.to_json)\n\n# Load from file\njson_data = JSON.parse(File.read('aapl.json'))\ndata = SQA::DataFrame::Data.new(json_data)\n</code></pre>"},{"location":"data_frame/#performance-tips","title":"Performance Tips","text":"<ol> <li> <p>Use Column Operations: Always prefer Polars column operations over Ruby loops    <pre><code># GOOD: Vectorized operation\ndf.data[\"close\"].mean\n\n# BAD: Ruby loop\ndf[\"close\"].to_a.sum / df.size.to_f\n</code></pre></p> </li> <li> <p>Access Underlying Polars: Use <code>df.data</code> for direct Polars operations    <pre><code># Direct Polars access\nfiltered = df.data.filter(df.data[\"volume\"] &gt; 1_000_000)\n</code></pre></p> </li> <li> <p>Avoid Unnecessary Array Conversions: Only convert to arrays when needed    <pre><code># Only convert when passing to external functions\nprices = df[\"adj_close_price\"].to_a\nrsi = SQAI.rsi(prices, period: 14)\n</code></pre></p> </li> <li> <p>Batch Operations: Combine operations when possible    <pre><code># Instead of multiple separate operations\ndf.apply_transformers!(transformers)\ndf.rename_columns!(mapping)\n</code></pre></p> </li> </ol>"},{"location":"data_frame/#data-sources","title":"Data Sources","text":""},{"location":"data_frame/#alpha-vantage","title":"Alpha Vantage","text":"<p>Location: <code>lib/sqa/data_frame/alpha_vantage.rb</code></p> <pre><code>SQA::DataFrame::AlphaVantage.recent('AAPL', full: true)\n</code></pre> <p>Requirements: - Environment variable: <code>AV_API_KEY</code> or <code>ALPHAVANTAGE_API_KEY</code> - Rate limiting: 5 calls/minute (free tier)</p>"},{"location":"data_frame/#yahoo-finance","title":"Yahoo Finance","text":"<p>Location: <code>lib/sqa/data_frame/yahoo_finance.rb</code></p> <pre><code>SQA::DataFrame::YahooFinance.recent('AAPL', full: true)\n</code></pre> <p>Features: - No API key required - Web scraping based (less reliable) - Good for testing and fallback</p>"},{"location":"data_frame/#adding-new-data-sources","title":"Adding New Data Sources","text":"<p>To add a new data source adapter:</p> <ol> <li>Create <code>lib/sqa/data_frame/my_source.rb</code></li> <li>Define class <code>SQA::DataFrame::MySource</code></li> <li>Implement <code>self.recent(ticker, **options)</code> method</li> <li>Return data in Polars-compatible format</li> <li>Add column mapping if needed</li> </ol> <p>Example:</p> <pre><code>class SQA::DataFrame::MySource\n  TRANSFORMERS = {\n    timestamp: -&gt;(val) { Date.parse(val) },\n    volume: -&gt;(val) { val.to_i }\n  }\n\n  def self.recent(ticker, **options)\n    # Fetch data from your source\n    raw_data = fetch_from_api(ticker)\n\n    # Convert to Polars-compatible format\n    SQA::DataFrame.new(raw_data, transformers: TRANSFORMERS)\n  end\nend\n</code></pre>"},{"location":"data_frame/#common-gotchas","title":"Common Gotchas","text":"<ol> <li>DataFrame vs Polars:</li> <li><code>df</code> is <code>SQA::DataFrame</code></li> <li> <p><code>df.data</code> is <code>Polars::DataFrame</code></p> </li> <li> <p>Column Names:</p> </li> <li>Column names are strings, not symbols</li> <li> <p>Use <code>df[\"close\"]</code> not <code>df[:close]</code></p> </li> <li> <p>Method Delegation:</p> </li> <li>Unknown methods are delegated to Polars::DataFrame</li> <li> <p>Check Polars docs for advanced operations</p> </li> <li> <p>Indicators Need Arrays:</p> </li> <li>Extract data with <code>.to_a</code> before passing to SQAI/TAI functions</li> <li>Example: <code>prices = df[\"close\"].to_a</code></li> </ol>"},{"location":"data_frame/#related-documentation","title":"Related Documentation","text":"<ul> <li>FPL Analysis - Future Period Loss/Profit utilities</li> <li>Indicators - Technical indicator integration</li> <li>Polars Documentation - Underlying library</li> </ul>"},{"location":"data_frame/#example-complete-workflow","title":"Example: Complete Workflow","text":"<pre><code>require 'sqa'\n\nSQA.init\n\n# Load stock data\nstock = SQA::Stock.new(ticker: 'AAPL')\n\n# Access DataFrame\ndf = stock.df\n\n# Get price array for indicators\nprices = df[\"adj_close_price\"].to_a\n\n# Calculate technical indicators\nsma_20 = SQAI.sma(prices, period: 20)\nrsi_14 = SQAI.rsi(prices, period: 14)\n\n# FPL analysis\nfpl_analysis = df.fpl_analysis(fpop: 10)\nhigh_quality = SQA::FPOP.filter_by_quality(\n  fpl_analysis,\n  min_magnitude: 5.0,\n  max_risk: 25.0\n)\n\n# Access stock metadata\nputs \"Ticker: #{stock.ticker}\"\nputs \"Exchange: #{stock.exchange}\"\nputs \"Source: #{stock.source}\"\n\n# Export data\ndf.to_csv(\"aapl_prices.csv\")\nFile.write(\"aapl_metadata.json\", stock.data.to_json)\n</code></pre>"},{"location":"factors_that_impact_price/","title":"Factor Analysis","text":""},{"location":"factors_that_impact_price/#factors-that-impact-price","title":"Factors that Impact Price","text":"<p>By considering these factors, investors can better understand the potential price movements of stocks and make informed investment decisions.</p> <p>This breakdown approximates how heavily each factor might typically weigh on stock prices across a varied portfolio. However, in specific scenarios, the impact of each factor could be dramatically different. For instance, in times of global financial crisis, economic indicators and market sentiment might dramatically outweigh company-specific performance, or during a technological breakthrough, industry trends could be the dominant factor.</p> <p>Ranked most impactful to least impactful.</p> <ol> <li>Company Performance: 35%</li> <li> <p>The financial health and growth prospects of a company are crucial. Positive earnings reports, strong revenue growth, and effective management often directly translate to increased stock prices.</p> </li> <li> <p>Market Sentiment: 25%</p> </li> <li> <p>This is a broad factor that encompasses the psychological aspects of the market. Positive market sentiment can drive prices up rapidly, sometimes irrespective of underlying fundamentals.</p> </li> <li> <p>Economic Indicators: 15%</p> </li> <li> <p>Broad economic trends greatly influence investor confidence and expectations. Robust economic growth, for example, tends to buoy most stocks, particularly in sectors closely tied to economic cycles.</p> </li> <li> <p>Interest Rates: 10%</p> </li> <li> <p>Changes in interest rates by central banks can shift investor preferences between stocks and bonds, thus having a significant impact on stock prices.</p> </li> <li> <p>Geopolitical Events: 10%</p> </li> <li> <p>These events can create considerable market volatility and can impact specific sectors more intensely (e.g., energy stocks during oil crises).</p> </li> <li> <p>Industry Trends: 5%</p> </li> <li>While these can be highly impactful on specific stocks or sectors, their broader impact on stock prices across the market tends to be more contained compared to the other factors unless the trend sparks a sector-wide shift.</li> </ol>"},{"location":"finviz/","title":"Financial Vizualization (finviz)","text":"<p>The original finviz unofficial gem has been untouched for 3 years.  I just forked it in the hope that I can bring it forward to current versions of its dependencies.</p> <p>https;//finviz.com</p>"},{"location":"finviz/#aapl-weekly","title":"AAPL weekly","text":"<p>The default is daily.</p> <p>https://finviz.com/quote.ashx?t=AAPL&amp;p=w</p>"},{"location":"fx_pro_bit/","title":"FXProBot","text":"<p>FXProBot is a new trading software by Avenix Fzco, a major fintech firm located in Dubai that specializes in automated trading. This advanced robot has been built with the sole aim of improving the experience of both established and novice traders by using sophisticated algorithms and strong risk management approaches. The goal of FXProBot is to change how investors interact with the market; it offers an efficient and effortless platform for forex traders.</p>"},{"location":"fx_pro_bit/#main-features-of-fxprobot","title":"Main Features of FXProBot","text":"<p>Impulse Detection and Analysis \u2013 One of the key attributes of this bot is its well-crafted impulse detection and analysis process. Before initiating any trade, this forex robot scans market impulses, searching for ones that may benefit traders. In instances such as when Doji candles appear or ambiguous market behavior occurs, this feature helps avoid common mistakes.</p> <p>Trend Conformity \u2013 This feature comes into play when market impulses are aligned with broader market trends. Trade entry accuracy is enhanced by FXProBot\u2019s built-in indicators. In this way, it increases the chances for better trading opportunities, since FXProBot trades in line with prevailing market trends.</p> <p>Robust Risk Management \u2013 Successful trading necessitates good risk management, which FXProBot demonstrates excellently. Each trade executed by this forex robot incorporates predefined levels for Stop Loss (SL) and Take Profit (TP). This strong framework used for risk management promotes minimal losses, thus safeguarding profits and investments from instability.</p> <p>Automated Trading \u2013 Trading has become simpler thanks to automated trading offered by FXProBot. This Expert Advisor (EA) uses complex algorithms, ensuring accuracy as it removes emotions and psychological stress from trading decisions. This means that traders can focus on their strategies while FXProBot takes care of execution.</p> <p>Customizable Settings \u2013 In order to accommodate different trading styles, FXProBot is highly customizable. This allows users to modify the EA\u2019s risk level, trade sizes, and select between numerous indicators available, thereby fine-tuning it to fit any individual preferences.</p> <p>Backtesting and Optimization \u2013 Backtesting as well as optimization are offered by FXProBot. Traders are able to put their strategies to the test through extensive historical data prior to applying them in live markets. These techniques help improve how trades should be executed, thereby increasing the chances of success.</p> <p>Regular Updates and Comprehensive Support \u2013 Avenix Fzco constantly aims at improving its creations; FXProBot is regularly updated with market insights and new algorithms for better strategy applications towards changing market conditions. Also, within all stages of one\u2019s trading journey with FXProBot, he or she will have a dedicated support team right from installation up to troubleshooting.</p> <p>Educational Resources \u2013 In addition, FXProBot provides a wide range of educational resources such as tutorials, webinars, and articles on basic forex concepts and advanced trading methods. These resources enable one to make informed decisions while participating in forex-related activities.</p>"},{"location":"fx_pro_bit/#about-avenix-fzco","title":"About Avenix Fzco","text":"<p>Avenix Fzco, a fintech pioneer in Dubai, UAE, is focused on creating high-level trading software for forex traders. The company\u2019s most recent release, FXProBot, shows its dedication to precision, risk management, and intelligent operations. For more details about FXProBot and how it can improve the trading experience, please visit https://fxprobot.com/.</p>"},{"location":"genetic_programming/","title":"Genetic Programming","text":""},{"location":"genetic_programming/#overview-of-genetic-programming-gp","title":"Overview of Genetic Programming (GP)","text":"<p>Genetic Programming (GP) is an evolutionary algorithm-inspired methodology used to evolve programs or models, particularly to solve optimization and search problems. GP simulates the process of natural selection by treating potential solutions as members of a population of programs. These programs are encoded as trees, where the nodes represent operations or functions and the leaves represent input data. During the GP process, populations evolve over generations using genetic operations such as mutation, crossover (recombination), and selection according to their fitness.</p>"},{"location":"genetic_programming/#definitions","title":"definitions","text":""},{"location":"genetic_programming/#single-signal-with-varying-parameters","title":"Single Signal with Varying Parameters","text":"<p>prices: historical price data for a stock (Array of Hash) pww: past window width (Integer) fww: future window width (Integer) gain: (Float) loss: (Float) indicator: historical signal values (Float) signal: buy/sell/hold (Symbol) x: today - instance in time (Integer)</p> <p>Different fitness functions for buy/sell/hold</p> <p>pwi = (x-pww .. x) fwi = (x+1 .. x+fww)</p> <p>signal  = signal_function(prices, x, pww) gain    = prices[fwi].max - prices[x] # could be negative loss    = prices[fwi].min - prices[x] delta   = decision-point amount (Float)           buy when  forcast_price - prices[x] &gt;= delta             buy to realize gain</p> <pre><code>      sell when prices[x] - forcast_price &gt;= delta\n        sell to avoid loss\n</code></pre> <p>fitness_sell = gain - delta # more positive the better fitness_buy  = loss + delta # more negative the better fitness_hold = gain.abs &lt; delta &amp;&amp; loss.abs &lt; delta</p> <p>Want to mutate pww, fww -- maybe x? to see if solution holds</p>"},{"location":"genetic_programming/#multiple-signals-with-varying-parameters","title":"Multiple Signals with varying parameters","text":"<p>TBD</p>"},{"location":"genetic_programming/#how-gp-can-be-applied-to-stock-market-predictions","title":"How GP Can Be Applied to Stock Market Predictions","text":"<p>In the domain of stock market predictions, GP can be particularly useful for evolving strategies to make decisions such as buy, sell, or hold based on historical data. Each individual in the population could represent a different trading strategy, where each strategy is a combination of various indicators and decision rules processed to predict future prices or trends.</p> <p>The fitness of each program is measured by how well it predicts the stock price movement and could be based on factors such and minimization of loss or maximization of gains during simulated trading.</p>"},{"location":"genetic_programming/#example-application-genetic-programming-in-ruby","title":"Example Application: Genetic Programming in Ruby","text":"<p>This is a simplified example using the <code>darwinning</code> gem for applying a genetic programming approach to determine the best strategy among signal indicators for stock trading. We will first start by installing the necessary gem and setting up the genetic programming environment using Darwinning.</p> <ol> <li> <p>Installation: You'll need to install the Darwinning gem first. You can do this using:</p> <pre><code>gem install darwinning\n</code></pre> </li> <li> <p>Designing the Program: Assume that our trading decision is based on a simplistic model using standard indicators like moving averages (MA), with parameters evolving to fit historical data for maximum gains.</p> </li> </ol> <p>Here is the Ruby code implementing genetic programming using Darwinning:</p> <pre><code>require 'darwinning'\n\nclass TradingStrategy &lt; Darwinning::Organism\n  @name = \"Trading Strategy\"\n  @genes = [\n    Darwinning::Gene.new(name: \"moving average short period\", value_range: (5..15)),\n    Darwinning::Gene.new(name: \"moving average long period\",  value_range: (20..50)),\n    Darwinning::Gene.new(name: \"buy threshold\", value_range: (0.01..0.05)),\n    Darwinning::Gene.new(name: \"sell threshold\", value_range: (-0.05..-0.01))\n  ]\n\n  def fitness\n    # Define how to evaluate the strategy's fitness. Here, simplistic measures could be the paper trading results:\n    moving_average_short = genotypes[\"moving average short period\"]\n    moving_accurate_touch_trigger_index_Bigvar= &gt;umbrella_deal; share_rally_hook=\"?pelicans\" surpassing_value_trauma_long = {5000..100000}\n    # Simplified fitness function calculation for demonstration: assume returns as random for illustration\n    rand(100) - 50  # Random fitness value for demonstration\n  end\nend\n\npopulation = Darwinning::Population.new(\n  organism: TradingStrategy, population_size: 30,\n  fitness_goal: 100, generations_limit: 100\n)\n\npopulation.evolve!\n\nputs \"Best trading strategy: #{population.best_member}\"\n</code></pre>"},{"location":"genetic_programming/#considerations","title":"Considerations","text":"<ul> <li>Data and Fitness Function: The quality and relevance of input data are critical. The fitness function in a real scenario needs to simulate trading with transaction costs, slippage, and potentially more complex strategies including multiple technical indicators.</li> <li>Program Representation: We represented trading strategies using genes corresponding to their strategy parameters.</li> <li>Evaluation: It's important to evaluate your model on unseen data to ensure it generalizes well and doesn't overfit the historical data.</li> </ul>"},{"location":"genetic_programming/#conclusion","title":"Conclusion","text":"<p>Utilizing genetic programming with the Ruby <code>darwinning</code> gem in financial settings requires careful consideration of genetic representation, fitness function design, and evaluation methodologies. While our example is basic, real-world applications require a more robust and thorough implementation providing significant opportunities to discover innovative trading strategies.</p> <p>Despite the basic example, real-world financial applications would need a much more robust and thorough implementation considering various factors like transaction costs, slippage, and more sophisticated financial metrics for performance evaluations. Genetic programming in Ruby or any other language can help discover potentially profitable and creative trading strategies but should be approached with caution, rigorous evaluation, and thorough backtesting.</p>"},{"location":"i_gotta_an_idea/","title":"Trading Ideas","text":""},{"location":"i_gotta_an_idea/#in-idea","title":"In Idea","text":"<p>... based upon my prior work with sports outcome predictions and sensor net architecture.</p>"},{"location":"i_gotta_an_idea/#conceptual-framework-for-financial-technical-analysis-and-future-position-prediction","title":"Conceptual Framework for Financial Technical Analysis and Future Position Prediction","text":""},{"location":"i_gotta_an_idea/#abstract","title":"Abstract","text":"<p>This paper proposes a novel approach to financial technical analysis and the prediction of future market positions by drawing upon a methodology previously applied in the assessment of professional football games. The core idea involves the development and application of a numerical rating system, similar to one created in the 1980s for evaluating the performance of football teams by analyzing the strengths and weaknesses of their offensive, defensive, and special teams' statistics. The aim of this approach is to extend the principles of this rating system to the evaluation of companies by examining their financial fundamentals and technical analysis metrics.</p>"},{"location":"i_gotta_an_idea/#introduction","title":"Introduction","text":"<p>In the realm of sports analytics, the creation of a power rating system transformed the evaluation of professional football games by quantifying the performance of teams based on a comprehensive analysis of their statistics. This methodology involved a comparative analysis between the offensive capabilities of one team against the defensive competencies of their opponents, in addition to assessing the performance of special teams. The derived power rating was instrumental in predicting the likelihood of a team to \"cover the points\" in a game, essentially forecasting game outcomes with a higher degree of accuracy.</p> <p>The proposed study seeks to adapt this successful analytical framework to the financial domain, specifically to the assessment of company performance and market position prediction. The adaptation involves considering company financial fundamentals and technical analysis indicators as analogous to the offensive, defensive, and special teams' statistics in football.</p>"},{"location":"i_gotta_an_idea/#methodology","title":"Methodology","text":"<p>The methodology encompasses the conceptualization of financial fundamental and technical analysis indicators as individual \"sensors,\" each attributed with a distinct reliability weight. This is inspired by prior work on sensor networks, where each sensor's input was weighted according to its reliability. Through historical analysis within 15-day windows, weights will be assigned to each \"sensor\" (i.e., financial indicator), determining its influence on buy, sell, or hold decisions.</p> <p>The study will explore multiple combinations of these weighted sensors to establish a comprehensive set of indicators. These indicators will cover various trading horizons, specifically 15, 30, 45, 60, 90, 120, 180, 240, and 360 trading days. The intent is to produce a versatile suite of both short-term and long-term indicators that can guide investment decisions.</p>"},{"location":"identify_wave_condition/","title":"Elliott Wave Theory","text":"<p>The Elliott Wave Theory is a popular method used in stock technical analysis to predict future price movements in financial markets. It is based on the idea that financial markets operate in repetitive cycles and patterns, driven by investor psychology.</p> <p>According to the Elliott Wave Theory, price movements in financial markets can be divided into a series of waves. These waves alternate between upward and downward movements, forming a pattern that can be used to make predictions about future price trends.</p> <p>The basic principles of the Elliott Wave Theory are as follows:</p> <ol> <li> <p>Impulse Waves: An impulse wave consists of five smaller waves moving in the direction of the overall trend. These five waves are labeled as 1, 2, 3, 4, and 5. Waves 1, 3, and 5 are upward waves, while waves 2 and 4 are corrective waves that move against the trend.</p> </li> <li> <p>Corrective Waves: Corrective waves move against the direction of the overall trend and are labeled as A, B, and C. Wave A is a downward movement, wave B is an upward correction, and wave C is a downward movement again.</p> </li> <li> <p>Elliott Wave Patterns: The Elliott Wave Theory identifies several patterns that can help in predicting future price movements. These patterns include impulse waves, diagonal triangles (rising or falling wedges), zigzag patterns, and more.</p> </li> </ol>"},{"location":"indicators/","title":"Technical Indicators Overview","text":""},{"location":"indicators/#the-philosophy-of-indicators","title":"The Philosophy of Indicators","text":"<p>An indicator is a formula/metric on a stock's historical activity. It is presumed to be a forecast as to what the stock activity might be in the future. A single indicator is not necessarily an accurate predictor of future events, nor is any specific group of indicators.</p> <p>In other words, the future is uncertain. Is it a coin flip? Heads the stock's price goes up. Tails, the stock's price goes down. It's one or the other, right? What if the price never changes? Then it's not a coin flip. Also what is the time frame involved in the forecast? Is it tomorrow, next week, next month, next year, next decade? What is the delta change in price that can be expected?</p> <p>So indicators are like TV weather forecasters. Sometimes they are right. Sometimes they are wrong.</p> <p>We are dealing with uncertainty. In uncertainty there is chaos. If it is possible to be right more times than you are wrong, you can make money. If you are always wrong, then always do the opposite and you will make money. When you are wrong more times than you are right... you lose.</p> <p>It's a game. Game theory tells us that there are winners and losers. Bookies at the track make money every day by taking a cut of the losers' losses before giving them to the winners. Bookies always win so long as they keep their books balanced. Accounts are important.</p>"},{"location":"indicators/#sqa-indicator-system","title":"SQA Indicator System","text":"<p>SQA provides access to 150+ technical indicators via the separate sqa-tai gem, which wraps the industry-standard TA-Lib library.</p>"},{"location":"indicators/#quick-start","title":"Quick Start","text":"<p>All indicators are available through the <code>SQAI</code> module:</p> <pre><code>require 'sqa'\n\n# Get price data\nstock = SQA::Stock.new(ticker: 'AAPL')\nprices = stock.df[\"adj_close_price\"].to_a\n\n# Calculate indicators\nsma = SQAI.sma(prices, period: 20)\nrsi = SQAI.rsi(prices, period: 14)\nmacd_line, signal_line, histogram = SQAI.macd(prices)\n\nputs \"20-day SMA: #{sma.last}\"\nputs \"14-day RSI: #{rsi.last}\"\nputs \"MACD: #{macd_line.last}\"\n</code></pre>"},{"location":"indicators/#indicator-categories","title":"Indicator Categories","text":"<ul> <li>Overlap Studies - SMA, EMA, WMA, DEMA, TEMA, Bollinger Bands</li> <li>Momentum Indicators - RSI, MACD, Stochastic, CCI, Williams %R, Momentum</li> <li>Volatility Indicators - ATR, NATR, True Range, Bollinger Bands</li> <li>Volume Indicators - OBV, AD, Chaikin Oscillator</li> <li>Pattern Recognition - Candlestick patterns, chart patterns</li> <li>And 100+ more...</li> </ul>"},{"location":"indicators/#full-indicator-list","title":"Full Indicator List","text":"<p>To see all available indicators:</p> <pre><code>SQAI.methods.grep(/^[a-z]/).sort\n</code></pre>"},{"location":"indicators/#documentation","title":"Documentation","text":"<p>For comprehensive indicator documentation, see:</p> <ul> <li>Technical Indicators Guide - Complete guide with examples</li> <li>sqa-tai Gem - Indicator library source code</li> <li>TA-Lib Documentation - Underlying C library reference</li> </ul>"},{"location":"indicators/#using-indicators-with-strategies","title":"Using Indicators with Strategies","text":"<p>Indicators are commonly used within trading strategies:</p> <pre><code>require 'sqa'\n\nSQA.init\n\n# Load stock data\nstock = SQA::Stock.new(ticker: 'AAPL')\ndf = stock.df\nprices = df[\"adj_close_price\"].to_a\n\n# Calculate indicators\nrsi = SQAI.rsi(prices, period: 14)\nsma_20 = SQAI.sma(prices, period: 20)\nsma_50 = SQAI.sma(prices, period: 50)\n\n# Build signal vector\nrequire 'ostruct'\nvector = OpenStruct.new(\n  rsi: rsi.last,\n  sma_20: sma_20.last,\n  sma_50: sma_50.last,\n  price: prices.last\n)\n\n# Execute strategy\nsignal = SQA::Strategy::RSI.trade(vector)\nputs \"Signal: #{signal}\"  # =&gt; :buy, :sell, or :hold\n</code></pre>"},{"location":"indicators/#related-documentation","title":"Related Documentation","text":"<ul> <li>DataFrame API - Working with price data</li> <li>Trading Strategies - Using indicators in strategies</li> <li>Backtesting - Testing indicator-based strategies</li> <li>Strategy Generator - Discovering indicator patterns</li> </ul>"},{"location":"indicators/#external-resources","title":"External Resources","text":"<ul> <li>TA-Lib Official Site - Technical Analysis Library</li> <li>Investopedia - Technical analysis education</li> <li>TradingView - Charting platform with indicators</li> </ul>"},{"location":"libsvm_file_format/","title":"libsvm File Format","text":"<p>This file format is used by rumale.</p> <p>We're choosing the \"Adj Close\" column as the one that we want to predict.</p> <p>The libsvm file format is simple.  All values are numberic.</p> <p>The first entry on a line is the thing that we want to predict.  In this case it is the adjusted closing price.  This is followed by a space.</p> <p>What follows is a series of data pairs seperated by spaces in the form:</p> <ul> <li>index:value</li> </ul> <p>where index is the column number and value is the value for that item.</p> <pre><code>require 'csv'\n\n# Read CSV file\ndata = CSV.read('input.csv', headers: true)\n\n# Open output file\noutput_file = File.open('output.txt', 'w')\n\n# Convert data into libsvm format and write to output file\ndata.each do |row|\n  # Get the label (the \"close\" value)\n  label = row['Adj Close']\n\n  # Start building the libsvm formatted line\n  libsvm_line = \"#{label} \"\n\n  # Add feature indices and values\n  row.each_with_index do |(column, value), index|\n    next if column == 'Date' || column == 'Adj Close' # Skip irrelevant columns\n    libsvm_line += \"#{index}:#{value} \"\n  end\n\n  # Write the libsvm formatted line to the output file\n  output_file.puts(libsvm_line)\nend\n\n# Close files\noutput_file.close\n</code></pre>"},{"location":"mean_reversion/","title":"Mean Reversion","text":"<p>Determines if a stock exhibits mean reversion behavior based on a given price series.</p> <p>Mean Reversion Strategies: Mean reversion strategies aim to capitalize on the tendency of prices to revert to their mean or average value. These strategies involve identifying overextended price movements and taking positions that anticipate a return to the mean.</p>"},{"location":"options/","title":"Options","text":"<p>https://www.youtube.com/watch?v=A5w-dEgIU1M</p>"},{"location":"options/#call-option","title":"Call Option","text":""},{"location":"options/#put-option","title":"Put Option","text":""},{"location":"predict_next_value/","title":"Predict Next Value","text":"<p>As a stock quantitative analyst, having a predict next value method on a timeseries array of closing day stock price data would be extremely helpful. This method would enable us to forecast the future values of stock prices based on historical data patterns.</p> <ul> <li> <p>Forecasting: The predict next value method would allow us to predict the future movement of stock prices. By analyzing trends and patterns in the historical data, we can estimate the potential direction and magnitude of future price movements. This forecast can help in making informed investment decisions and developing trading strategies.</p> </li> <li> <p>Risk Management: Predicting the next value in a timeseries array of stock prices can assist in assessing and managing risks. By having an idea of the potential future price movements, we can identify potential pitfalls and take appropriate measures to mitigate losses. This method would enable us to set stop loss orders or implement hedging strategies to protect our investments.</p> </li> <li> <p>Trading Strategies: A predict next value method would be invaluable in developing trading strategies. By accurately forecasting future stock price movements, we can identify profitable trading opportunities. For example, if the model predicts an uptrend, we may consider buying stocks, or if it predicts a downtrend, we may consider selling or shorting stocks. This method can help optimize entry and exit points, resulting in improved trading performance.</p> </li> <li> <p>Quantitative Analysis: As a quantitative analyst, this predictive method provides a quantitative approach to analyzing stock prices. By utilizing mathematical models and statistical techniques, we can determine the probability of various price scenarios. This adds rigor and objectivity to the analysis process, giving us a deeper understanding of the underlying data.</p> </li> <li> <p>Automation and Efficiency: Automating the predict next value method allows for efficient analysis of large datasets. Instead of manually analyzing each data point, the algorithm can quickly process the time series array of prices and generate predictions. This saves significant time and effort, allowing us to focus on interpreting and using the predictions for decision-making purposes.</p> </li> </ul> <p>In summary, having a predict next value method on a timeseries array of closing day stock price data would be an invaluable tool for a stock quantitative analyst. It would aid in forecasting, risk management, trading strategy development, quantitative analysis, and automation, ultimately enhancing the accuracy and efficiency of our analysis and decision-making processes.</p>"},{"location":"requirements/","title":"Requirements","text":"<p>... otherwise know as what I want to do.  Some people would call it a roadmap; but, where I'm going \"we don't need no stinking roads!\"</p> <p>Yes, test driven development (TDD) is important.  There is a place for TDD.  Its not in prototyping.  The prototype is used to figure out what the requirements are.  Once you have a prototype then you have requirements.  With requirements come contracts for APIs.  The contracts drive the test specifications which in turn drives the design.</p> <p>So what is it that I want to do?</p> <ul> <li>collect technical analysis indicators to apply to a stock or a set of stocks.</li> <li>define an abstraction for a stock</li> <li>evaluate different trading strategies.</li> <li>make billions on the sock market - if you have kids you know what the sock market is.</li> <li>play around with some interesting gems</li> <li>evaluate Ruby 3.3 YJIT against Crystal</li> <li>look at carious ways to support plugin components</li> <li>learn something about options trading in risk mitigation for security trades</li> </ul>"},{"location":"requirements/#making-this-thing-an-application-framework","title":"Making this thing an Application Framework","text":"<ul> <li> <p>using ActiveRecord with initial models of Stock, Portfolio and Activity</p> <ul> <li>Portfolio has many stocks with FK: ticker</li> <li>Sotkc has many activities with FK: ticker</li> <li>Activity has unique constraint on (ticker, date)</li> </ul> </li> <li> <p>using gem csv_importer to bring in data to load into the various tables</p> </li> <li>using sqlite3 because I have limited resources for rdbms</li> </ul>"},{"location":"requirements/#financeyahoocom-api","title":"finance.yahoo.com API","text":"<p>v7 is used to download historical data as CSV.  It requires a cookie.</p> <p>v8 gets some company info and stock prices in JSON. It might require a cookie as well</p> <p>Most reliable way of getting data is the scrape the website.  The gem financial_data_pull attempts to do it but it is too old.</p>"},{"location":"requirements/#extract-indicators","title":"Extract Indicators","text":"<p>After sleeping on it, I think the original plan with the fin_tech gem is a better idea for how to package the indicators.  I'm going to keep the name FinTech for now while I think of something better.  These are indicators; but I want them to be class-level methods with established contracts in their API.</p> <p>The indicators in lib/sqa/indicator are stand-alone class methods; but, its so handy to have them in this repo.  I will keep them here for a while</p>"},{"location":"requirements/#configuration","title":"Configuration","text":"<p>SQA::Config is managed by the gem \"mixlib-config\"  See the gem for full documentation.</p> <p>The TL;DR is:</p> <pre><code>require 'sqa'\n# read a configuration file in yaml, toml, json, ruby\n# or just accept the defaults\nSQA::Config.from_file(path_to_file)\n\n# Initialize the environment\nSQA.init\n</code></pre>"},{"location":"requirements/#strategy-framework","title":"Strategy Framework","text":"<p>Got the first ideas for handling strategies. in place.</p>"},{"location":"strategy/","title":"Strategy Framework","text":"<p>A comprehensive guide to SQA's trading strategy architecture.</p>"},{"location":"strategy/#overview","title":"Overview","text":"<p>A strategy in SQA is a set of rules that analyze technical indicators and market data to generate trading signals. The <code>SQA::Strategy</code> class provides the framework for managing and executing multiple strategies.</p>"},{"location":"strategy/#architecture","title":"Architecture","text":""},{"location":"strategy/#the-strategy-pattern","title":"The Strategy Pattern","text":"<p>All SQA strategies follow a common interface:</p> <pre><code>class SQA::Strategy::YourStrategy\n  def self.trade(vector)\n    # Analyze the vector (OpenStruct with indicator data)\n    # Return :buy, :sell, or :hold\n  end\nend\n</code></pre>"},{"location":"strategy/#the-vector","title":"The Vector","text":"<p>The vector is an <code>OpenStruct</code> containing all the data a strategy needs to make a decision:</p> <pre><code>require 'ostruct'\n\nvector = OpenStruct.new(\n  rsi: { trend: :over_sold, value: 28.5 },\n  macd: { crossover: :bullish, histogram: 0.5 },\n  prices: prices_array,\n  sma_20: sma_20.last,\n  sma_50: sma_50.last\n)\n</code></pre>"},{"location":"strategy/#using-the-strategy-framework","title":"Using the Strategy Framework","text":""},{"location":"strategy/#managing-multiple-strategies","title":"Managing Multiple Strategies","text":"<pre><code># Create a strategy manager\nstrategy = SQA::Strategy.new\n\n# Add strategies\nstrategy.add SQA::Strategy::RSI\nstrategy.add SQA::Strategy::MACD\nstrategy.add SQA::Strategy::BollingerBands\n\n# Execute all strategies\nsignals = strategy.execute(vector)\n# =&gt; [:buy, :hold, :sell]\n\n# Count votes for consensus\nbuy_votes = signals.count(:buy)\nsell_votes = signals.count(:sell)\n</code></pre>"},{"location":"strategy/#auto-loading-strategies","title":"Auto-Loading Strategies","text":"<pre><code># Load all built-in strategies\nstrategy = SQA::Strategy.new\nstrategy.auto_load\n\n# Load specific strategies only\nstrategy.auto_load(only: [:rsi, :macd])\n\n# Load all except certain strategies\nstrategy.auto_load(except: [:random, :common])\n</code></pre>"},{"location":"strategy/#listing-available-strategies","title":"Listing Available Strategies","text":"<pre><code>strategy = SQA::Strategy.new\navailable = strategy.available\n# =&gt; [SQA::Strategy::RSI, SQA::Strategy::MACD, ...]\n</code></pre>"},{"location":"strategy/#built-in-strategies","title":"Built-in Strategies","text":"<p>SQA includes 13+ built-in trading strategies:</p>"},{"location":"strategy/#trend-following","title":"Trend-Following","text":"Strategy Description Best For SMA Simple Moving Average crossovers Trending markets EMA Exponential Moving Average crossovers Faster trend detection MACD Moving Average Convergence Divergence Momentum + trend"},{"location":"strategy/#momentum","title":"Momentum","text":"Strategy Description Best For RSI Relative Strength Index (oversold/overbought) Range-bound markets Stochastic Stochastic oscillator crossovers Short-term reversals"},{"location":"strategy/#volatility","title":"Volatility","text":"Strategy Description Best For Bollinger Bands Price touching volatility bands Volatile markets Volume Breakout High volume price breakouts Breakout trading"},{"location":"strategy/#advanced","title":"Advanced","text":"Strategy Description Best For KBS Knowledge-Based System with RETE engine Complex rule combinations Consensus Aggregates multiple strategy signals Reducing noise Mean Reversion Statistical mean reversion Range-bound markets"},{"location":"strategy/#creating-custom-strategies","title":"Creating Custom Strategies","text":""},{"location":"strategy/#basic-template","title":"Basic Template","text":"<pre><code># lib/my_strategies/awesome_strategy.rb\n\nclass SQA::Strategy::AwesomeStrategy\n  def self.trade(vector)\n    # Your trading logic here\n    if buy_condition?(vector)\n      :buy\n    elsif sell_condition?(vector)\n      :sell\n    else\n      :hold\n    end\n  end\n\n  private\n\n  def self.buy_condition?(vector)\n    vector.rsi[:value] &lt; 30 &amp;&amp;\n    vector.macd[:crossover] == :bullish\n  end\n\n  def self.sell_condition?(vector)\n    vector.rsi[:value] &gt; 70 &amp;&amp;\n    vector.macd[:crossover] == :bearish\n  end\nend\n</code></pre>"},{"location":"strategy/#using-your-strategy","title":"Using Your Strategy","text":"<pre><code>require_relative 'my_strategies/awesome_strategy'\n\n# Execute directly\nsignal = SQA::Strategy::AwesomeStrategy.trade(vector)\n\n# Or add to strategy manager\nstrategy = SQA::Strategy.new\nstrategy.add SQA::Strategy::AwesomeStrategy\n</code></pre>"},{"location":"strategy/#strategy-with-configuration","title":"Strategy with Configuration","text":"<pre><code>class SQA::Strategy::ConfigurableRSI\n  @oversold_threshold = 30\n  @overbought_threshold = 70\n\n  class &lt;&lt; self\n    attr_accessor :oversold_threshold, :overbought_threshold\n\n    def trade(vector)\n      rsi_value = vector.rsi[:value] || vector.rsi\n\n      if rsi_value &lt; oversold_threshold\n        :buy\n      elsif rsi_value &gt; overbought_threshold\n        :sell\n      else\n        :hold\n      end\n    end\n  end\nend\n\n# Configure before using\nSQA::Strategy::ConfigurableRSI.oversold_threshold = 25\nSQA::Strategy::ConfigurableRSI.overbought_threshold = 75\n</code></pre>"},{"location":"strategy/#combining-strategies","title":"Combining Strategies","text":""},{"location":"strategy/#consensus-strategy","title":"Consensus Strategy","text":"<p>The built-in Consensus strategy aggregates signals from multiple strategies:</p> <pre><code># Simple majority vote\nsignals = strategy.execute(vector)\n# =&gt; [:buy, :buy, :hold, :sell]\n\nconsensus = signals.group_by(&amp;:itself)\n                   .transform_values(&amp;:count)\n                   .max_by { |_, v| v }\n                   .first\n# =&gt; :buy (2 votes vs 1 each for hold/sell)\n</code></pre>"},{"location":"strategy/#weighted-voting","title":"Weighted Voting","text":"<pre><code># Assign weights to strategies\nweights = {\n  SQA::Strategy::RSI =&gt; 2.0,      # RSI gets double weight\n  SQA::Strategy::MACD =&gt; 1.5,     # MACD gets 1.5x weight\n  SQA::Strategy::SMA =&gt; 1.0       # SMA gets normal weight\n}\n\n# Calculate weighted consensus\nweighted_votes = { buy: 0.0, sell: 0.0, hold: 0.0 }\nsignals.each_with_index do |signal, i|\n  weight = weights.values[i]\n  weighted_votes[signal] += weight\nend\n\nfinal_signal = weighted_votes.max_by { |_, v| v }.first\n</code></pre>"},{"location":"strategy/#testing-strategies","title":"Testing Strategies","text":""},{"location":"strategy/#unit-testing","title":"Unit Testing","text":"<pre><code># test/strategy/awesome_strategy_test.rb\nrequire 'minitest/autorun'\nrequire 'ostruct'\n\nclass AwesomeStrategyTest &lt; Minitest::Test\n  def test_buy_signal_on_oversold\n    vector = OpenStruct.new(\n      rsi: { value: 25, trend: :over_sold },\n      macd: { crossover: :bullish }\n    )\n\n    assert_equal :buy, SQA::Strategy::AwesomeStrategy.trade(vector)\n  end\n\n  def test_sell_signal_on_overbought\n    vector = OpenStruct.new(\n      rsi: { value: 75, trend: :over_bought },\n      macd: { crossover: :bearish }\n    )\n\n    assert_equal :sell, SQA::Strategy::AwesomeStrategy.trade(vector)\n  end\nend\n</code></pre>"},{"location":"strategy/#backtesting","title":"Backtesting","text":"<pre><code>backtest = SQA::Backtest.new(\n  stock: stock,\n  strategy: SQA::Strategy::AwesomeStrategy,\n  initial_cash: 10_000\n)\n\nresults = backtest.run\nputs \"Return: #{results.total_return}%\"\nputs \"Sharpe: #{results.sharpe_ratio}\"\n</code></pre>"},{"location":"strategy/#strategy-internals","title":"Strategy Internals","text":""},{"location":"strategy/#how-strategies-process-data","title":"How Strategies Process Data","text":"<ol> <li>Data Preparation: Raw price data is converted to indicators</li> <li>Vector Creation: Indicators are packaged into an OpenStruct</li> <li>Strategy Execution: Each strategy analyzes the vector</li> <li>Signal Generation: Strategy returns <code>:buy</code>, <code>:sell</code>, or <code>:hold</code></li> <li>Aggregation: Signals can be combined for consensus</li> </ol>"},{"location":"strategy/#data-ordering","title":"Data Ordering","text":"<p>All indicator data in SQA follows ascending chronological order (oldest first):</p> <pre><code># prices[0] = oldest price\n# prices[-1] = most recent price\n\nprices = stock.df[\"adj_close_price\"].to_a\nrsi = SQAI.rsi(prices, period: 14)\n\n# rsi.last is the most recent RSI value\ncurrent_rsi = rsi.last\n</code></pre>"},{"location":"strategy/#best-practices","title":"Best Practices","text":""},{"location":"strategy/#1-keep-strategies-simple","title":"1. Keep Strategies Simple","text":"<pre><code># GOOD: Clear, single-purpose logic\ndef self.trade(vector)\n  vector.rsi[:value] &lt; 30 ? :buy : :hold\nend\n\n# BAD: Complex nested conditions\ndef self.trade(vector)\n  if vector.rsi[:value] &lt; 30\n    if vector.macd[:histogram] &gt; 0\n      if vector.volume &gt; vector.avg_volume * 1.5\n        # ... more nesting ...\n      end\n    end\n  end\nend\n</code></pre>"},{"location":"strategy/#2-use-named-parameters-in-vectors","title":"2. Use Named Parameters in Vectors","text":"<pre><code># GOOD: Self-documenting\nvector = OpenStruct.new(\n  rsi_value: rsi.last,\n  rsi_trend: rsi.last &lt; 30 ? :oversold : :neutral,\n  sma_20: sma_20.last,\n  sma_50: sma_50.last\n)\n\n# BAD: Magic numbers\nvector = OpenStruct.new(\n  val1: 28.5,\n  val2: 150.0,\n  val3: 148.0\n)\n</code></pre>"},{"location":"strategy/#3-handle-edge-cases","title":"3. Handle Edge Cases","text":"<pre><code>def self.trade(vector)\n  return :hold if vector.rsi.nil?\n  return :hold if vector.prices.empty?\n\n  # Main logic here\nend\n</code></pre>"},{"location":"strategy/#4-document-your-strategy","title":"4. Document Your Strategy","text":"<pre><code># Dual Moving Average Crossover Strategy\n#\n# Generates buy signals when short MA crosses above long MA,\n# sell signals when short MA crosses below long MA.\n#\n# Parameters:\n#   vector.sma_short - Short-term SMA (e.g., 20-day)\n#   vector.sma_long - Long-term SMA (e.g., 50-day)\n#\n# Returns:\n#   :buy - Short MA &gt; Long MA (bullish crossover)\n#   :sell - Short MA &lt; Long MA (bearish crossover)\n#   :hold - No clear signal\n#\nclass SQA::Strategy::DualMA\n  def self.trade(vector)\n    # ...\n  end\nend\n</code></pre>"},{"location":"strategy/#related-documentation","title":"Related Documentation","text":"<ul> <li>Trading Strategies Reference - Details on each built-in strategy</li> <li>Custom Strategies - Guide to creating your own</li> <li>Backtesting - Test strategies on historical data</li> <li>Technical Indicators - Calculate indicator values</li> </ul>"},{"location":"tags/","title":"Documentation Tags","text":"<p>Browse documentation by topic.</p>"},{"location":"tags/#tags","title":"Tags","text":"<p>This page will be automatically populated with tags from the documentation.</p>"},{"location":"terms_of_use/","title":"Terms of Use, Policies and Disclaimers","text":"<p>Some sections of these Terms of Use are aspirational.  If found to be so, they shall not invalidate any other section which shall remain in full force.</p> <p>Your affirmative act of using our Ruby Gem (\"library\") located at https://github.com/MadBomber/sqa (and all associated sites) or services (\"SQA\") signifies that you agree to the following terms and conditions of use (\"Terms of Use\"). If you do not agree, do not use SQA. SQA is the property of its author (\"us\", \"we\" or \"our\").</p> <p>SQA may update these Terms of Use at any time</p>"},{"location":"terms_of_use/#table-of-contents","title":"Table of Contents","text":"<ul> <li>1. Changes to the terms of use</li> <li>2. Changes to SQA</li> <li>3. Ownership of information; License to use SQA; redistribution of data</li> <li>4. Attribution</li> <li>5. Third party sites and advertisers</li> <li>6. Disclaimer regarding content</li> <li>7. Disclaimer regarding investment decisions and trading</li> <li>8. Disclaimer regarding hypothetical performance results</li> <li>9. Registered users</li> <li>10. Non-Professional subscriber status</li> <li>11. Derived Data</li> <li>12. Access and security</li> <li>13. Payment and cancellation of service</li> <li>14. Apple App Store subscriptions</li> <li>15. Android app subscriptions</li> <li>16. Feedback to SQA</li> <li>17. Indemnity</li> <li>18. Termination</li> <li>19. Emails</li> <li>20. House rules</li> <li>21. Third Party Software</li> <li>22. Scripts</li> <li>23. Publications - No Recommendation or Advice Status</li> </ul>"},{"location":"terms_of_use/#1-changes-to-the-terms-of-use","title":"1. Changes to the terms of use","text":"<p>We may change these Terms of Use at any time. If you continue to use SQA after we post changes to these Terms of Use, you are signifying your acceptance of the new terms. You will always have access to our Terms of Use and will be able to check it at any time. By reloading this page, you will have the most up-to-date version available to SQA users.</p>"},{"location":"terms_of_use/#2-changes-to-sqa","title":"2. Changes to SQA","text":"<p>We may discontinue or change any service or feature of SQA at any time without notice. We do not guarantee backward compatibility of our services and Application Programming Interface (API) in this case.</p>"},{"location":"terms_of_use/#3-ownership-of-information-license-to-use-sqa-redistribution-of-data","title":"3. Ownership of information; License to use SQA; redistribution of data","text":"<p>Unless otherwise noted, all rights, titles, and interests in SQA, and all information made available through SQA or our services, in all languages, formats, and media throughout the world, including, but not limited to, all copyrights and trademarks therein, are the exclusive property of SQA, our affiliates or our Data Providers, as defined in section 6 (disclaimer regarding content) below.</p> <p>The content on the SQA platform, including market data and other information, is made available for display purposes only within the website's or mobile app's user interface. Our licensing arrangements with Data Providers do not permit the downloading, sublicensing, assigning, transferring, selling, loaning, or distribution of SQA content for payment without obtaining prior written consent from SQA. Users are required to respect these terms, as they are designed to protect the interests of SQA, its data providers, and its user community, ensuring a secure and reliable platform for all.</p> <p>Breaching these requirements may result in serious consequences, including the blocking of the user or visitor, termination of their account, and potential penalties. SQA also reserves the right to take appropriate legal actions against users found to be in violation of these terms, in order to protect the platform's integrity and the interests of its data providers and user community.</p> <p>Except as otherwise expressly permitted by the preceding paragraphs, you agree not to sell any of the services or materials in any manner or for any purposes, without the prior expressed written consent of SQA and/or our Data Providers. In addition, you shall not, without the prior expressed written consent of SQA and the relevant Data Providers, make copies of any of the software or documentation that may be provided, electronically or otherwise, including, but not limited to, translating, decompiling, disassembling or creating derivative works.</p> <p>Except as otherwise expressly permitted by additional agreement, we do not permit commercial usage of any of our services or APIs. We make no warranty and assume no obligation or liability for third party services or software. Please see section 21 (third party software) below for further information.</p> <p>For additional information on commercial and partnership inquiries with us, please see the Contacts page.</p>"},{"location":"terms_of_use/#4-attribution","title":"4. Attribution","text":"<p>SQA grants all users of SQA, and all other available versions of the site, to use snapshots of SQA charts in analysis, press releases, books, articles, blog posts and other publications. In addition, SQA grants the use of all previously mentioned materials in education sessions, the display of SQA charts during video broadcasts, which includes overviews, news, analytics and otherwise use or promote SQA charts or any products from the SQA website on the condition that SQA attribution is clearly visible at all times when such charts and products are used.</p> <p>Attribution must include a reference to SQA, including, but not limited to, those described herein.</p> <p>Use of SQA charts during video or other promotions where SQA attribution is not visible, must include a description of the product used therein. For instance: \"Charting platform used for this analysis is provided by SQA,\" or simply \"Charts by SQA.\" Font size should not be less than 10 PT = 13PX = 3.4MM.</p> <p>You can use the \"Snapshot\" button in the top toolbar of the chart to instantly create a picture file of your current chart. SQA will automatically take a snapshot with all required attributions and provide a link where you can view your chart, download it or share it. The use of any SQA products outside the SQA website, without a proper attribution of SQA, is not allowed. This extends to any tools (such as widgets) obtained on the SQA website and utilized on the outside resources, where attribution should remain as was originally designed and intended. Users who disobey this attribution rule herein may be banned permanently, and other legal actions may be taken to ensure compliance. This includes, but is not limited to, cease-and-desist warnings, court orders, injunctions, fines, damages relief, and so on.</p>"},{"location":"terms_of_use/#5-third-party-sites-and-advertisers","title":"5. Third party sites and advertisers","text":"<p>SQA may include links to third party websites. Some of these sites may contain materials that are objectionable, unlawful, or inaccurate. You agree that SQA shall not be held liable for any trading activities or other activities that occur on any website you access through links on SQA. We provide these links as a convenience, and do not endorse the content or services offered by these other sites. Any dealings that you have with advertisers found on SQA are between you and the advertiser and you acknowledge and agree that we are not liable for any loss or claim you may have against an advertiser.</p> <p>Unauthorized soliciting on SQA is strictly prohibited and may result in penalties, including, but not limited to, temporary or permanent bans of the account found in violation, and any appropriate and available legal action for monetary and other damages.</p>"},{"location":"terms_of_use/#6-disclaimer-regarding-content","title":"6. Disclaimer regarding content","text":"<p>SQA cannot and does not represent or guarantee that any of the information available through our services or in SQA is accurate, reliable, current, complete or appropriate for your needs. Various information available through our services or on SQA may be specially obtained by SQA from professional businesses or organizations, such as exchanges, news providers, market data providers and other content providers (e.g. Cboe One and possibly other established financial exchanges such as the New York Stock Exchange, NASDAQ, New York Mercantile Exchange and Dow Jones), who are believed to be sources of reliable information (collectively, the \"Data Providers\"). Nevertheless, due to various factors \u2014 including the inherent possibility of human and mechanical error \u2014 the accuracy, completeness, timeliness, results obtained from use, and correct sequencing of information available through our services and website are not and cannot be guaranteed by SQA. We make no warranty and assume no obligation or liability for scripts, indicators, ideas and other content of third parties. Your use of any third-party scripts, indicators, ideas and other content is at your sole risk.</p>"},{"location":"terms_of_use/#7-disclaimer-regarding-investment-decisions-and-trading","title":"7. Disclaimer regarding investment decisions and trading","text":"<p>Decisions to buy, sell, hold or trade in securities, commodities and other investments involve risk and are best made based on the advice of qualified financial professionals. Any trading in securities or other investments involves a risk of substantial losses. The practice of \"Day Trading\" involves particularly high risks and can cause you to lose substantial sums of money. Before undertaking any trading program, you should consult a qualified financial professional. Please consider carefully whether such trading is suitable for you in light of your financial condition and ability to bear financial risks. Under no circumstances shall we be liable for any loss or damage you or anyone else incurs as a result of any trading or investment activity that you or anyone else engages in based on any information or material you receive through SQA or our services.</p>"},{"location":"terms_of_use/#8-disclaimer-regarding-hypothetical-performance-results","title":"8. Disclaimer regarding hypothetical performance results","text":"<p>Hypothetical performance results have many inherent limitations, some of which are mentioned below. No representation is being made that any account will or is likely to achieve profits or losses similar to those shown. In fact, there are frequently sharp differences between hypothetical performance results and actual results subsequently achieved by any particular trading program.</p> <p>One of the limitations of hypothetical performance results is that they are generally prepared with the benefit of hindsight. In addition, hypothetical trading does not involve financial risk and no hypothetical trading record can completely account for the impact of financial risk in actual trading. For example the ability to withstand losses or to adhere to a particular trading program in spite of the trading losses are material points, which can also adversely affect trading results. There are numerous other factors related to the market in general or to the implementation of any specific trading program which cannot be fully accounted for in the preparation of hypothetical performance results and all of which can adversely affect actual trading results.</p>"},{"location":"terms_of_use/#9-registered-users","title":"9. Registered users","text":"<p>Certain services, such as saving charts, publishing them or the ability to comment on published charts, are available only to registered users of the SQA website and require you to sign in with a username and password to use them. If you register as a user (a \"Subscriber\") of any of the features of SQA, during the registration process you may be prompted to click \"Register Now\", \"Submit\" or a similar button; your clicking on such button will further confirm your agreement to be legally bound by these Terms of Use.</p> <p>In consideration of your use of SQA, you represent that you are of legal age to form a binding contract and are not a person barred from receiving SQA services under the laws of the United States or other applicable jurisdiction. You also agree to: (a) provide true, accurate, current and complete information about yourself as prompted by the SQA's registration form (the \"Registration Data\") and (b) maintain and promptly update the Registration Data to keep it true, accurate, current and complete. If you provide any information that is untrue, inaccurate, not current or incomplete, or SQA has reasonable grounds to suspect that such information is untrue, inaccurate, not current or incomplete, SQA has the right to suspend or terminate your account and refuse any and all current or future use of the SQA services (or any portion thereof).</p> <p>You represent and warrant that you have all intellectual property rights, including all necessary patent, trademark, trade secret, copyright or other proprietary rights, in and to your content. If you use third-party materials, you represent and warrant that you have the right to distribute third-party material in the content. You agree that you will not submit material that is copyrighted, protected by trade secret or otherwise subject to third party proprietary rights, including patent, privacy and publicity rights, unless you are the owner of such rights or have permission from their rightful owner to submit the material.</p> <p>We may remove your content without notice if we reasonably believe that you're in violation of our Terms of Use.</p>"},{"location":"terms_of_use/#10-non-professional-subscriber-status","title":"10. Non-Professional subscriber status","text":"<p>As a vendor of official real-time market data from exchanges (e.g. Nasdaq) for end users, we are required to identify the status of any Subscriber. If you are ordering a subscription for market data on SQA as the 'Non-Professional', you confirm the following:</p> <ul> <li>You use market data solely for personal use, not for your business or any other entity.</li> <li>You are not registered or qualified with the Securities Exchange Commission (SEC) or the Commodities Futures Trading Commission (CFTC).</li> <li>You are not registered or qualified with any securities agency, any securities exchange, association or regulatory body in any country.</li> <li>You do not perform any functions that are similar to those that require an individual to register or qualify with the SEC, the CFTC, any other securities agency, any securities exchange, or association or regulatory body, or any commodities or futures contract market, or association or regulatory body.</li> <li>You are not engaged as an investment advisor (as that term is defined in Section 202 (a) (11) of the Investment Advisor's Act of 1940) or asset manager and you are not engaged to provide investment advice to any individual or entity.</li> <li>You are not subscribing to the service in your capacity as a principal, officer, partner, employee, or agent of any business or on behalf of any other individual.</li> <li>You use your own capital, not provided by any other individual or entity in the conduct of your trading.</li> <li>You do not conduct trading for the benefit of a corporation, partnership, or other entity.</li> <li>You have not entered into any agreement to share the profit of your trading activities or receive compensation for your trading activities.</li> <li>You are not receiving office space, and equipment or other benefits in exchange for your trading or work as a financial consultant to any person, firm or business entity.</li> </ul> <p>Should we, or our exchange partners, determine \u2014 based on the information provided and / or companies websites, email address and domain, LinkedIn, regulatory or company registries, payment method \u2014 that you actually meet the criteria for a 'Professional' status at any point during or after subscribing to SQA or to market data from exchanges, you will be liable for the difference between the 'Non-Professional' and 'Professional' subscription rates for both SQA subscription and relevant market data. This applies retroactively from the date you initiated your subscription. Furthermore, we reserve the right to automatically invoice you for this difference and charge the associated amount to your on-file payment method.</p>"},{"location":"terms_of_use/#11-derived-data","title":"11. Derived Data","text":"<p>Our proprietary derivation consumes raw market data and executes a 2-factor derivation process to produce the displayed price, later consumed by the price engine. Derived market data is sourced and supplied from various sources and can therefore be blended.</p> <p>The derivation process involves changing the raw price by a factor determined by the volume of trading on the underlying market, a randomized variable and a maximum offset amount. The derived data price is only ever displayed to our non-professional clients, the derived data price then being the proprietary value of an organization.</p> <p>At no point is raw data accessible by any client, nor can said data be reverse-engineered in any manner. All markets are passed through the same derivation engine.</p>"},{"location":"terms_of_use/#12-access-and-security","title":"12. Access and security","text":"<p>You accept responsibility for the confidentiality and use of any username and email address that use to register for your access to and use of our services. You are responsible for maintaining the confidentiality of your password and account and are fully responsible for all activities that occur under your password or account. You agree to (a) immediately notify SQA of any unauthorized use of your password or account or any other breach of security, and (b) ensure that you exit from your account at the end of each session. SQA cannot and will not be liable for any loss or damage arising from your failure to comply.</p> <p>SQA considers private information on the site (source code of protected or invite-only scripts, etc.) to be confidential to you. SQA protects such private information from unauthorized use, access, or disclosure in the same manner that it protects personal data (please refer to our Privacy Policy for more information).</p>"},{"location":"terms_of_use/#13-payment-and-cancellation-of-service","title":"13. Payment and cancellation of service","text":"<p>By ordering any subscription on www.SQA.com (including a free trial period) you confirm that you have read and accepted our Terms of Use and you authorize SQA to automatically charge your bank card or PayPal account according to the billing period manually selected by you.</p> <p>Each user can try selected paid plans for 30 days free of charge. If the trial is not cancelled before its expiration date, it automatically converts to a monthly or annual paid plan depending on user\u2019s choice. There are no refunds for monthly plans, even if the subscription is canceled on the same day as the autoconversion payment has gone through. Refunds are available only after an automatic deduction for annual payments (i.e. after trial and after renewal) within 14 calendar days after the payment was made. Please note that users who filed a chargeback/dispute request or a claim are not eligible for a refund. Essential, Plus and Premium subscriptions automatically include market data that is available without additional per-user fees only. You can see which markets are available for free and which need to be purchased separately on the SQA GoPro page. A cancelled trial and associated services will stop immediately after cancellation, except for any data packages that were purchased.</p> <p>The service is billed in advance on a monthly, annual, or 2-year basis. There will be no refunds or credits for partial months of service, or refunds for months unused with an open user account. If auto renewal fails for an annual plan you will automatically be switched to a monthly plan.</p> <p>All billing is recurring, which means you will continue to get billed until you cancel your subscription. You are solely responsible for properly canceling your SQA subscription. An email request or support ticket asking for your subscription to be cancelled is not considered cancellation. You may cancel your subscription at any time by visiting the billing section of your Profile Settings page.</p> <p>If you cancel the service before the end of your current paid up period, your subscription will remain active until the next due date. After the due date, if no payment received, your subscription will be stopped. We do not offer refunds for initial payments. If you order the service for the first time, please make sure that the order is correct before the payment is made.</p> <p>We do not offer refunds for recurring monthly payments. If you have been billed for automatic monthly renewal of the Service, you can cancel the subscription to avoid billing for next months.</p> <p>We do not offer refunds for upgrades to a more expensive plan or a longer billing cycle. Remaining days are converted into an equivalent value of days on the new subscription.</p> <p>We offer refunds for recurring annual and 2-year payments on demand. If you have been billed for automatic annual and 2-year renewal of the service, you have 14 calendar days (after the payment was made) to contact our support team. If you don't do this, SQA assumes that renewal of the service is expected and the payment will not be refunded.</p> <p>Refunds are available only after an automatic deduction for annual payments (i.e. after trial and after renewal) within 14 calendar days after the payment was made. Our moderators are official SQA representatives, with the authority to warn or ban users (including those with a paid subscription) when they do not abide by the House Rules. We do not offer refunds in case you are banned from publishing content and interacting with others because your paid subscription and all of its data and/or features are still available during any such ban.</p> <p>SQA is registered for tax purposes in Australia, Canada, Colombia, EU states, Japan, India, Indonesia, Iceland, Liechtenstein, Malaysia, Mexico, New Zealand, Norway, Saudi Arabia, Singapore, South Africa, South Korea, Switzerland, Taiwan, Thailand, Turkey, United Arab Emirates, United Kingdom, Vietnam, certain US states and cities.</p> <p>SQA may use local subsidiaries or other entities to collect payments in certain geographies. However, all payments will be processed and managed by SQA, and the service will be provided by SQA, Inc., regardless of which entity collects the payment.</p>"},{"location":"terms_of_use/#14-apple-app-store-subscriptions","title":"14. Apple App Store subscriptions","text":"<p>Payments will be charged to the user's Apple ID Account at confirmation of purchase in compliance with Apple's privacy policy. We recommend that you familiarize yourself with the terms of payment and Apple in-app subscriptions. If a purchase is made from our iOS app, the refund is only possible in compliance with the App Store policy.</p> <p>SQA offers a trial period. It is only possible to use the trial period once. Subscription payment begins after the end of your free trial period.</p> <p>All subscription types are renewed automatically. You can cancel the renewal option in the App Store within at least 24 hours before the end of your free trial period or the current payment date. The cancellation comes into effect at the end of the current billing period. At the same time, you retain access to the subscription from the cancellation moment until the end of the current billing period.</p> <p>Accounts may be charged for renewal up to 24 hours before the end of the current period.</p> <p>Rates offered in mobile stores and on the web-based platform might differ. Mobile stores offer subscriptions based on two billing cycles: annual and monthly.</p>"},{"location":"terms_of_use/#15-android-app-subscriptions","title":"15. Android app subscriptions","text":"<p>Financial transactions for subscriptions made in our Android app processed by a third-party service (Google Play) in compliance with their terms of use, privacy policy and any applicable payment terms, in particular the response on Google Play refunds. SQA is not responsible for the actions or omissions of any third-party payment processor. We recommend that you familiarize yourself with the terms of payment and Google Play in-app subscriptions. If a purchase is made from our Android app, the refund is only possible in compliance with Google Play policy.</p> <p>SQA offers a trial period. It is only possible to use the trial period once. Subscription payment begins after the end of your free trial period. All subscription types are renewed automatically. You can cancel the renewal option in Google Play within at least 24 hours before the end of your free trial period or the current payment date. The cancellation comes into effect at the end of the current billing period. At the same time, you retain access to the subscription from the cancellation moment until the end of the current billing period.</p> <p>The payment is made according to the payment method that is linked to the user's account in Google Play. The subscription is made according to Google Play Account choice, which does not necessarily conform with the Google Account used to log in to the application.</p> <p>Rates offered in mobile stores and on the web-based platform might differ. Mobile stores offer subscriptions based on two billing cycles: annual and monthly.</p>"},{"location":"terms_of_use/#16-feedback-to-sqa","title":"16. Feedback to SQA","text":"<p>By submitting ideas, content, suggestions, documents, and/or proposals (\"Contributions\") to SQA through our contact or feedback processes, you acknowledge and agree that: (a) your Contributions do not contain confidential or proprietary information; (b) SQA is not under any obligation of confidentiality, expressed or implied, with respect to the Contributions; \u00a9 SQA shall be entitled to use or disclose (or choose not to use or disclose) such Contributions for any purpose, in any way, in any media worldwide; (d) SQA may have something similar to the Contributions already under consideration or in development; (e) your Contributions automatically become the property of SQA, without any obligation of SQA to you; and (f) you are not entitled to any compensation or reimbursement of any kind from SQA under any circumstances.</p>"},{"location":"terms_of_use/#17-indemnity","title":"17. Indemnity","text":"<p>You agree to indemnify and hold SQA and our subsidiaries, affiliates, officers, agents, employees, partners and licensors harmless from any claim or demand, including reasonable attorneys' fees, made by any third party due to or arising out of content you submit, post, transmit, modify or otherwise make available through the SQA services, your use of the SQA services, your connection to the SQA services, your violation of the Terms of Use, or your violation of any rights of another.</p>"},{"location":"terms_of_use/#18-termination","title":"18. Termination","text":"<p>Upon your request, your account can be deleted from SQA. You may delete your account at any time by visiting your Profile Settings page. If you requested your account be deleted, we will delete the personal data associated with your account, however certain personal data will be retained if it has been integrated into data that is integral to our systems and site, including data in communications you have sent via our site. This data is necessarily retained for the integrity of the data on the site and our legitimate business purposes, including auditing, security and other legitimate interests (please refer to our Privacy Policy for more information). Your published Contributions will remain on the site in our discretion. Once a Contribution has been published, it becomes part of the communal trading knowledge and should stay that way. This policy prevents users from keeping only their best ideas public, thus keeping everyone honest and maintaining public confidence in the reputation and integrity of the site.</p> <p>You agree that SQA may, without prior notice, immediately terminate, limit your access to or suspend your SQA account, any associated email address, and access to the SQA services. Cause for such termination, limitation of access or suspension shall include, but not be limited to, (a) breaches or violations of the Terms of Use or other incorporated agreements or guidelines, (b)requests by law enforcement or other government agencies, \u00a9 discontinuance or material modification to the SQA services (or any part thereof), (d) unexpected technical or security issues or problems, (e) extended periods of inactivity, (f) and/or engagement by you in fraudulent or illegal activities. Further, you agree that all terminations, limitations of access and suspensions for cause shall be made in SQA's sole discretion and that SQA shall not be liable to you or any third party for any termination of your account, any associated email address, or access to the SQA services.</p>"},{"location":"terms_of_use/#19-emails","title":"19. Emails","text":"<p>By creating an account with SQA, you agree that SQA can use your email address to send you marketing materials, service-related notices, important information messages, special offers, etc. You can unsubscribe from this by clicking on the link provided in the emails.</p>"},{"location":"terms_of_use/#20-house-rules","title":"20. House rules","text":"<p>By creating and using an account on SQA you confirm you have read and agree to follow our House Rules.</p>"},{"location":"terms_of_use/#21-third-party-software","title":"21. Third Party Software","text":"<p>Our software, website and/or services may include software components supplied by third parties which are utilized by permission of the respective licensors and/or copyright holders on the terms provided by such parties (\"Third Party Software\"). SQA expressly disclaims any warranty or other assurance to you regarding Third Party Software. Please note that your use of the Third Party Software will be governed by the terms and conditions of use and privacy policies of the Third Party Software providers and not by these Terms of Use or our Privacy Policy.</p>"},{"location":"terms_of_use/#22-scripts","title":"22. Scripts","text":"<p>You represent and warrant that you have all intellectual property rights, including all necessary patent, trademark, trade secret, copyright or other proprietary rights, in and to your script. If you use third-party materials, you represent and warrant that you have the right to distribute third-party material in the script. You agree that you will not submit material that is copyrighted, protected by trade secret or otherwise subject to third party proprietary rights, including patent, privacy and publicity rights, unless you are the owner of such rights or have permission from their rightful owner to submit the material.</p> <p>You are solely responsible for any script that you create. SQA is not in any way responsible for the use or misuse of your script by any user. SQA is not in any way responsible for the use or misuse of any user\u2019s script by you.</p> <p>By using the publish script feature, you grant us a world-wide, irrevocable, perpetual, royalty-free license to:</p> <ul> <li>publish this script as well as the username of the author;</li> <li>disclose the source code of the script for open scripts;</li> <li>perform, display, use and make available your open or protected script for any user or an invite-only script for any user that received an invite.</li> </ul> <p>We may remove your script without notice if we reasonably believe that you are in violation of these Terms of Use.</p> <p>You can publish the script under any license. If you do not include the license in the comment section of a script, you agree that your script is licensed under the Mozilla Public License 2.0.</p>"},{"location":"terms_of_use/#23-publications-no-recommendation-or-advice-status","title":"23. Publications - No Recommendation or Advice Status","text":"<p>The information and publications are not meant to be, and do not constitute, financial, investment, trading, or other types of advice or recommendations supplied or endorsed by SQA.</p> <p>Any statement of view (which may be subject to change without notice) is the author's personal opinion, and the author makes no representations or warranties as to the accuracy or completeness of any information or analysis provided.</p> <p>The authors and SQA are not liable for any losses incurred as a result of any investment made on the basis of any perceived recommendation, forecast, or other information presented here.</p> <p>The contents of these publications should not be interpreted as an express or implicit promise, guarantee, or indication by SQA that customers will profit or that losses in connection with them can or will be limited if they rely on the information provided.</p> <p>SQA may update these Terms of Use at any time</p>"},{"location":"advanced/","title":"Advanced Features","text":"<p>Explore SQA's advanced capabilities for professional-grade analysis.</p>"},{"location":"advanced/#power-tools-for-serious-analysis","title":"Power Tools for Serious Analysis","text":"<p>SQA goes beyond basic technical analysis with powerful features for portfolio management, strategy optimization, and real-time trading.</p>"},{"location":"advanced/#available-features","title":"Available Features","text":""},{"location":"advanced/#portfolio-management","title":"Portfolio Management","text":"<p>Track positions, calculate P&amp;L, manage commissions, and monitor portfolio performance.</p> <p>Key Capabilities: - Position tracking with share quantities - Commission and fee calculations - Realized and unrealized P&amp;L - Portfolio value over time</p> <p>Learn more \u2192</p>"},{"location":"advanced/#backtesting-framework","title":"Backtesting Framework","text":"<p>Simulate trading strategies on historical data with comprehensive performance metrics.</p> <p>Performance Metrics: - Total return and annualized return - Sharpe ratio and Sortino ratio - Maximum drawdown - Win rate and profit factor</p> <p>Learn more \u2192</p>"},{"location":"advanced/#strategy-generator","title":"Strategy Generator","text":"<p>Reverse-engineer profitable trades to discover patterns and generate new strategies.</p> <p>Workflow: 1. Identify profitable entry/exit points 2. Capture indicator states at those points 3. Mine patterns from indicator combinations 4. Generate executable strategies</p> <p>Learn more \u2192</p>"},{"location":"advanced/#genetic-programming","title":"Genetic Programming","text":"<p>Evolve optimal strategy parameters using genetic algorithms.</p> <p>Process: - Define parameter space (genes) - Create random population - Evaluate fitness via backtesting - Evolve through selection, crossover, mutation</p> <p>Learn more \u2192</p>"},{"location":"advanced/#real-time-streaming","title":"Real-Time Streaming","text":"<p>Process live price data with event callbacks and parallel strategy execution.</p> <p>Features: - Rolling window of recent data - On-the-fly indicator calculations - Multiple strategies in parallel - Customizable callbacks</p> <p>Learn more \u2192</p>"},{"location":"advanced/#fpop-analysis","title":"FPOP Analysis","text":"<p>Future Period of Performance analysis for risk/reward calculations.</p> <p>Capabilities: - Calculate future returns - Direction classification - Risk/reward metrics - Performance attribution</p> <p>Learn more \u2192</p>"},{"location":"advanced/#example-workflow","title":"Example Workflow","text":""},{"location":"advanced/#use-cases","title":"Use Cases","text":""},{"location":"advanced/#quantitative-research","title":"Quantitative Research","text":"<ul> <li>Pattern discovery in historical data</li> <li>Parameter optimization</li> <li>Strategy validation</li> </ul>"},{"location":"advanced/#algorithmic-trading-educational","title":"Algorithmic Trading (Educational)","text":"<ul> <li>Real-time signal generation</li> <li>Portfolio tracking</li> <li>Performance monitoring</li> </ul>"},{"location":"advanced/#risk-management","title":"Risk Management","text":"<ul> <li>Drawdown analysis</li> <li>Volatility tracking</li> <li>Position sizing</li> </ul> <p>Remember: These are powerful tools for education and research. Always test thoroughly before considering any real trading applications.</p>"},{"location":"advanced/backtesting/","title":"Backtesting Framework","text":""},{"location":"advanced/backtesting/#overview","title":"Overview","text":"<p>Simulate trading strategies on historical data to evaluate performance before risking real capital.</p>"},{"location":"advanced/backtesting/#quick-start","title":"Quick Start","text":"<pre><code>require 'sqa'\n\n# Load stock data\nstock = SQA::Stock.new(ticker: 'AAPL')\n\n# Create backtest\nbacktest = SQA::Backtest.new(\n  stock: stock,\n  strategy: SQA::Strategy::RSI,\n  initial_cash: 10_000,\n  commission: 1.0\n)\n\n# Run simulation\nresults = backtest.run\n\n# View results\nputs \"Total Return: #{results.total_return}%\"\nputs \"Sharpe Ratio: #{results.sharpe_ratio}\"\nputs \"Max Drawdown: #{results.max_drawdown}%\"\nputs \"Win Rate: #{results.win_rate}%\"\n</code></pre>"},{"location":"advanced/backtesting/#configuration","title":"Configuration","text":""},{"location":"advanced/backtesting/#basic-parameters","title":"Basic Parameters","text":"<pre><code>backtest = SQA::Backtest.new(\n  stock: stock,                    # SQA::Stock object\n  strategy: SQA::Strategy::MACD,   # Strategy class\n  initial_cash: 10_000,            # Starting capital\n  commission: 1.0,                 # Per-trade commission\n  position_size: 100               # Shares per trade\n)\n</code></pre>"},{"location":"advanced/backtesting/#results-object","title":"Results Object","text":"<p>The <code>backtest.run</code> method returns a results object with:</p>"},{"location":"advanced/backtesting/#return-metrics","title":"Return Metrics","text":"<ul> <li><code>total_return</code> - Total percentage return</li> <li><code>annualized_return</code> - Return per year</li> <li><code>benchmark_return</code> - Buy-and-hold comparison</li> </ul>"},{"location":"advanced/backtesting/#risk-metrics","title":"Risk Metrics","text":"<ul> <li><code>sharpe_ratio</code> - Risk-adjusted return</li> <li><code>sortino_ratio</code> - Downside risk-adjusted return</li> <li><code>max_drawdown</code> - Largest peak-to-trough decline</li> <li><code>volatility</code> - Standard deviation of returns</li> </ul>"},{"location":"advanced/backtesting/#trading-metrics","title":"Trading Metrics","text":"<ul> <li><code>num_trades</code> - Total number of trades</li> <li><code>win_rate</code> - Percentage of profitable trades</li> <li><code>avg_win</code> - Average winning trade</li> <li><code>avg_loss</code> - Average losing trade</li> <li><code>profit_factor</code> - Gross profit / gross loss</li> </ul>"},{"location":"advanced/backtesting/#portfolio-metrics","title":"Portfolio Metrics","text":"<ul> <li><code>final_value</code> - Ending portfolio value</li> <li><code>portfolio_value</code> - Value over time (array)</li> <li><code>trades</code> - Full trade history</li> </ul>"},{"location":"advanced/backtesting/#complete-example","title":"Complete Example","text":"<pre><code># Load data\nstock = SQA::Stock.new(ticker: 'AAPL')\n\n# Test multiple strategies\nstrategies = [\n  SQA::Strategy::RSI,\n  SQA::Strategy::MACD,\n  SQA::Strategy::BollingerBands\n]\n\nstrategies.each do |strategy|\n  backtest = SQA::Backtest.new(\n    stock: stock,\n    strategy: strategy,\n    initial_cash: 10_000\n  )\n\n  results = backtest.run\n\n  puts \"\\n#{strategy.name} Results:\"\n  puts \"-\" * 40\n  puts \"Return: #{results.total_return.round(2)}%\"\n  puts \"Sharpe: #{results.sharpe_ratio.round(2)}\"\n  puts \"Max DD: #{results.max_drawdown.round(2)}%\"\n  puts \"Trades: #{results.num_trades}\"\n  puts \"Win Rate: #{results.win_rate.round(2)}%\"\nend\n</code></pre>"},{"location":"advanced/backtesting/#advanced-usage","title":"Advanced Usage","text":""},{"location":"advanced/backtesting/#custom-date-range","title":"Custom Date Range","text":"<pre><code># Backtest specific period\nstock = SQA::Stock.new(\n  ticker: 'AAPL',\n  start_date: '2020-01-01',\n  end_date: '2023-12-31'\n)\n\nbacktest = SQA::Backtest.new(stock: stock, strategy: strategy)\nresults = backtest.run\n</code></pre>"},{"location":"advanced/backtesting/#parameter-optimization","title":"Parameter Optimization","text":"<pre><code># Test different RSI thresholds\n(20..40).step(5).each do |oversold|\n  results = test_strategy_with_params(oversold)\n  puts \"RSI #{oversold}: Return = #{results.total_return}%\"\nend\n</code></pre>"},{"location":"advanced/backtesting/#walk-forward-testing","title":"Walk-Forward Testing","text":"<pre><code># Train on first 70%, test on last 30%\ntrain_end = (stock.df.height * 0.7).to_i\ntrain_stock = stock.df[0...train_end]\ntest_stock = stock.df[train_end..-1]\n\n# Optimize on training data\nbest_params = optimize_on(train_stock)\n\n# Validate on test data\nresults = backtest_with_params(test_stock, best_params)\n</code></pre>"},{"location":"advanced/backtesting/#visualization","title":"Visualization","text":"<pre><code># Plot equity curve\nrequire 'gruff'\n\ng = Gruff::Line.new\ng.title = \"Portfolio Value Over Time\"\ng.data(\"Portfolio\", results.portfolio_value)\ng.write('equity_curve.png')\n</code></pre>"},{"location":"advanced/backtesting/#best-practices","title":"Best Practices","text":""},{"location":"advanced/backtesting/#1-use-enough-data","title":"1. Use Enough Data","text":"<ul> <li>Minimum: 252 trading days (1 year)</li> <li>Recommended: 1260+ days (5 years)</li> <li>Include different market conditions</li> </ul>"},{"location":"advanced/backtesting/#2-account-for-costs","title":"2. Account for Costs","text":"<pre><code>backtest = SQA::Backtest.new(\n  commission: 1.0,        # Per trade\n  slippage: 0.001         # 0.1% slippage\n)\n</code></pre>"},{"location":"advanced/backtesting/#3-avoid-overfitting","title":"3. Avoid Overfitting","text":"<ul> <li>Use walk-forward analysis</li> <li>Test on out-of-sample data</li> <li>Limit parameter optimization</li> </ul>"},{"location":"advanced/backtesting/#4-compare-to-benchmark","title":"4. Compare to Benchmark","text":"<pre><code>if results.total_return &lt; results.benchmark_return\n  puts \"\u26a0\ufe0f  Strategy underperforms buy-and-hold\"\nend\n</code></pre>"},{"location":"advanced/backtesting/#5-check-multiple-metrics","title":"5. Check Multiple Metrics","text":"<p>Don't rely on return alone: - Sharpe ratio (risk-adjusted) - Max drawdown (worst case) - Win rate (consistency) - Profit factor (quality)</p>"},{"location":"advanced/backtesting/#common-pitfalls","title":"Common Pitfalls","text":"<p>\u274c Survivorship Bias: Only testing stocks that still exist \u274c Look-Ahead Bias: Using future data \u274c Curve Fitting: Over-optimizing parameters \u274c Ignoring Costs: Unrealistic commission/slippage \u274c Small Sample: Too few trades for statistical significance  </p>"},{"location":"advanced/backtesting/#related","title":"Related","text":"<ul> <li>Portfolio Management - Track positions and P&amp;L</li> <li>Strategy Generator - Discover patterns</li> <li>Risk Management - Position sizing and risk metrics</li> </ul>"},{"location":"advanced/ensemble/","title":"Ensemble Strategies","text":"<p>Combine multiple strategies with voting and meta-learning.</p>"},{"location":"advanced/ensemble/#basic-ensemble","title":"Basic Ensemble","text":"<pre><code>ensemble = SQA::Ensemble.new(\n  strategies: [\n    SQA::Strategy::RSI,\n    SQA::Strategy::MACD,\n    SQA::Strategy::BollingerBands\n  ],\n  voting_method: :majority\n)\n\nsignal = ensemble.signal(vector)  # =&gt; :buy, :sell, or :hold\n</code></pre>"},{"location":"advanced/ensemble/#voting-methods","title":"Voting Methods","text":""},{"location":"advanced/ensemble/#majority-voting","title":"Majority Voting","text":"<pre><code>voting_method: :majority  # Most common signal wins\n</code></pre>"},{"location":"advanced/ensemble/#weighted-voting","title":"Weighted Voting","text":"<pre><code>voting_method: :weighted\n# Weight strategies by past performance\n</code></pre>"},{"location":"advanced/ensemble/#unanimous","title":"Unanimous","text":"<pre><code>voting_method: :unanimous  # All must agree\n</code></pre>"},{"location":"advanced/ensemble/#confidence-based","title":"Confidence-Based","text":"<pre><code>voting_method: :confidence  # Weight by confidence scores\n</code></pre>"},{"location":"advanced/ensemble/#dynamic-weighting","title":"Dynamic Weighting","text":"<pre><code># Update weights based on performance\nensemble.update_weight(SQA::Strategy::RSI, 1.5)   # Increase weight\nensemble.update_weight(SQA::Strategy::MACD, 0.5)  # Decrease weight\n</code></pre>"},{"location":"advanced/ensemble/#strategy-rotation","title":"Strategy Rotation","text":"<pre><code># Select best strategy for current market\nselected = ensemble.rotate(stock)\n# Automatically switches based on recent performance\n</code></pre>"},{"location":"advanced/ensemble/#backtest-comparison","title":"Backtest Comparison","text":"<pre><code>comparison = ensemble.backtest_comparison(stock)\n\ncomparison.each do |name, results|\n  puts \"#{name}: Return = #{results[:return]}%\"\nend\n</code></pre>"},{"location":"advanced/fpop/","title":"FPOP - Future Period of Performance","text":""},{"location":"advanced/fpop/#overview","title":"Overview","text":"<p>Calculate future returns, risk metrics, and direction classification to evaluate trading opportunities.</p>"},{"location":"advanced/fpop/#quick-start","title":"Quick Start","text":"<pre><code>require 'sqa'\n\nstock = SQA::Stock.new(ticker: 'AAPL')\nprices = stock.df[\"adj_close_price\"].to_a\n\n# Calculate FPL (Future Period Loss/Profit)\nfpl_data = SQA::FPOP.fpl(prices, fpop: 10)\n# =&gt; [[min_delta, max_delta], ...]\n\n# Comprehensive analysis\nanalysis = SQA::FPOP.fpl_analysis(prices, fpop: 10)\nputs \"Risk: #{analysis[:risk]}%\"\nputs \"Direction: #{analysis[:direction]}\"  # :UP, :DOWN, :FLAT\n</code></pre>"},{"location":"advanced/fpop/#methods","title":"Methods","text":""},{"location":"advanced/fpop/#basic-fpl-calculation","title":"Basic FPL Calculation","text":"<pre><code>prices = [100, 102, 105, 103, 107, 110]\nfpl = SQA::FPOP.fpl(prices, fpop: 3)\n\n# For each point, calculates min/max change over next 3 periods\n# fpl[0] = [min(102,105,103) - 100, max(102,105,103) - 100]\n#        = [100-100, 105-100] = [0, 5]\n</code></pre>"},{"location":"advanced/fpop/#comprehensive-analysis","title":"Comprehensive Analysis","text":"<pre><code>analysis = SQA::FPOP.fpl_analysis(prices, fpop: 10)\n\n# Returns hash with:\n# {\n#   fpl: [[min_delta, max_delta], ...],\n#   risk: 15.5,              # Max downside %\n#   reward: 25.2,            # Max upside %\n#   direction: :UP,          # Overall trend\n#   magnitude: 10.3,         # Average move size\n#   quality_score: 0.75      # Risk/reward ratio\n# }\n</code></pre>"},{"location":"advanced/fpop/#quality-filtering","title":"Quality Filtering","text":"<pre><code>filtered = SQA::FPOP.filter_by_quality(\n  analysis,\n  min_magnitude: 5.0,      # Minimum 5% move\n  max_risk: 25.0,          # Maximum 25% downside\n  directions: [:UP]         # Only upward moves\n)\n\n# Returns only high-quality opportunities\n</code></pre>"},{"location":"advanced/fpop/#integration-with-strategy-generator","title":"Integration with Strategy Generator","text":"<pre><code>generator = SQA::StrategyGenerator.new(\n  stock: stock,\n  min_gain_percent: 10.0,\n  fpop: 10,                  # Use 10-period lookahead\n  max_fpl_risk: 20.0         # Filter by max acceptable risk\n)\n\npatterns = generator.discover_patterns\n# Only includes patterns with acceptable risk/reward\n</code></pre>"},{"location":"advanced/fpop/#dataframe-methods","title":"DataFrame Methods","text":"<pre><code># Convenient DataFrame extensions\ndf = stock.df\n\n# Add FPL columns\ndf_with_fpl = df.fpl(fpop: 10)\n\n# Add full analysis\ndf_with_analysis = df.fpl_analysis(fpop: 10)\n\n# Now has columns: fpl_min, fpl_max, fpl_risk, fpl_direction, etc.\n</code></pre>"},{"location":"advanced/fpop/#use-cases","title":"Use Cases","text":""},{"location":"advanced/fpop/#1-opportunity-screening","title":"1. Opportunity Screening","text":"<pre><code>stocks = ['AAPL', 'GOOGL', 'MSFT']\n\nstocks.each do |ticker|\n  stock = SQA::Stock.new(ticker: ticker)\n  prices = stock.df[\"adj_close_price\"].to_a\n\n  analysis = SQA::FPOP.fpl_analysis(prices, fpop: 10)\n\n  if analysis[:reward] &gt; 15.0 &amp;&amp; analysis[:risk] &lt; 10.0\n    puts \"#{ticker}: Good risk/reward (#{analysis[:reward]}/#{analysis[:risk]})\"\n  end\nend\n</code></pre>"},{"location":"advanced/fpop/#2-entry-point-validation","title":"2. Entry Point Validation","text":"<pre><code># Check if current point offers good risk/reward\ncurrent_analysis = SQA::FPOP.fpl_analysis(prices, fpop: 10)\n\nif current_analysis[:direction] == :UP &amp;&amp; \n   current_analysis[:quality_score] &gt; 0.7\n  puts \"Strong buy opportunity\"\nend\n</code></pre>"},{"location":"advanced/fpop/#3-stop-loss-calculation","title":"3. Stop Loss Calculation","text":"<pre><code>analysis = SQA::FPOP.fpl_analysis(prices, fpop: 10)\n\n# Set stop loss based on expected risk\nentry_price = prices.last\nstop_loss = entry_price * (1 - analysis[:risk] / 100)\n\nputs \"Entry: $#{entry_price}\"\nputs \"Stop Loss: $#{stop_loss}\"\nputs \"Target: $#{entry_price * (1 + analysis[:reward] / 100)}\"\n</code></pre>"},{"location":"advanced/fpop/#parameters","title":"Parameters","text":"<ul> <li><code>fpop</code>: Future periods to analyze (default: 10)</li> <li><code>min_magnitude</code>: Minimum move size to consider (%)</li> <li><code>max_risk</code>: Maximum acceptable downside (%)</li> <li><code>directions</code>: Filter by <code>:UP</code>, <code>:DOWN</code>, or <code>:FLAT</code></li> </ul>"},{"location":"advanced/fpop/#related","title":"Related","text":"<ul> <li>Strategy Generator - Uses FPOP for pattern quality</li> <li>Risk Management - Position sizing based on risk</li> <li>Backtesting - Validate FPOP predictions</li> </ul>"},{"location":"advanced/multi-timeframe/","title":"Multi-Timeframe Analysis","text":"<p>Analyze multiple timeframes simultaneously for better trade timing.</p>"},{"location":"advanced/multi-timeframe/#setup","title":"Setup","text":"<pre><code>mta = SQA::MultiTimeframe.new(stock: stock)\n</code></pre>"},{"location":"advanced/multi-timeframe/#trend-alignment","title":"Trend Alignment","text":"<pre><code>alignment = mta.trend_alignment\n\n# {\n#   daily: :up,\n#   weekly: :up,\n#   monthly: :up,\n#   aligned: true,\n#   direction: :bullish\n# }\n\nif alignment[:aligned] &amp;&amp; alignment[:direction] == :bullish\n  puts \"Strong uptrend across all timeframes\"\nend\n</code></pre>"},{"location":"advanced/multi-timeframe/#multi-timeframe-signal","title":"Multi-Timeframe Signal","text":"<pre><code># Higher timeframe = trend, lower timeframe = timing\nsignal = mta.signal(\n  strategy_class: SQA::Strategy::RSI,\n  higher_timeframe: :weekly,   # Trend filter\n  lower_timeframe: :daily      # Entry timing\n)\n\n# Only takes trades aligned with higher timeframe trend\n</code></pre>"},{"location":"advanced/multi-timeframe/#supportresistance","title":"Support/Resistance","text":"<pre><code># Find levels that appear across multiple timeframes\nlevels = mta.support_resistance(tolerance: 0.02)\n\nlevels.each do |level|\n  puts \"Strong level at #{level[:price]}\"\n  puts \"  Appears in: #{level[:timeframes].join(', ')}\"\nend\n</code></pre>"},{"location":"advanced/multi-timeframe/#divergence-detection","title":"Divergence Detection","text":"<pre><code># Price makes new high but indicator doesn't (bearish)\ndivergence = mta.detect_divergence(\n  indicator: :rsi,\n  lookback: 20\n)\n\nif divergence[:type] == :bearish\n  puts \"Bearish divergence detected - potential reversal\"\nend\n</code></pre>"},{"location":"advanced/pattern-matcher/","title":"Pattern Matcher","text":"<p>Pattern recognition and similarity search for forecasting.</p>"},{"location":"advanced/pattern-matcher/#find-similar-patterns","title":"Find Similar Patterns","text":"<pre><code>matcher = SQA::PatternMatcher.new(stock: stock)\n\n# Find historical patterns similar to current\nsimilar = matcher.find_similar(\n  lookback: 10,           # 10-period pattern\n  num_matches: 5,          # Find 5 best matches\n  method: :euclidean      # Distance metric\n)\n\nsimilar.each do |match|\n  puts \"Distance: #{match[:distance]}\"\n  puts \"Future return: #{match[:future_return]}%\"\nend\n</code></pre>"},{"location":"advanced/pattern-matcher/#distance-methods","title":"Distance Methods","text":"<ul> <li><code>:euclidean</code> - Standard distance</li> <li><code>:dtw</code> - Dynamic Time Warping (handles compression/stretching)</li> <li><code>:correlation</code> - Correlation-based similarity</li> </ul>"},{"location":"advanced/pattern-matcher/#forecasting","title":"Forecasting","text":"<pre><code>forecast = matcher.forecast(\n  lookback: 10,\n  forecast_periods: 5,\n  method: :dtw\n)\n\nputs \"Forecast price: #{forecast[:forecast_price]}\"\nputs \"Expected return: #{forecast[:forecast_return]}%\"\nputs \"95% CI: #{forecast[:confidence_interval_95]}\"\n</code></pre>"},{"location":"advanced/pattern-matcher/#chart-pattern-detection","title":"Chart Pattern Detection","text":"<pre><code># Detect double top/bottom\npatterns = matcher.detect_chart_pattern(:double_top)\n\n# Detect head &amp; shoulders\npatterns = matcher.detect_chart_pattern(:head_and_shoulders)\n\n# Detect triangles\npatterns = matcher.detect_chart_pattern(:triangle)\n\npatterns.each do |pattern|\n  puts \"#{pattern[:type]} at index #{pattern[:index]}\"\n  puts \"Confidence: #{pattern[:confidence]}\"\nend\n</code></pre>"},{"location":"advanced/pattern-matcher/#pattern-clustering","title":"Pattern Clustering","text":"<pre><code># Group similar patterns\nclusters = matcher.cluster_patterns(\n  num_clusters: 5,\n  lookback: 10\n)\n\nclusters.each_with_index do |cluster, i|\n  puts \"Cluster #{i}: #{cluster.size} patterns\"\n  puts \"  Avg future return: #{cluster[:avg_return]}%\"\nend\n</code></pre>"},{"location":"advanced/portfolio-optimizer/","title":"Portfolio Optimizer","text":"<p>Multi-objective portfolio optimization for optimal asset allocation and rebalancing.</p>"},{"location":"advanced/portfolio-optimizer/#maximum-sharpe-portfolio","title":"Maximum Sharpe Portfolio","text":"<pre><code># Get returns for multiple stocks\nreturns_matrix = ['AAPL', 'GOOGL', 'MSFT'].map do |ticker|\n  stock = SQA::Stock.new(ticker: ticker)\n  prices = stock.df[\"adj_close_price\"].to_a\n  prices.each_cons(2).map { |a, b| (b - a) / a }\nend\n\n# Find optimal weights\nresult = SQA::PortfolioOptimizer.maximum_sharpe(returns_matrix)\n\nputs \"Optimal Weights:\"\nputs \"  AAPL: #{(result[:weights][0] * 100).round(2)}%\"\nputs \"  GOOGL: #{(result[:weights][1] * 100).round(2)}%\"\nputs \"  MSFT: #{(result[:weights][2] * 100).round(2)}%\"\nputs \"\\nExpected Sharpe: #{result[:sharpe].round(2)}\"\n</code></pre>"},{"location":"advanced/portfolio-optimizer/#minimum-variance-portfolio","title":"Minimum Variance Portfolio","text":"<pre><code>result = SQA::PortfolioOptimizer.minimum_variance(returns_matrix)\n# Lowest risk allocation\n</code></pre>"},{"location":"advanced/portfolio-optimizer/#risk-parity","title":"Risk Parity","text":"<pre><code>result = SQA::PortfolioOptimizer.risk_parity(returns_matrix)\n# Equal risk contribution from each asset\n</code></pre>"},{"location":"advanced/portfolio-optimizer/#efficient-frontier","title":"Efficient Frontier","text":"<pre><code>frontier = SQA::PortfolioOptimizer.efficient_frontier(\n  returns_matrix,\n  num_portfolios: 50\n)\n\nfrontier.each do |portfolio|\n  puts \"Return: #{portfolio[:return]}, Risk: #{portfolio[:volatility]}\"\nend\n</code></pre>"},{"location":"advanced/portfolio-optimizer/#multi-objective-optimization","title":"Multi-Objective Optimization","text":"<pre><code>result = SQA::PortfolioOptimizer.multi_objective(\n  returns_matrix,\n  objectives: {\n    maximize_return: 0.4,\n    minimize_volatility: 0.3,\n    minimize_drawdown: 0.3\n  }\n)\n</code></pre>"},{"location":"advanced/portfolio-optimizer/#rebalancing","title":"Rebalancing","text":"<pre><code>current_weights = [0.5, 0.3, 0.2]\ntarget_weights = [0.4, 0.4, 0.2]\n\ntrades = SQA::PortfolioOptimizer.rebalance(\n  current_weights: current_weights,\n  target_weights: target_weights,\n  portfolio_value: 10_000\n)\n\n# trades =&gt; [{ ticker: 'AAPL', shares: -5, value: -750 }, ...]\n</code></pre>"},{"location":"advanced/portfolio/","title":"Portfolio Management","text":""},{"location":"advanced/portfolio/#overview","title":"Overview","text":"<p>The Portfolio class tracks positions, calculates P&amp;L, manages commissions, and monitors portfolio performance over time.</p>"},{"location":"advanced/portfolio/#creating-a-portfolio","title":"Creating a Portfolio","text":"<pre><code>require 'sqa'\n\nportfolio = SQA::Portfolio.new(\n  initial_cash: 10_000,    # Starting capital\n  commission: 1.0           # Commission per trade\n)\n</code></pre>"},{"location":"advanced/portfolio/#basic-operations","title":"Basic Operations","text":""},{"location":"advanced/portfolio/#buy-stock","title":"Buy Stock","text":"<pre><code>portfolio.buy('AAPL', shares: 10, price: 150.0)\n# Deducts: (10 \u00d7 $150) + $1 commission = $1,501\n\nputs portfolio.cash  # =&gt; 8,499.0\nputs portfolio.positions['AAPL']  # =&gt; 10 shares\n</code></pre>"},{"location":"advanced/portfolio/#sell-stock","title":"Sell Stock","text":"<pre><code>portfolio.sell('AAPL', shares: 5, price: 160.0)\n# Adds: (5 \u00d7 $160) - $1 commission = $799\n\nputs portfolio.cash  # =&gt; 9,298.0\nputs portfolio.positions['AAPL']  # =&gt; 5 shares\n</code></pre>"},{"location":"advanced/portfolio/#calculate-portfolio-value","title":"Calculate Portfolio Value","text":"<pre><code>current_prices = {\n  'AAPL' =&gt; 165.0,\n  'GOOGL' =&gt; 2800.0\n}\n\ntotal_value = portfolio.value(current_prices)\n# Cash + (positions \u00d7 current prices)\n</code></pre>"},{"location":"advanced/portfolio/#complete-example","title":"Complete Example","text":"<pre><code># Initialize\nportfolio = SQA::Portfolio.new(initial_cash: 10_000)\n\n# Buy multiple stocks\nportfolio.buy('AAPL', shares: 10, price: 150.0)\nportfolio.buy('GOOGL', shares: 2, price: 2750.0)\n\n# Check positions\nputs \"Positions: #{portfolio.positions}\"\n# =&gt; {\"AAPL\"=&gt;10, \"GOOGL\"=&gt;2}\n\n# Calculate current value\nprices = { 'AAPL' =&gt; 160.0, 'GOOGL' =&gt; 2800.0 }\nputs \"Portfolio Value: $#{portfolio.value(prices)}\"\n\n# Sell some shares\nportfolio.sell('AAPL', shares: 5, price: 160.0)\n\n# View trade history\nportfolio.trades.each do |trade|\n  puts \"#{trade.action} #{trade.shares} #{trade.ticker} @ $#{trade.price}\"\nend\n</code></pre>"},{"location":"advanced/portfolio/#pl-tracking","title":"P&amp;L Tracking","text":""},{"location":"advanced/portfolio/#realized-pl","title":"Realized P&amp;L","text":"<p>Profit/loss from closed positions (sold shares).</p> <pre><code># Buy 10 shares @ $150\nportfolio.buy('AAPL', shares: 10, price: 150.0)\n\n# Sell 5 shares @ $160\nportfolio.sell('AAPL', shares: 5, price: 160.0)\n\n# Realized P&amp;L: (160 - 150) \u00d7 5 = $50\n# (minus 2 \u00d7 $1 commission = $48)\n</code></pre>"},{"location":"advanced/portfolio/#unrealized-pl","title":"Unrealized P&amp;L","text":"<p>Paper profit/loss on open positions.</p> <pre><code># Still holding 5 shares bought @ $150\n# Current price: $165\n\nunrealized_pnl = (165.0 - 150.0) * 5  # =&gt; $75\n</code></pre>"},{"location":"advanced/portfolio/#portfolio-methods","title":"Portfolio Methods","text":"Method Description <code>buy(ticker, shares:, price:)</code> Purchase shares <code>sell(ticker, shares:, price:)</code> Sell shares <code>value(current_prices)</code> Calculate total portfolio value <code>positions</code> Hash of ticker \u2192 share count <code>trades</code> Array of all trades <code>cash</code> Available cash balance"},{"location":"advanced/portfolio/#usage-with-backtesting","title":"Usage with Backtesting","text":"<pre><code>backtest = SQA::Backtest.new(\n  stock: stock,\n  strategy: SQA::Strategy::RSI,\n  initial_cash: 10_000,\n  commission: 1.0\n)\n\nresults = backtest.run\n\nputs \"Final Value: $#{results.portfolio_value}\"\nputs \"Total Return: #{results.total_return}%\"\nputs \"Total Trades: #{results.num_trades}\"\n</code></pre>"},{"location":"advanced/portfolio/#advanced-features","title":"Advanced Features","text":""},{"location":"advanced/portfolio/#position-sizing","title":"Position Sizing","text":"<pre><code># Risk-based position sizing\nrisk_per_trade = portfolio.cash * 0.02  # 2% risk\nshares = (risk_per_trade / stop_loss_distance).to_i\n\nportfolio.buy('AAPL', shares: shares, price: current_price)\n</code></pre>"},{"location":"advanced/portfolio/#diversification-check","title":"Diversification Check","text":"<pre><code>def check_diversification(portfolio, prices)\n  total_value = portfolio.value(prices)\n\n  portfolio.positions.each do |ticker, shares|\n    position_value = shares * prices[ticker]\n    percentage = (position_value / total_value) * 100\n\n    puts \"#{ticker}: #{percentage.round(2)}%\"\n    warn \"\u26a0\ufe0f  #{ticker} exceeds 20%\" if percentage &gt; 20\n  end\nend\n</code></pre>"},{"location":"advanced/portfolio/#related","title":"Related","text":"<ul> <li>Backtesting - Test strategies with portfolio tracking</li> <li>Risk Management - Position sizing and risk metrics</li> <li>Portfolio Optimizer - Optimal asset allocation</li> </ul>"},{"location":"advanced/risk-management/","title":"Risk Management","text":""},{"location":"advanced/risk-management/#overview","title":"Overview","text":"<p>Comprehensive risk management tools including VaR, position sizing, and risk metrics.</p>"},{"location":"advanced/risk-management/#value-at-risk-var","title":"Value at Risk (VaR)","text":"<p>Calculate potential losses at specified confidence level:</p> <pre><code>require 'sqa'\n\nprices = stock.df[\"adj_close_price\"].to_a\nreturns = prices.each_cons(2).map { |a, b| (b - a) / a }\n\n# 95% confidence VaR\nvar_95 = SQA::RiskManager.var(returns, confidence: 0.95, method: :historical)\nputs \"VaR (95%): #{(var_95 * 100).round(2)}%\"\n\n# Conditional VaR (Expected Shortfall)\ncvar_95 = SQA::RiskManager.cvar(returns, confidence: 0.95)\nputs \"CVaR (95%): #{(cvar_95 * 100).round(2)}%\"\n</code></pre>"},{"location":"advanced/risk-management/#position-sizing","title":"Position Sizing","text":""},{"location":"advanced/risk-management/#kelly-criterion","title":"Kelly Criterion","text":"<pre><code># Optimal position size based on win rate and payoffs\nposition = SQA::RiskManager.kelly_criterion(\n  win_rate: 0.60,        # 60% win rate\n  avg_win: 0.10,         # Average 10% gain\n  avg_loss: 0.05,        # Average 5% loss\n  capital: 10_000\n)\n\nputs \"Kelly Position: $#{position}\"\n</code></pre>"},{"location":"advanced/risk-management/#fixed-fractional","title":"Fixed Fractional","text":"<pre><code># Risk fixed % of capital per trade\nposition = SQA::RiskManager.fixed_fractional(\n  capital: 10_000,\n  risk_percent: 0.02,    # Risk 2% per trade\n  stop_loss_percent: 0.05 # 5% stop loss\n)\n\nshares = (position / current_price).to_i\n</code></pre>"},{"location":"advanced/risk-management/#percent-volatility","title":"Percent Volatility","text":"<pre><code># Size based on volatility\nposition = SQA::RiskManager.percent_volatility(\n  capital: 10_000,\n  target_volatility: 0.02,  # 2% target vol\n  price_volatility: 0.25     # Stock's 25% annualized vol\n)\n</code></pre>"},{"location":"advanced/risk-management/#risk-metrics","title":"Risk Metrics","text":""},{"location":"advanced/risk-management/#sharpe-ratio","title":"Sharpe Ratio","text":"<pre><code>sharpe = SQA::RiskManager.sharpe_ratio(returns, risk_free_rate: 0.02)\nputs \"Sharpe Ratio: #{sharpe.round(2)}\"\n\n# &gt; 1.0 = Good\n# &gt; 2.0 = Very Good\n# &gt; 3.0 = Excellent\n</code></pre>"},{"location":"advanced/risk-management/#sortino-ratio","title":"Sortino Ratio","text":"<pre><code># Like Sharpe but only penalizes downside volatility\nsortino = SQA::RiskManager.sortino_ratio(returns, risk_free_rate: 0.02)\nputs \"Sortino Ratio: #{sortino.round(2)}\"\n</code></pre>"},{"location":"advanced/risk-management/#calmar-ratio","title":"Calmar Ratio","text":"<pre><code># Annual return / Maximum drawdown\nprices = stock.df[\"adj_close_price\"].to_a\ncalmar = SQA::RiskManager.calmar_ratio(prices)\nputs \"Calmar Ratio: #{calmar.round(2)}\"\n</code></pre>"},{"location":"advanced/risk-management/#maximum-drawdown","title":"Maximum Drawdown","text":"<pre><code>max_dd = SQA::RiskManager.max_drawdown(prices)\nputs \"Max Drawdown: #{(max_dd * 100).round(2)}%\"\n</code></pre>"},{"location":"advanced/risk-management/#monte-carlo-simulation","title":"Monte Carlo Simulation","text":"<pre><code># Simulate potential outcomes\nsimulations = SQA::RiskManager.monte_carlo_simulation(\n  returns: returns,\n  initial_value: 10_000,\n  periods: 252,          # 1 year\n  num_simulations: 1000\n)\n\n# Analyze results\noutcomes = simulations.map(&amp;:last).sort\npercentile_5 = outcomes[(outcomes.size * 0.05).to_i]\npercentile_95 = outcomes[(outcomes.size * 0.95).to_i]\n\nputs \"5th percentile: $#{percentile_5.round(2)}\"\nputs \"95th percentile: $#{percentile_95.round(2)}\"\n</code></pre>"},{"location":"advanced/risk-management/#complete-example","title":"Complete Example","text":"<pre><code># Comprehensive risk assessment\nclass RiskAssessment\n  def initialize(stock)\n    @stock = stock\n    @prices = stock.df[\"adj_close_price\"].to_a\n    @returns = calculate_returns\n  end\n\n  def assess\n    {\n      var_95: SQA::RiskManager.var(@returns, confidence: 0.95),\n      cvar_95: SQA::RiskManager.cvar(@returns, confidence: 0.95),\n      sharpe: SQA::RiskManager.sharpe_ratio(@returns),\n      sortino: SQA::RiskManager.sortino_ratio(@returns),\n      max_dd: SQA::RiskManager.max_drawdown(@prices),\n      volatility: @returns.standard_deviation\n    }\n  end\n\n  def position_size(capital, method: :kelly)\n    case method\n    when :kelly\n      SQA::RiskManager.kelly_criterion(\n        win_rate: calculate_win_rate,\n        avg_win: calculate_avg_win,\n        avg_loss: calculate_avg_loss,\n        capital: capital\n      )\n    when :fixed\n      SQA::RiskManager.fixed_fractional(\n        capital: capital,\n        risk_percent: 0.02,\n        stop_loss_percent: 0.05\n      )\n    end\n  end\n\n  private\n\n  def calculate_returns\n    @prices.each_cons(2).map { |a, b| (b - a) / a }\n  end\n\n  def calculate_win_rate\n    wins = @returns.count { |r| r &gt; 0 }\n    wins.to_f / @returns.size\n  end\n\n  def calculate_avg_win\n    wins = @returns.select { |r| r &gt; 0 }\n    wins.sum / wins.size\n  end\n\n  def calculate_avg_loss\n    losses = @returns.select { |r| r &lt; 0 }\n    losses.sum.abs / losses.size\n  end\nend\n\n# Usage\nassessment = RiskAssessment.new(stock)\nmetrics = assessment.assess\nposition = assessment.position_size(10_000, method: :kelly)\n\nputs \"Risk Metrics:\"\nputs \"  VaR (95%): #{(metrics[:var_95] * 100).round(2)}%\"\nputs \"  Sharpe: #{metrics[:sharpe].round(2)}\"\nputs \"  Max DD: #{(metrics[:max_dd] * 100).round(2)}%\"\nputs \"\\nRecommended Position: $#{position.round(2)}\"\n</code></pre>"},{"location":"advanced/risk-management/#best-practices","title":"Best Practices","text":"<ol> <li>Diversify: Don't risk more than 2-5% per trade</li> <li>Use Stop Losses: Always define maximum acceptable loss</li> <li>Monitor Correlations: Avoid correlated positions</li> <li>Regular Reassessment: Update risk metrics monthly</li> <li>Stress Testing: Run Monte Carlo simulations</li> </ol>"},{"location":"advanced/risk-management/#related","title":"Related","text":"<ul> <li>Portfolio Optimizer - Optimal allocation</li> <li>FPOP - Risk/reward analysis</li> <li>Backtesting - Test risk management rules</li> </ul>"},{"location":"advanced/strategy-generator/","title":"Strategy Generator","text":""},{"location":"advanced/strategy-generator/#overview","title":"Overview","text":"<p>Reverse-engineer profitable trades to discover patterns and automatically generate executable trading strategies.</p>"},{"location":"advanced/strategy-generator/#how-it-works","title":"How It Works","text":"<ol> <li>Identify Profitable Points: Scan historical data for entry points that led to profitable exits</li> <li>Capture Indicator States: Record all indicator values at those profitable points</li> <li>Mine Patterns: Find common combinations of indicator states</li> <li>Generate Strategies: Create executable strategy code from patterns</li> </ol>"},{"location":"advanced/strategy-generator/#quick-start","title":"Quick Start","text":"<pre><code>require 'sqa'\n\n# Load stock data\nstock = SQA::Stock.new(ticker: 'AAPL')\n\n# Create generator\ngenerator = SQA::StrategyGenerator.new(\n  stock: stock,\n  min_gain_percent: 10.0,  # Minimum 10% profit\n  fpop: 10                  # Look ahead 10 periods\n)\n\n# Discover patterns\npatterns = generator.discover_patterns\n\n# Generate strategy from first pattern\nstrategy_code = generator.generate_strategy(pattern_index: 0)\nputs strategy_code\n</code></pre>"},{"location":"advanced/strategy-generator/#configuration","title":"Configuration","text":"<pre><code>generator = SQA::StrategyGenerator.new(\n  stock: stock,\n  min_gain_percent: 10.0,      # Minimum profit required\n  max_loss_percent: -5.0,       # Maximum acceptable loss\n  fpop: 10,                     # Future periods to analyze\n  min_support: 3                # Minimum pattern occurrences\n)\n</code></pre>"},{"location":"advanced/strategy-generator/#discovering-patterns","title":"Discovering Patterns","text":"<pre><code>patterns = generator.discover_patterns\n\npatterns.each_with_index do |pattern, i|\n  puts \"\\nPattern #{i}:\"\n  puts \"  Support: #{pattern[:support]} occurrences\"\n  puts \"  Avg Gain: #{pattern[:avg_gain].round(2)}%\"\n  puts \"  Win Rate: #{pattern[:win_rate].round(2)}%\"\n\n  puts \"  Conditions:\"\n  pattern[:conditions].each do |cond|\n    puts \"    - #{cond[:indicator]}: #{cond[:state]}\"\n  end\nend\n</code></pre>"},{"location":"advanced/strategy-generator/#generating-strategy-code","title":"Generating Strategy Code","text":"<pre><code>strategy_code = generator.generate_strategy(\n  pattern_index: 0,\n  class_name: 'DiscoveredStrategy'\n)\n\n# Save to file\nFile.write('lib/sqa/strategy/discovered_strategy.rb', strategy_code)\n\n# Load and use\nrequire_relative 'lib/sqa/strategy/discovered_strategy'\nsignal = SQA::Strategy::DiscoveredStrategy.trade(vector)\n</code></pre>"},{"location":"advanced/strategy-generator/#context-aware-patterns","title":"Context-Aware Patterns","text":"<pre><code># Include market context in pattern discovery\npatterns = generator.discover_context_aware_patterns(\n  analyze_regime: true,     # Include bull/bear/sideways\n  analyze_seasonal: true,   # Include month/quarter\n  sector: :technology       # Sector classification\n)\n\n# Patterns include context\npattern = patterns.first\nputs \"Valid in: #{pattern.context.valid_months}\"      # =&gt; [10, 11, 12]\nputs \"Valid regimes: #{pattern.context.valid_regimes}\" # =&gt; [:bull]\nputs \"Sector: #{pattern.context.sector}\"               # =&gt; :technology\n</code></pre>"},{"location":"advanced/strategy-generator/#walk-forward-validation","title":"Walk-Forward Validation","text":"<pre><code># Prevent overfitting with out-of-sample testing\nvalidated_patterns = generator.walk_forward_validate(\n  train_size: 250,  # Training period (days)\n  test_size: 60     # Testing period (days)\n)\n\nvalidated_patterns.each do |result|\n  puts \"Pattern #{result[:pattern_index]}:\"\n  puts \"  Train Return: #{result[:train_return]}%\"\n  puts \"  Test Return: #{result[:test_return]}%\"\n  puts \"  Robust: #{result[:robust]}\"  # true if test performance acceptable\nend\n</code></pre>"},{"location":"advanced/strategy-generator/#example-output","title":"Example Output","text":"<pre><code># Generated strategy example\nclass SQA::Strategy::Pattern_1\n  def self.trade(vector)\n    return :hold unless valid_data?(vector)\n\n    # Pattern: Oversold RSI + Bullish MACD + High Volume\n    if vector.rsi[:trend] == :over_sold &amp;&amp;\n       vector.macd[:crossover] == :bullish &amp;&amp;\n       vector.volume_ratio &gt; 1.5\n      :buy\n    else\n      :hold\n    end\n  end\n\n  private\n\n  def self.valid_data?(vector)\n    vector.respond_to?(:rsi) &amp;&amp;\n    vector.respond_to?(:macd) &amp;&amp;\n    vector.respond_to?(:volume_ratio)\n  end\nend\n</code></pre>"},{"location":"advanced/strategy-generator/#best-practices","title":"Best Practices","text":"<ol> <li>Use Sufficient Data: At least 1-2 years of historical data</li> <li>Validate Patterns: Use walk-forward testing</li> <li>Filter by Support: Require minimum pattern occurrences (3-5)</li> <li>Consider Context: Include market regime and seasonality</li> <li>Backtest Generated Strategies: Always test before using live</li> </ol>"},{"location":"advanced/strategy-generator/#related","title":"Related","text":"<ul> <li>Genetic Programming - Optimize strategy parameters</li> <li>KBS Strategy - Rule-based strategies</li> <li>Backtesting - Test discovered strategies</li> </ul>"},{"location":"advanced/streaming/","title":"Real-Time Streaming","text":""},{"location":"advanced/streaming/#overview","title":"Overview","text":"<p>Process live price data with event callbacks and parallel strategy execution for real-time trading signals.</p>"},{"location":"advanced/streaming/#quick-start","title":"Quick Start","text":"<pre><code>require 'sqa'\n\n# Create stream\nstream = SQA::Stream.new(\n  ticker: 'AAPL',\n  strategies: [SQA::Strategy::RSI, SQA::Strategy::MACD],\n  window_size: 50\n)\n\n# Register callback\nstream.on_signal do |signal, data|\n  puts \"#{Time.now}: Signal = #{signal}\"\n  puts \"Price: #{data[:price]}\"\n  puts \"Volume: #{data[:volume]}\"\n\n  # Execute trade, send alert, log data, etc.\n  execute_trade(signal, data) if signal != :hold\nend\n\n# Start receiving updates\nstream.update(price: 150.25, volume: 1_000_000)\nstream.update(price: 150.50, volume: 1_200_000)\n</code></pre>"},{"location":"advanced/streaming/#features","title":"Features","text":""},{"location":"advanced/streaming/#rolling-window","title":"Rolling Window","text":"<p>Maintains recent price/volume history:</p> <pre><code>stream = SQA::Stream.new(\n  ticker: 'AAPL',\n  window_size: 50  # Keep last 50 data points\n)\n\n# Automatically manages memory\n1000.times do |i|\n  stream.update(price: 100 + rand, volume: 1000000)\n  # Only keeps most recent 50 points\nend\n</code></pre>"},{"location":"advanced/streaming/#on-the-fly-indicators","title":"On-the-Fly Indicators","text":"<p>Calculates indicators from rolling window:</p> <pre><code>stream.update(price: 150.0, volume: 1_000_000)\n\n# Indicators calculated automatically\n# - RSI from last 14 prices\n# - MACD from price history\n# - SMA/EMA from rolling window\n</code></pre>"},{"location":"advanced/streaming/#parallel-strategy-execution","title":"Parallel Strategy Execution","text":"<p>Runs multiple strategies simultaneously:</p> <pre><code>stream = SQA::Stream.new(\n  ticker: 'AAPL',\n  strategies: [\n    SQA::Strategy::RSI,\n    SQA::Strategy::MACD,\n    SQA::Strategy::BollingerBands\n  ]\n)\n\n# All strategies execute on each update\nstream.update(price: 150.0, volume: 1_000_000)\n# Each strategy generates independent signal\n</code></pre>"},{"location":"advanced/streaming/#signal-aggregation","title":"Signal Aggregation","text":"<p>Combine multiple strategy signals:</p> <pre><code>stream.on_signal do |signals, data|\n  # signals = {\n  #   RSI: :buy,\n  #   MACD: :hold,\n  #   BollingerBands: :buy\n  # }\n\n  # Count votes\n  buy_votes = signals.values.count(:buy)\n  sell_votes = signals.values.count(:sell)\n\n  # Consensus decision\n  if buy_votes &gt;= 2\n    execute_buy(data[:price])\n  elsif sell_votes &gt;= 2\n    execute_sell(data[:price])\n  end\nend\n</code></pre>"},{"location":"advanced/streaming/#complete-example","title":"Complete Example","text":"<pre><code># Initialize stream\nstream = SQA::Stream.new(\n  ticker: 'AAPL',\n  strategies: [\n    SQA::Strategy::RSI,\n    SQA::Strategy::MACD\n  ],\n  window_size: 100\n)\n\n# Track performance\ntrades = []\n\n# Register callbacks\nstream.on_signal do |signals, data|\n  consensus = calculate_consensus(signals)\n\n  if consensus == :buy\n    trades &lt;&lt; {\n      action: :buy,\n      price: data[:price],\n      time: Time.now\n    }\n    send_alert(\"BUY signal at $#{data[:price]}\")\n  elsif consensus == :sell\n    trades &lt;&lt; {\n      action: :sell,\n      price: data[:price],\n      time: Time.now\n    }\n    send_alert(\"SELL signal at $#{data[:price]}\")\n  end\nend\n\n# Simulate live data feed\nloop do\n  # Get current price from API/feed\n  current_data = fetch_live_data('AAPL')\n\n  stream.update(\n    price: current_data[:price],\n    volume: current_data[:volume]\n  )\n\n  sleep 60  # Update every minute\nend\n</code></pre>"},{"location":"advanced/streaming/#integration-examples","title":"Integration Examples","text":""},{"location":"advanced/streaming/#with-websocket-feed","title":"With WebSocket Feed","text":"<pre><code>require 'faye/websocket'\nrequire 'eventmachine'\n\nEM.run do\n  ws = Faye::WebSocket::Client.new('wss://stream.example.com')\n\n  ws.on :message do |event|\n    data = JSON.parse(event.data)\n    stream.update(\n      price: data['price'],\n      volume: data['volume']\n    )\n  end\nend\n</code></pre>"},{"location":"advanced/streaming/#with-rest-api-polling","title":"With REST API Polling","text":"<pre><code>require 'faraday'\n\nloop do\n  response = Faraday.get(\"https://api.example.com/quote/AAPL\")\n  data = JSON.parse(response.body)\n\n  stream.update(\n    price: data['lastPrice'],\n    volume: data['volume']\n  )\n\n  sleep 10\nend\n</code></pre>"},{"location":"advanced/streaming/#best-practices","title":"Best Practices","text":"<ol> <li>Error Handling: Wrap callbacks in begin/rescue</li> <li>Performance: Limit callback complexity</li> <li>Memory: Use appropriate window_size</li> <li>Validation: Verify data before processing</li> <li>Logging: Track all signals and actions</li> </ol>"},{"location":"advanced/streaming/#related","title":"Related","text":"<ul> <li>Portfolio Management - Execute trades from signals</li> <li>Backtesting - Test strategies before going live</li> <li>Risk Management - Position sizing for live trading</li> </ul>"},{"location":"api/","title":"API Reference","text":"<p>Complete API documentation for SQA classes and modules.</p> <p>Auto-Generated API Documentation</p> <p>For detailed API documentation with all methods, parameters, and return values, see the Complete API Reference - automatically generated from YARD comments with the same Material theme!</p>"},{"location":"api/#quick-navigation","title":"Quick Navigation","text":"Class Description SQA Module Main module, initialization, configuration SQA::Stock Stock data management SQA::DataFrame High-performance data structures SQA::Strategy Trading strategy framework SQA::Portfolio Position and trade tracking SQA::Backtest Strategy simulation SQA::Config Configuration management SQAI/SQA::TAI Technical indicators"},{"location":"api/#sqa-module","title":"SQA Module","text":"<p>Main module containing initialization and global accessors.</p>"},{"location":"api/#module-methods","title":"Module Methods","text":""},{"location":"api/#sqainitargv-argv","title":"<code>SQA.init(argv = ARGV)</code>","text":"<p>Initializes the SQA library. Should be called once at application startup.</p> <pre><code>SQA.init\n# Or with arguments\nSQA.init(\"--debug\")\n</code></pre> <p>Returns: <code>SQA::Config</code> - The configuration instance</p>"},{"location":"api/#sqaconfig","title":"<code>SQA.config</code>","text":"<p>Returns the current configuration object.</p> <pre><code>SQA.config.data_dir = \"~/my_data\"\nSQA.config.debug = true\n</code></pre> <p>Returns: <code>SQA::Config</code></p>"},{"location":"api/#sqadata_dir","title":"<code>SQA.data_dir</code>","text":"<p>Returns the data directory as a Pathname.</p> <pre><code>path = SQA.data_dir  # =&gt; #&lt;Pathname:/Users/you/sqa_data&gt;\n</code></pre> <p>Returns: <code>Pathname</code></p>"},{"location":"api/#sqaav_api_key","title":"<code>SQA.av_api_key</code>","text":"<p>Returns the Alpha Vantage API key from environment variables.</p> <pre><code>key = SQA.av_api_key\n</code></pre> <p>Returns: <code>String</code> Raises: <code>SQA::ConfigurationError</code> if not set</p>"},{"location":"api/#sqadebug-sqaverbose","title":"<code>SQA.debug?</code> / <code>SQA.verbose?</code>","text":"<p>Check if debug or verbose mode is enabled.</p> <pre><code>puts \"Debug mode\" if SQA.debug?\n</code></pre> <p>Returns: <code>Boolean</code></p>"},{"location":"api/#sqastock","title":"SQA::Stock","text":"<p>Represents a stock with historical data and metadata.</p>"},{"location":"api/#constructor","title":"Constructor","text":""},{"location":"api/#sqastocknewticker-source-alpha_vantage","title":"<code>SQA::Stock.new(ticker:, source: :alpha_vantage)</code>","text":"<p>Creates a new Stock instance and loads/fetches its data.</p> <pre><code>stock = SQA::Stock.new(ticker: 'AAPL')\nstock = SQA::Stock.new(ticker: 'MSFT', source: :yahoo_finance)\n</code></pre> <p>Parameters: - <code>ticker</code> (String) - Stock ticker symbol - <code>source</code> (Symbol) - Data source (<code>:alpha_vantage</code> or <code>:yahoo_finance</code>)</p> <p>Raises: <code>SQA::DataFetchError</code> if data cannot be fetched</p>"},{"location":"api/#instance-attributes","title":"Instance Attributes","text":"Attribute Type Description <code>ticker</code> String Stock symbol (lowercase) <code>name</code> String Company name <code>exchange</code> String Exchange (NASDAQ, NYSE, etc.) <code>source</code> Symbol Data source used <code>df</code> SQA::DataFrame Price/volume DataFrame <code>data</code> SQA::DataFrame::Data Stock metadata <code>indicators</code> Hash Cached indicator values <code>overview</code> Hash Company overview from API"},{"location":"api/#instance-methods","title":"Instance Methods","text":""},{"location":"api/#to_s-inspect","title":"<code>#to_s</code> / <code>#inspect</code>","text":"<p>Returns human-readable string representation.</p> <pre><code>stock.to_s  # =&gt; \"aapl with 1258 data points from 2019-11-09 to 2024-11-08\"\n</code></pre>"},{"location":"api/#update","title":"<code>#update</code>","text":"<p>Updates stock's overview data from API.</p>"},{"location":"api/#save_data","title":"<code>#save_data</code>","text":"<p>Persists metadata to JSON file.</p>"},{"location":"api/#class-methods","title":"Class Methods","text":""},{"location":"api/#sqastocktop","title":"<code>SQA::Stock.top</code>","text":"<p>Fetches top gainers, losers, and most actively traded stocks.</p> <pre><code>top = SQA::Stock.top\ntop.top_gainers.each { |s| puts s.ticker }\ntop.top_losers.first\ntop.most_actively_traded\n</code></pre> <p>Returns: <code>Hashie::Mash</code> with three arrays</p>"},{"location":"api/#sqastockconnection-sqastockconnection","title":"<code>SQA::Stock.connection</code> / <code>SQA::Stock.connection=</code>","text":"<p>Get or set the Faraday connection for API requests.</p> <pre><code># For testing with mocks\nSQA::Stock.connection = mock_connection\n</code></pre>"},{"location":"api/#sqadataframe","title":"SQA::DataFrame","text":"<p>High-performance wrapper around Polars DataFrame.</p>"},{"location":"api/#constructor_1","title":"Constructor","text":""},{"location":"api/#sqadataframenewraw_data-nil-mapping-transformers","title":"<code>SQA::DataFrame.new(raw_data = nil, mapping: {}, transformers: {})</code>","text":"<p>Creates a new DataFrame instance.</p> <pre><code>df = SQA::DataFrame.new(data, mapping: { \"Close\" =&gt; \"close_price\" })\n</code></pre>"},{"location":"api/#instance-attributes_1","title":"Instance Attributes","text":"Attribute Type Description <code>data</code> Polars::DataFrame Underlying Polars DataFrame"},{"location":"api/#instance-methods_1","title":"Instance Methods","text":""},{"location":"api/#columns-keys","title":"<code>#columns</code> / <code>#keys</code>","text":"<p>Returns column names.</p> <pre><code>df.columns  # =&gt; [\"timestamp\", \"open_price\", \"high_price\", ...]\n</code></pre>"},{"location":"api/#column_name","title":"<code>#[](column_name)</code>","text":"<p>Access a column (delegates to Polars).</p> <pre><code>prices = df[\"adj_close_price\"].to_a\n</code></pre>"},{"location":"api/#size-nrows-length","title":"<code>#size</code> / <code>#nrows</code> / <code>#length</code>","text":"<p>Returns number of rows.</p> <pre><code>df.size  # =&gt; 1258\n</code></pre>"},{"location":"api/#ncols","title":"<code>#ncols</code>","text":"<p>Returns number of columns.</p>"},{"location":"api/#to_csvpath","title":"<code>#to_csv(path)</code>","text":"<p>Writes DataFrame to CSV file.</p> <pre><code>df.to_csv(\"output.csv\")\n</code></pre>"},{"location":"api/#to_h","title":"<code>#to_h</code>","text":"<p>Converts to Ruby Hash.</p> <pre><code>hash = df.to_h\n# =&gt; { timestamp: [...], close_price: [...], ... }\n</code></pre>"},{"location":"api/#appendother_df-concatother_df","title":"<code>#append!(other_df)</code> / <code>#concat!(other_df)</code>","text":"<p>Appends another DataFrame in place.</p>"},{"location":"api/#concat_and_deduplicateother_df-sort_column-timestamp","title":"<code>#concat_and_deduplicate!(other_df, sort_column: \"timestamp\")</code>","text":"<p>Appends, removes duplicates, and sorts. Enforces ascending order for TA-Lib compatibility.</p>"},{"location":"api/#rename_columnsmapping","title":"<code>#rename_columns!(mapping)</code>","text":"<p>Renames columns according to mapping.</p> <pre><code>df.rename_columns!({ \"open\" =&gt; \"open_price\", \"close\" =&gt; \"close_price\" })\n</code></pre>"},{"location":"api/#apply_transformerstransformers","title":"<code>#apply_transformers!(transformers)</code>","text":"<p>Applies transformer functions to columns.</p> <pre><code>df.apply_transformers!({ \"volume\" =&gt; -&gt;(v) { v.to_i } })\n</code></pre>"},{"location":"api/#fplcolumn-fpop","title":"<code>#fpl(column:, fpop:)</code>","text":"<p>Calculates Future Period Loss/Profit.</p> <pre><code>fpl_data = df.fpl(column: \"adj_close_price\", fpop: 10)\n</code></pre>"},{"location":"api/#fpl_analysiscolumn-fpop","title":"<code>#fpl_analysis(column:, fpop:)</code>","text":"<p>FPL analysis with risk metrics.</p>"},{"location":"api/#class-methods_1","title":"Class Methods","text":""},{"location":"api/#sqadataframeloadsource-mapping-transformers","title":"<code>SQA::DataFrame.load(source:, mapping: {}, transformers: {})</code>","text":"<p>Loads DataFrame from CSV file.</p> <pre><code>df = SQA::DataFrame.load(source: \"path/to/data.csv\")\n</code></pre>"},{"location":"api/#sqadataframefrom_aofhaofh-mapping-transformers","title":"<code>SQA::DataFrame.from_aofh(aofh, mapping: {}, transformers: {})</code>","text":"<p>Creates DataFrame from array of hashes.</p> <pre><code>data = [{ \"date\" =&gt; \"2024-01-01\", \"price\" =&gt; 100.0 }]\ndf = SQA::DataFrame.from_aofh(data)\n</code></pre>"},{"location":"api/#sqadataframefrom_csv_filesource-mapping-transformers","title":"<code>SQA::DataFrame.from_csv_file(source, mapping: {}, transformers: {})</code>","text":"<p>Creates DataFrame from CSV file.</p>"},{"location":"api/#sqadataframefrom_json_filesource-mapping-transformers","title":"<code>SQA::DataFrame.from_json_file(source, mapping: {}, transformers: {})</code>","text":"<p>Creates DataFrame from JSON file.</p>"},{"location":"api/#sqastrategy","title":"SQA::Strategy","text":"<p>Framework for managing trading strategies.</p>"},{"location":"api/#constructor_2","title":"Constructor","text":""},{"location":"api/#sqastrategynew","title":"<code>SQA::Strategy.new</code>","text":"<p>Creates a new Strategy manager with empty collection.</p> <pre><code>strategy = SQA::Strategy.new\n</code></pre>"},{"location":"api/#instance-attributes_2","title":"Instance Attributes","text":"Attribute Type Description <code>strategies</code> Array Collection of strategy methods"},{"location":"api/#instance-methods_2","title":"Instance Methods","text":""},{"location":"api/#addstrategy","title":"<code>#add(strategy)</code>","text":"<p>Adds a trading strategy.</p> <pre><code>strategy.add(SQA::Strategy::RSI)\nstrategy.add(MyModule.method(:custom_trade))\n</code></pre> <p>Parameters: - <code>strategy</code> (Class or Method) - Strategy to add</p> <p>Raises: <code>BadParameterError</code> if not Class or Method</p>"},{"location":"api/#executevector","title":"<code>#execute(vector)</code>","text":"<p>Executes all strategies with given data.</p> <pre><code>signals = strategy.execute(vector)\n# =&gt; [:buy, :hold, :sell]\n</code></pre> <p>Parameters: - <code>vector</code> (OpenStruct) - Data for strategy analysis</p> <p>Returns: <code>Array&lt;Symbol&gt;</code> - Array of <code>:buy</code>, <code>:sell</code>, or <code>:hold</code></p>"},{"location":"api/#auto_loadexcept-common-only","title":"<code>#auto_load(except: [:common], only: [])</code>","text":"<p>Auto-loads strategy files from strategy directory.</p> <pre><code>strategy.auto_load(only: [:rsi, :macd])\nstrategy.auto_load(except: [:random])\n</code></pre>"},{"location":"api/#available","title":"<code>#available</code>","text":"<p>Lists all available strategy classes.</p> <pre><code>strategy.available\n# =&gt; [SQA::Strategy::RSI, SQA::Strategy::MACD, ...]\n</code></pre>"},{"location":"api/#strategy-interface","title":"Strategy Interface","text":"<p>All strategy classes must implement:</p> <pre><code>class SQA::Strategy::MyStrategy\n  def self.trade(vector)\n    # Returns :buy, :sell, or :hold\n  end\nend\n</code></pre>"},{"location":"api/#sqaportfolio","title":"SQA::Portfolio","text":"<p>Track positions and calculate P&amp;L.</p>"},{"location":"api/#constructor_3","title":"Constructor","text":""},{"location":"api/#sqaportfolionewinitial_cash-commission-00","title":"<code>SQA::Portfolio.new(initial_cash:, commission: 0.0)</code>","text":"<pre><code>portfolio = SQA::Portfolio.new(initial_cash: 10_000, commission: 1.0)\n</code></pre>"},{"location":"api/#instance-attributes_3","title":"Instance Attributes","text":"Attribute Type Description <code>cash</code> Float Available cash balance <code>positions</code> Hash Ticker \u2192 share count <code>trades</code> Array Trade history"},{"location":"api/#instance-methods_3","title":"Instance Methods","text":""},{"location":"api/#buyticker-shares-price","title":"<code>#buy(ticker, shares:, price:)</code>","text":"<p>Purchases shares.</p> <pre><code>portfolio.buy('AAPL', shares: 10, price: 150.0)\n</code></pre>"},{"location":"api/#sellticker-shares-price","title":"<code>#sell(ticker, shares:, price:)</code>","text":"<p>Sells shares.</p> <pre><code>portfolio.sell('AAPL', shares: 5, price: 160.0)\n</code></pre>"},{"location":"api/#valuecurrent_prices","title":"<code>#value(current_prices)</code>","text":"<p>Calculates total portfolio value.</p> <pre><code>total = portfolio.value({ 'AAPL' =&gt; 165.0 })\n</code></pre> <p>Parameters: - <code>current_prices</code> (Hash) - Ticker \u2192 current price</p>"},{"location":"api/#sqabacktest","title":"SQA::Backtest","text":"<p>Simulate strategies on historical data.</p>"},{"location":"api/#constructor_4","title":"Constructor","text":""},{"location":"api/#sqabacktestnewstock-strategy-initial_cash-10_000-commission-00","title":"<code>SQA::Backtest.new(stock:, strategy:, initial_cash: 10_000, commission: 0.0)</code>","text":"<pre><code>backtest = SQA::Backtest.new(\n  stock: stock,\n  strategy: SQA::Strategy::RSI,\n  initial_cash: 10_000,\n  commission: 1.0\n)\n</code></pre>"},{"location":"api/#instance-methods_4","title":"Instance Methods","text":""},{"location":"api/#run","title":"<code>#run</code>","text":"<p>Executes the backtest simulation.</p> <pre><code>results = backtest.run\n</code></pre> <p>Returns: Results object with metrics:</p> Metric Description <code>total_return</code> Total percentage return <code>sharpe_ratio</code> Risk-adjusted return <code>sortino_ratio</code> Downside risk-adjusted return <code>max_drawdown</code> Largest peak-to-trough decline <code>win_rate</code> Percentage of profitable trades <code>num_trades</code> Total number of trades <code>final_value</code> Ending portfolio value"},{"location":"api/#sqaconfig_1","title":"SQA::Config","text":"<p>Configuration management with Hashie::Dash.</p>"},{"location":"api/#properties","title":"Properties","text":"Property Type Default Description <code>data_dir</code> String <code>~/sqa_data</code> Data storage directory <code>log_level</code> Symbol <code>:info</code> Log level <code>debug</code> Boolean <code>false</code> Debug mode <code>verbose</code> Boolean <code>false</code> Verbose output <code>lazy_update</code> Boolean <code>false</code> Skip API updates <code>plotting_library</code> Symbol <code>:gruff</code> Plotting library"},{"location":"api/#instance-methods_5","title":"Instance Methods","text":""},{"location":"api/#debug-verbose","title":"<code>#debug?</code> / <code>#verbose?</code>","text":"<p>Check mode flags.</p>"},{"location":"api/#from_file","title":"<code>#from_file</code>","text":"<p>Loads configuration from file (YAML, TOML, or JSON).</p>"},{"location":"api/#dump_file","title":"<code>#dump_file</code>","text":"<p>Saves configuration to file.</p>"},{"location":"api/#class-methods_2","title":"Class Methods","text":""},{"location":"api/#sqaconfigreset","title":"<code>SQA::Config.reset</code>","text":"<p>Resets configuration to defaults.</p>"},{"location":"api/#sqaconfiginitialized","title":"<code>SQA::Config.initialized?</code>","text":"<p>Check if config has been initialized.</p>"},{"location":"api/#sqai-indicators","title":"SQAI Indicators","text":"<p>All indicators from TA-Lib via the <code>sqa-tai</code> gem.</p>"},{"location":"api/#common-usage","title":"Common Usage","text":"<pre><code>prices = stock.df[\"adj_close_price\"].to_a\n\n# Moving Averages\nsma = SQAI.sma(prices, period: 20)\nema = SQAI.ema(prices, period: 12)\n\n# Momentum\nrsi = SQAI.rsi(prices, period: 14)\nmacd, signal, hist = SQAI.macd(prices,\n  fast_period: 12,\n  slow_period: 26,\n  signal_period: 9\n)\n\n# Volatility\nupper, middle, lower = SQAI.bbands(prices, period: 20)\natr = SQAI.atr(high, low, close, period: 14)\n</code></pre>"},{"location":"api/#list-all-indicators","title":"List All Indicators","text":"<pre><code>SQAI.methods.grep(/^[a-z]/).sort\n# =&gt; [:acos, :ad, :add, :adosc, :adx, :adxr, ...]\n</code></pre> <p>See Technical Indicators for complete reference.</p>"},{"location":"api/#error-classes","title":"Error Classes","text":""},{"location":"api/#sqadatafetcherror","title":"SQA::DataFetchError","text":"<p>Raised when unable to fetch data from API or file.</p> <pre><code>begin\n  stock = SQA::Stock.new(ticker: 'INVALID')\nrescue SQA::DataFetchError =&gt; e\n  puts e.message\n  puts e.original_error  # Wrapped exception\nend\n</code></pre>"},{"location":"api/#sqaconfigurationerror","title":"SQA::ConfigurationError","text":"<p>Raised for invalid or missing configuration.</p> <pre><code>begin\n  key = SQA.av_api_key\nrescue SQA::ConfigurationError =&gt; e\n  puts \"API key not set\"\nend\n</code></pre>"},{"location":"api/#sqabadparametererror","title":"SQA::BadParameterError","text":"<p>Raised for invalid method parameters.</p> <pre><code>begin\n  strategy.add(\"not a class\")\nrescue SQA::BadParameterError\n  puts \"Invalid strategy type\"\nend\n</code></pre>"},{"location":"api/#apierror","title":"ApiError","text":"<p>Raised when external API returns error response.</p>"},{"location":"api/#notimplemented","title":"NotImplemented","text":"<p>Raised for unimplemented features.</p>"},{"location":"api/#introspection","title":"Introspection","text":"<p>Use Ruby introspection to explore the API:</p> <pre><code># List instance methods\nSQA::Stock.instance_methods(false)\n\n# List class methods\nSQA::Stock.methods(false)\n\n# Check method signature\nSQA::Stock.instance_method(:initialize).parameters\n\n# List available indicators\nSQAI.methods.grep(/^[a-z]/).sort\n</code></pre>"},{"location":"api/dataframe/","title":"DataFrame API Reference","text":""},{"location":"api/dataframe/#overview","title":"Overview","text":"<p><code>SQA::DataFrame</code> is a high-performance wrapper around the Polars DataFrame library, specifically optimized for time series financial data manipulation. Polars is a Rust-backed library that provides blazingly fast columnar data operations.</p> <p>The DataFrame system consists of two main components:</p> <ol> <li>SQA::DataFrame - The main wrapper class with financial data convenience methods</li> <li>SQA::DataFrame::Data - Metadata storage for stock information (separate from price data)</li> </ol>"},{"location":"api/dataframe/#architecture","title":"Architecture","text":""},{"location":"api/dataframe/#why-polars","title":"Why Polars?","text":"<p>Polars provides: - Blazing Speed: Rust-backed implementation with zero-copy operations - Memory Efficiency: Columnar storage format optimized for analytics - Lazy Evaluation: Query optimization before execution - Type Safety: Strong typing with automatic type inference</p>"},{"location":"api/dataframe/#wrapper-benefits","title":"Wrapper Benefits","text":"<p><code>SQA::DataFrame</code> wraps Polars to provide: - Financial data-specific convenience methods - Consistent column naming across data sources - FPL (Future Period Loss/Profit) analysis methods - Seamless integration with SQA workflows - Method delegation for full Polars API access</p>"},{"location":"api/dataframe/#class-sqadataframe","title":"Class: SQA::DataFrame","text":"<p>Location: <code>lib/sqa/data_frame.rb</code></p>"},{"location":"api/dataframe/#instance-attributes","title":"Instance Attributes","text":"<pre><code>df.data  # =&gt; Polars::DataFrame - The underlying Polars DataFrame\n</code></pre> <p>Direct access to the Polars DataFrame for advanced operations.</p>"},{"location":"api/dataframe/#class-methods","title":"Class Methods","text":""},{"location":"api/dataframe/#newraw_data-nil-mapping-transformers","title":"<code>.new(raw_data = nil, mapping: {}, transformers: {})</code>","text":"<p>Creates a new DataFrame instance with optional column mapping and transformations.</p> <p>Parameters: - <code>raw_data</code> (Hash, Array, Polars::DataFrame, nil) - Initial data - <code>mapping</code> (Hash) - Column name mappings <code>{ \"source_name\" =&gt; :target_name }</code> - <code>transformers</code> (Hash) - Value transformation lambdas <code>{ column: -&gt;(v) { transform(v) } }</code></p> <p>Returns: <code>SQA::DataFrame</code> instance</p> <p>Important: Columns are renamed FIRST, then transformers are applied. Transformers receive renamed column names.</p> <p>Example: <pre><code># From array of hashes\ndata = [\n  { 'Date' =&gt; '2024-01-01', 'Close' =&gt; '150.5' },\n  { 'Date' =&gt; '2024-01-02', 'Close' =&gt; '152.3' }\n]\n\nmapping = { 'Date' =&gt; :timestamp, 'Close' =&gt; :close_price }\ntransformers = { close_price: -&gt;(v) { v.to_f } }\n\ndf = SQA::DataFrame.new(data, mapping: mapping, transformers: transformers)\n</code></pre></p>"},{"location":"api/dataframe/#loadsource-transformers-mapping","title":"<code>.load(source:, transformers: {}, mapping: {})</code>","text":"<p>Loads a DataFrame from a CSV file with optional transformations.</p> <p>Parameters: - <code>source</code> (String, Pathname) - Path to CSV file - <code>mapping</code> (Hash) - Column name mappings (usually empty for cached data) - <code>transformers</code> (Hash) - Value transformations (usually empty for cached data)</p> <p>Returns: <code>SQA::DataFrame</code> instance</p> <p>Note: For cached CSV files, transformers and mapping should typically be empty since transformations were already applied when the data was first fetched.</p> <p>Example: <pre><code># Load from cached CSV (no transformations needed)\ndf = SQA::DataFrame.load(source: \"~/sqa_data/aapl.csv\")\n\n# Load with migration transformations\ndf = SQA::DataFrame.load(\n  source: \"old_data.csv\",\n  mapping: { 'date' =&gt; :timestamp },\n  transformers: { volume: -&gt;(v) { v.to_i } }\n)\n</code></pre></p>"},{"location":"api/dataframe/#from_csv_filesource-mapping-transformers","title":"<code>.from_csv_file(source, mapping: {}, transformers: {})</code>","text":"<p>Alias for <code>.load()</code> - loads DataFrame from CSV file.</p> <p>Example: <pre><code>df = SQA::DataFrame.from_csv_file('stock_data.csv')\n</code></pre></p>"},{"location":"api/dataframe/#from_json_filesource-mapping-transformers","title":"<code>.from_json_file(source, mapping: {}, transformers: {})</code>","text":"<p>Loads DataFrame from JSON file containing array of hashes.</p> <p>Parameters: - <code>source</code> (String, Pathname) - Path to JSON file - <code>mapping</code> (Hash) - Column name mappings - <code>transformers</code> (Hash) - Value transformations</p> <p>Returns: <code>SQA::DataFrame</code> instance</p> <p>Example: <pre><code># JSON format: [{\"date\": \"2024-01-01\", \"price\": 150.5}, ...]\ndf = SQA::DataFrame.from_json_file('prices.json')\n</code></pre></p>"},{"location":"api/dataframe/#from_aofhaofh-mapping-transformers","title":"<code>.from_aofh(aofh, mapping: {}, transformers: {})</code>","text":"<p>Creates DataFrame from Array of Hashes (AOFH).</p> <p>Parameters: - <code>aofh</code> (Array) - Array of hash records - <code>mapping</code> (Hash) - Column name mappings - <code>transformers</code> (Hash) - Value transformations <p>Returns: <code>SQA::DataFrame</code> instance</p> <p>Example: <pre><code>data = [\n  { date: '2024-01-01', price: 150.5, volume: 1000000 },\n  { date: '2024-01-02', price: 152.0, volume: 1100000 }\n]\n\ndf = SQA::DataFrame.from_aofh(data)\n</code></pre></p>"},{"location":"api/dataframe/#instance-methods","title":"Instance Methods","text":""},{"location":"api/dataframe/#column-operations","title":"Column Operations","text":""},{"location":"api/dataframe/#columns","title":"<code>#columns</code>","text":"<p>Returns array of column names.</p> <p>Returns: <code>Array&lt;String&gt;</code></p> <p>Example: <pre><code>df.columns\n# =&gt; [\"timestamp\", \"open_price\", \"high_price\", \"low_price\",\n#     \"close_price\", \"adj_close_price\", \"volume\"]\n</code></pre></p>"},{"location":"api/dataframe/#keys","title":"<code>#keys</code>","text":"<p>Alias for <code>#columns</code>.</p>"},{"location":"api/dataframe/#vectors","title":"<code>#vectors</code>","text":"<p>Alias for <code>#columns</code>.</p>"},{"location":"api/dataframe/#column_name","title":"<code>#[](column_name)</code>","text":"<p>Access column data (returns Polars::Series).</p> <p>Parameters: - <code>column_name</code> (String) - Name of column</p> <p>Returns: <code>Polars::Series</code></p> <p>Example: <pre><code># Get close prices\nclose_series = df[\"close_price\"]\n\n# Convert to array\nprices = df[\"close_price\"].to_a\n# =&gt; [150.5, 152.0, 151.5, ...]\n</code></pre></p>"},{"location":"api/dataframe/#rename_columnsmapping","title":"<code>#rename_columns!(mapping)</code>","text":"<p>Renames columns in place according to mapping.</p> <p>Parameters: - <code>mapping</code> (Hash) - Hash of old_name =&gt; new_name mappings</p> <p>Returns: <code>nil</code> (modifies in place)</p> <p>Important: - Normalizes symbol keys to strings - Tries exact match first, then lowercase match - Polars requires both keys and values to be strings</p> <p>Example: <pre><code>mapping = { 'Open' =&gt; :open_price, 'Close' =&gt; :close_price }\ndf.rename_columns!(mapping)\n</code></pre></p>"},{"location":"api/dataframe/#apply_transformerstransformers","title":"<code>#apply_transformers!(transformers)</code>","text":"<p>Applies transformation functions to columns in place.</p> <p>Parameters: - <code>transformers</code> (Hash) - Hash of column_name =&gt; lambda mappings</p> <p>Returns: <code>nil</code> (modifies in place)</p> <p>Example: <pre><code>transformers = {\n  volume: -&gt;(v) { v.to_i },\n  close_price: -&gt;(v) { v.to_f.round(2) }\n}\ndf.apply_transformers!(transformers)\n</code></pre></p>"},{"location":"api/dataframe/#dimension-methods","title":"Dimension Methods","text":""},{"location":"api/dataframe/#size","title":"<code>#size</code>","text":"<p>Returns number of rows.</p> <p>Returns: <code>Integer</code></p> <p>Aliases: <code>#nrows</code>, <code>#length</code></p> <p>Example: <pre><code>df.size      # =&gt; 250\ndf.nrows     # =&gt; 250\ndf.length    # =&gt; 250\n</code></pre></p>"},{"location":"api/dataframe/#ncols","title":"<code>#ncols</code>","text":"<p>Returns number of columns.</p> <p>Returns: <code>Integer</code></p> <p>Example: <pre><code>df.ncols  # =&gt; 7\n</code></pre></p>"},{"location":"api/dataframe/#data-combination","title":"Data Combination","text":""},{"location":"api/dataframe/#appendother_df","title":"<code>#append!(other_df)</code>","text":"<p>Appends another DataFrame's rows to this one.</p> <p>Parameters: - <code>other_df</code> (SQA::DataFrame) - DataFrame to append</p> <p>Returns: <code>nil</code> (modifies in place)</p> <p>Raises: <code>RuntimeError</code> if row count doesn't match expected</p> <p>Aliases: <code>#concat!</code></p> <p>Example: <pre><code># Combine two DataFrames\ndf1.append!(df2)\n\n# Verify\nputs df1.size  # =&gt; original size + df2 size\n</code></pre></p>"},{"location":"api/dataframe/#export-methods","title":"Export Methods","text":""},{"location":"api/dataframe/#to_csvpath_to_file","title":"<code>#to_csv(path_to_file)</code>","text":"<p>Writes DataFrame to CSV file.</p> <p>Parameters: - <code>path_to_file</code> (String, Pathname) - Destination file path</p> <p>Returns: <code>nil</code></p> <p>Example: <pre><code>df.to_csv(\"~/sqa_data/aapl_backup.csv\")\n</code></pre></p>"},{"location":"api/dataframe/#to_h","title":"<code>#to_h</code>","text":"<p>Converts DataFrame to Hash with symbolized keys.</p> <p>Returns: <code>Hash</code> - Column name symbols to arrays</p> <p>Example: <pre><code>df.to_h\n# =&gt; {\n#   timestamp: [\"2024-01-01\", \"2024-01-02\", ...],\n#   close_price: [150.5, 152.0, ...],\n#   volume: [1000000, 1100000, ...]\n# }\n</code></pre></p>"},{"location":"api/dataframe/#fpl-analysis-methods","title":"FPL Analysis Methods","text":""},{"location":"api/dataframe/#fplcolumn-adj_close_price-fpop-14","title":"<code>#fpl(column: \"adj_close_price\", fpop: 14)</code>","text":"<p>Calculates Future Period Loss/Profit for each data point.</p> <p>Parameters: - <code>column</code> (String, Symbol) - Price column name - <code>fpop</code> (Integer) - Future Period of Performance (days to look ahead)</p> <p>Returns: <code>Array&lt;Array&lt;Float, Float&gt;&gt;</code> - Array of [min_delta, max_delta] pairs</p> <p>Example: <pre><code># Look 10 days into the future\nfpl_data = df.fpl(column: \"adj_close_price\", fpop: 10)\n# =&gt; [[-2.5, 5.3], [-1.2, 3.8], ...]\n</code></pre></p>"},{"location":"api/dataframe/#fpl_analysiscolumn-adj_close_price-fpop-14","title":"<code>#fpl_analysis(column: \"adj_close_price\", fpop: 14)</code>","text":"<p>Comprehensive FPL analysis with risk metrics and direction classification.</p> <p>Parameters: - <code>column</code> (String, Symbol) - Price column name - <code>fpop</code> (Integer) - Future Period of Performance</p> <p>Returns: <code>Array&lt;Hash&gt;</code> - Array of analysis hashes</p> <p>Hash Keys: - <code>:min_delta</code> - Minimum future price change % - <code>:max_delta</code> - Maximum future price change % - <code>:magnitude</code> - Average expected movement % - <code>:risk</code> - Volatility range - <code>:direction</code> - <code>:UP</code>, <code>:DOWN</code>, <code>:UNCERTAIN</code>, or <code>:FLAT</code></p> <p>Example: <pre><code>analysis = df.fpl_analysis(column: \"adj_close_price\", fpop: 10)\n\nanalysis.first\n# =&gt; {\n#   min_delta: -2.5,\n#   max_delta: 5.3,\n#   magnitude: 3.9,\n#   risk: 7.8,\n#   direction: :UP\n# }\n\n# Filter high-quality opportunities\nfiltered = SQA::FPOP.filter_by_quality(\n  analysis,\n  min_magnitude: 5.0,\n  max_risk: 25.0,\n  directions: [:UP]\n)\n</code></pre></p>"},{"location":"api/dataframe/#delegation-to-polars","title":"Delegation to Polars","text":"<p>Any method not defined on <code>SQA::DataFrame</code> is automatically delegated to the underlying <code>Polars::DataFrame</code>.</p> <p>Example: <pre><code># These call Polars methods directly\ndf.head(10)          # First 10 rows\ndf.tail(5)           # Last 5 rows\ndf.describe          # Statistical summary\ndf.filter(...)       # Polars filter expression\ndf.select(...)       # Select columns\ndf.with_column(...)  # Add computed column\n</code></pre></p> <p>See Polars documentation for full API.</p>"},{"location":"api/dataframe/#class-helper-methods","title":"Class Helper Methods","text":"<p>These utility methods are primarily used internally by data source adapters.</p>"},{"location":"api/dataframe/#generate_mappingkeys","title":"<code>.generate_mapping(keys)</code>","text":"<p>Generates column name mapping from source keys to underscored symbols.</p> <p>Parameters: - <code>keys</code> (Array) - Array of column names</p> <p>Returns: <code>Hash</code> - Mapping hash</p> <p>Example: <pre><code>keys = ['Open', 'High', 'Low', 'Close']\nmapping = SQA::DataFrame.generate_mapping(keys)\n# =&gt; { \"Open\" =&gt; :open, \"High\" =&gt; :high, \"Low\" =&gt; :low, \"Close\" =&gt; :close }\n</code></pre></p>"},{"location":"api/dataframe/#underscore_keykey","title":"<code>.underscore_key(key)</code>","text":"<p>Converts a key to underscored, lowercase symbol.</p> <p>Parameters: - <code>key</code> (String, Symbol) - Key to convert</p> <p>Returns: <code>Symbol</code></p> <p>Example: <pre><code>SQA::DataFrame.underscore_key('AdjClose')    # =&gt; :adj_close\nSQA::DataFrame.underscore_key('OpenPrice')   # =&gt; :open_price\n</code></pre></p> <p>Alias: <code>.sanitize_key</code></p>"},{"location":"api/dataframe/#normalize_keyshash-adapter_mapping","title":"<code>.normalize_keys(hash, adapter_mapping: {})</code>","text":"<p>Normalizes hash keys to underscored symbols.</p> <p>Parameters: - <code>hash</code> (Hash) - Hash to normalize - <code>adapter_mapping</code> (Hash) - Optional custom mappings</p> <p>Returns: <code>Hash</code> - Hash with normalized keys</p>"},{"location":"api/dataframe/#renamehash-mapping","title":"<code>.rename(hash, mapping)</code>","text":"<p>Renames hash keys according to mapping.</p> <p>Parameters: - <code>hash</code> (Hash) - Hash to modify - <code>mapping</code> (Hash) - Key mappings</p> <p>Returns: <code>Hash</code> - Modified hash</p>"},{"location":"api/dataframe/#is_datevalue","title":"<code>.is_date?(value)</code>","text":"<p>Checks if value looks like a date string (YYYY-MM-DD format).</p> <p>Parameters: - <code>value</code> (String) - Value to check</p> <p>Returns: <code>Boolean</code></p> <p>Example: <pre><code>SQA::DataFrame.is_date?(\"2024-01-01\")  # =&gt; true\nSQA::DataFrame.is_date?(\"150.5\")       # =&gt; false\n</code></pre></p>"},{"location":"api/dataframe/#class-sqadataframedata","title":"Class: SQA::DataFrame::Data","text":"<p>Location: <code>lib/sqa/data_frame/data.rb</code></p> <p>A metadata storage class for stock information, completely separate from the price/volume DataFrame.</p>"},{"location":"api/dataframe/#attributes","title":"Attributes","text":"<p>All attributes are read/write accessible via <code>attr_accessor</code>:</p> <ul> <li><code>ticker</code> (String) - Stock symbol (e.g., 'AAPL', 'MSFT')</li> <li><code>name</code> (String) - Company name</li> <li><code>exchange</code> (String) - Exchange symbol (NASDAQ, NYSE, etc.)</li> <li><code>source</code> (Symbol) - Data source (<code>:alpha_vantage</code>, <code>:yahoo_finance</code>)</li> <li><code>indicators</code> (Hash) - Technical indicators configuration</li> <li><code>overview</code> (Hash) - Company overview data from Alpha Vantage</li> </ul>"},{"location":"api/dataframe/#instance-methods_1","title":"Instance Methods","text":""},{"location":"api/dataframe/#newdata_hash-nil-ticker-nil-name-nil-exchange-nil-source-alpha_vantage-indicators-overview","title":"<code>.new(data_hash = nil, ticker: nil, name: nil, exchange: nil, source: :alpha_vantage, indicators: {}, overview: {})</code>","text":"<p>Dual initialization constructor supporting both hash and keyword arguments.</p> <p>From Hash (JSON deserialization): <pre><code>json_data = JSON.parse(File.read('aapl.json'))\ndata = SQA::DataFrame::Data.new(json_data)\n</code></pre></p> <p>From Keyword Arguments: <pre><code>data = SQA::DataFrame::Data.new(\n  ticker: 'AAPL',\n  source: :alpha_vantage,\n  indicators: { rsi: 14, sma: [20, 50] }\n)\n</code></pre></p>"},{"location":"api/dataframe/#to_jsonargs","title":"<code>#to_json(*args)</code>","text":"<p>Serializes metadata to JSON string.</p> <p>Returns: <code>String</code> - JSON representation</p> <p>Example: <pre><code>json_string = data.to_json\nFile.write('aapl.json', json_string)\n</code></pre></p>"},{"location":"api/dataframe/#to_h_1","title":"<code>#to_h</code>","text":"<p>Converts metadata to Hash.</p> <p>Returns: <code>Hash</code> - Hash representation</p> <p>Example: <pre><code>hash = data.to_h\n# =&gt; {\n#   ticker: 'AAPL',\n#   name: 'Apple Inc.',\n#   exchange: 'NASDAQ',\n#   source: :alpha_vantage,\n#   indicators: { rsi: 14 },\n#   overview: { ... }\n# }\n</code></pre></p>"},{"location":"api/dataframe/#usage-in-sqastock","title":"Usage in SQA::Stock","text":"<p><code>SQA::Stock</code> uses <code>DataFrame::Data</code> to persist metadata separately from price data:</p> <p>Persistence Pattern: <pre><code># In SQA::Stock\n@data_path = SQA.data_dir + \"#{@ticker}.json\"  # Metadata file\n@df_path = SQA.data_dir + \"#{@ticker}.csv\"     # Price data file\n\n# Save metadata\n@data_path.write(@data.to_json)\n\n# Load metadata\n@data = SQA::DataFrame::Data.new(JSON.parse(@data_path.read))\n</code></pre></p>"},{"location":"api/dataframe/#data-source-adapters","title":"Data Source Adapters","text":""},{"location":"api/dataframe/#alpha-vantage-adapter","title":"Alpha Vantage Adapter","text":"<p>Location: <code>lib/sqa/data_frame/alpha_vantage.rb</code></p> <p>Class: <code>SQA::DataFrame::AlphaVantage</code></p>"},{"location":"api/dataframe/#constants","title":"Constants","text":"<pre><code># Standard column headers\nHEADERS = [\n  :timestamp,       # 0\n  :open_price,      # 1\n  :high_price,      # 2\n  :low_price,       # 3\n  :close_price,     # 4\n  :adj_close_price, # 5\n  :volume           # 6\n]\n\n# Maps Alpha Vantage CSV columns to standard headers\nHEADER_MAPPING = {\n  \"timestamp\" =&gt; HEADERS[0],  # :timestamp\n  \"open\"      =&gt; HEADERS[1],  # :open_price\n  \"high\"      =&gt; HEADERS[2],  # :high_price\n  \"low\"       =&gt; HEADERS[3],  # :low_price\n  \"close\"     =&gt; HEADERS[4],  # :close_price\n  \"volume\"    =&gt; HEADERS[6]   # :volume\n}\n\n# Value transformations applied after renaming\nTRANSFORMERS = {\n  HEADERS[1] =&gt; -&gt;(v) { v.to_f.round(3) },  # :open_price\n  HEADERS[2] =&gt; -&gt;(v) { v.to_f.round(3) },  # :high_price\n  HEADERS[3] =&gt; -&gt;(v) { v.to_f.round(3) },  # :low_price\n  HEADERS[4] =&gt; -&gt;(v) { v.to_f.round(3) },  # :close_price\n  HEADERS[6] =&gt; -&gt;(v) { v.to_i }            # :volume\n}\n</code></pre>"},{"location":"api/dataframe/#recentticker-full-false-from_date-nil","title":"<code>.recent(ticker, full: false, from_date: nil)</code>","text":"<p>Fetches recent price data from Alpha Vantage API.</p> <p>Parameters: - <code>ticker</code> (String) - Stock symbol - <code>full</code> (Boolean) - If true, fetches full history; otherwise last 100 days - <code>from_date</code> (Date, String, nil) - Optional date filter</p> <p>Returns: <code>SQA::DataFrame</code> - Wrapped DataFrame with standardized columns</p> <p>Requirements: - Environment variable: <code>AV_API_KEY</code> or <code>ALPHAVANTAGE_API_KEY</code> - Free tier: 5 calls/minute, 500 calls/day</p> <p>Important: Alpha Vantage doesn't provide separate adjusted close, so <code>close_price</code> is duplicated as <code>adj_close_price</code> for compatibility.</p> <p>Example: <pre><code># Fetch recent 100 days\ndf = SQA::DataFrame::AlphaVantage.recent('AAPL')\n\n# Fetch full history\ndf = SQA::DataFrame::AlphaVantage.recent('AAPL', full: true)\n\n# Fetch from specific date\ndf = SQA::DataFrame::AlphaVantage.recent('AAPL', from_date: '2024-01-01')\n</code></pre></p>"},{"location":"api/dataframe/#yahoo-finance-adapter","title":"Yahoo Finance Adapter","text":"<p>Location: <code>lib/sqa/data_frame/yahoo_finance.rb</code></p> <p>Class: <code>SQA::DataFrame::YahooFinance</code></p>"},{"location":"api/dataframe/#constants_1","title":"Constants","text":"<pre><code>HEADERS = [\n  :timestamp,       # 0\n  :open_price,      # 1\n  :high_price,      # 2\n  :low_price,       # 3\n  :close_price,     # 4\n  :adj_close_price, # 5\n  :volume           # 6\n]\n\nHEADER_MAPPING = {\n  \"Date\"      =&gt; HEADERS[0],\n  \"Open\"      =&gt; HEADERS[1],\n  \"High\"      =&gt; HEADERS[2],\n  \"Low\"       =&gt; HEADERS[3],\n  \"Close\"     =&gt; HEADERS[4],\n  \"Adj Close\" =&gt; HEADERS[5],\n  \"Volume\"    =&gt; HEADERS[6]\n}\n</code></pre>"},{"location":"api/dataframe/#recentticker","title":"<code>.recent(ticker)</code>","text":"<p>Scrapes recent price data from Yahoo Finance website.</p> <p>Parameters: - <code>ticker</code> (String) - Stock symbol</p> <p>Returns: <code>SQA::DataFrame</code> - Wrapped DataFrame with standardized columns</p> <p>Note: Web scraping based, less reliable than API but requires no API key.</p> <p>Example: <pre><code>df = SQA::DataFrame::YahooFinance.recent('AAPL')\n</code></pre></p>"},{"location":"api/dataframe/#creating-custom-adapters","title":"Creating Custom Adapters","text":"<p>To add a new data source:</p> <ol> <li>Create <code>lib/sqa/data_frame/my_source.rb</code></li> <li>Define constants: <code>HEADERS</code>, <code>HEADER_MAPPING</code>, <code>TRANSFORMERS</code></li> <li>Implement <code>.recent(ticker, **options)</code> class method</li> <li>MUST return <code>SQA::DataFrame</code>, not raw Polars::DataFrame</li> </ol> <p>Example Template: <pre><code>class SQA::DataFrame::MySource\n  HEADERS = [\n    :timestamp,\n    :open_price,\n    :high_price,\n    :low_price,\n    :close_price,\n    :adj_close_price,\n    :volume\n  ]\n\n  HEADER_MAPPING = {\n    \"date\" =&gt; HEADERS[0],\n    \"open\" =&gt; HEADERS[1],\n    # ... map source columns to standard headers\n  }\n\n  TRANSFORMERS = {\n    HEADERS[1] =&gt; -&gt;(v) { v.to_f.round(3) },\n    HEADERS[6] =&gt; -&gt;(v) { v.to_i }\n  }\n\n  def self.recent(ticker, **options)\n    # 1. Fetch data from API/source\n    raw_data = fetch_from_source(ticker)\n\n    # 2. Convert to Polars DataFrame\n    polars_df = Polars.read_csv(StringIO.new(raw_data))\n\n    # 3. MUST wrap in SQA::DataFrame with mapping and transformers\n    sqa_df = SQA::DataFrame.new(\n      polars_df,\n      mapping: HEADER_MAPPING,\n      transformers: TRANSFORMERS\n    )\n\n    # 4. Add any missing columns if needed\n    # Example: Alpha Vantage doesn't have adj_close_price\n    # sqa_df.data = sqa_df.data.with_column(\n    #   sqa_df.data[\"close_price\"].alias(\"adj_close_price\")\n    # )\n\n    # 5. Return wrapped DataFrame\n    sqa_df\n  end\nend\n</code></pre></p>"},{"location":"api/dataframe/#usage-examples","title":"Usage Examples","text":""},{"location":"api/dataframe/#basic-workflow","title":"Basic Workflow","text":"<pre><code>require 'sqa'\n\nSQA.init\n\n# Load stock (fetches from Alpha Vantage by default)\nstock = SQA::Stock.new(ticker: 'AAPL')\n\n# Access DataFrame\ndf = stock.df\n\n# Get dimensions\nputs \"Rows: #{df.size}, Columns: #{df.ncols}\"\n# =&gt; Rows: 250, Columns: 7\n\n# Get column names\nputs df.columns.join(\", \")\n# =&gt; timestamp, open_price, high_price, low_price, close_price, adj_close_price, volume\n\n# Extract price array for indicators\nprices = df[\"adj_close_price\"].to_a\n\n# Calculate technical indicators (via sqa-tai gem)\nsma_20 = SQAI.sma(prices, period: 20)\nrsi_14 = SQAI.rsi(prices, period: 14)\n\nputs \"Current Price: #{prices.last}\"\nputs \"20-day SMA: #{sma_20.last}\"\nputs \"14-day RSI: #{rsi_14.last}\"\n</code></pre>"},{"location":"api/dataframe/#working-with-polars-directly","title":"Working with Polars Directly","text":"<pre><code># Access underlying Polars DataFrame\npolars_df = df.data\n\n# Filter using Polars expressions\nhigh_volume = polars_df.filter(\n  Polars.col(\"volume\") &gt; 10_000_000\n)\n\n# Calculate statistics\navg_close = polars_df[\"close_price\"].mean\nmax_high = polars_df[\"high_price\"].max\ntotal_volume = polars_df[\"volume\"].sum\n\n# Add computed columns\npolars_df = polars_df.with_column(\n  (Polars.col(\"close_price\") - Polars.col(\"open_price\"))\n    .alias(\"daily_change\")\n)\n</code></pre>"},{"location":"api/dataframe/#fpl-analysis-workflow","title":"FPL Analysis Workflow","text":"<pre><code># Get FPL analysis\nfpl_analysis = df.fpl_analysis(column: \"adj_close_price\", fpop: 10)\n\n# Find high-quality opportunities\nopportunities = SQA::FPOP.filter_by_quality(\n  fpl_analysis,\n  min_magnitude: 5.0,    # At least 5% expected move\n  max_risk: 25.0,        # Max 25% risk range\n  directions: [:UP]      # Only upward moves\n)\n\nputs \"Found #{opportunities.size} high-quality opportunities\"\n\nopportunities.each_with_index do |opp, idx|\n  puts \"\\nOpportunity ##{idx + 1}:\"\n  puts \"  Expected Move: #{opp[:magnitude].round(2)}%\"\n  puts \"  Risk: #{opp[:risk].round(2)}%\"\n  puts \"  Direction: #{opp[:direction]}\"\n  puts \"  Range: #{opp[:min_delta].round(2)}% to #{opp[:max_delta].round(2)}%\"\nend\n</code></pre>"},{"location":"api/dataframe/#data-export-and-import","title":"Data Export and Import","text":"<pre><code># Export to CSV\ndf.to_csv(\"aapl_prices.csv\")\n\n# Export to Hash\nhash = df.to_h\nFile.write(\"aapl_prices.json\", hash.to_json)\n\n# Load from CSV\ndf = SQA::DataFrame.load(source: \"aapl_prices.csv\")\n\n# Load from JSON\ndf = SQA::DataFrame.from_json_file(\"aapl_prices.json\")\n</code></pre>"},{"location":"api/dataframe/#combining-dataframes","title":"Combining DataFrames","text":"<pre><code># Load historical data\nhistorical_df = SQA::DataFrame.load(source: \"aapl_historical.csv\")\n\n# Fetch recent updates\nrecent_df = SQA::DataFrame::AlphaVantage.recent('AAPL')\n\n# Combine\nhistorical_df.append!(recent_df)\n\n# Save updated dataset\nhistorical_df.to_csv(\"aapl_updated.csv\")\n</code></pre>"},{"location":"api/dataframe/#performance-considerations","title":"Performance Considerations","text":""},{"location":"api/dataframe/#1-use-column-operations","title":"1. Use Column Operations","text":"<p>Good: <pre><code># Vectorized operation (fast)\navg = df.data[\"close_price\"].mean\n</code></pre></p> <p>Bad: <pre><code># Ruby loop (slow)\nprices = df[\"close_price\"].to_a\navg = prices.sum / prices.size.to_f\n</code></pre></p>"},{"location":"api/dataframe/#2-minimize-array-conversions","title":"2. Minimize Array Conversions","text":"<p>Only convert to arrays when necessary (e.g., passing to external functions):</p> <pre><code># Only convert for indicators\nprices = df[\"adj_close_price\"].to_a\nrsi = SQAI.rsi(prices, period: 14)\n\n# Use Polars for everything else\navg = df.data[\"adj_close_price\"].mean  # No conversion needed\n</code></pre>"},{"location":"api/dataframe/#3-batch-operations","title":"3. Batch Operations","text":"<p>Combine operations when possible:</p> <pre><code># Apply all transformations at once\ndf = SQA::DataFrame.new(\n  raw_data,\n  mapping: mapping,\n  transformers: transformers\n)\n\n# Instead of separate calls\ndf.rename_columns!(mapping)\ndf.apply_transformers!(transformers)\n</code></pre>"},{"location":"api/dataframe/#4-use-polars-native-operations","title":"4. Use Polars Native Operations","text":"<p>Leverage Polars' lazy evaluation and query optimization:</p> <pre><code># Polars can optimize this entire chain\nresult = df.data\n  .filter(Polars.col(\"volume\") &gt; 1_000_000)\n  .select([\"timestamp\", \"close_price\"])\n  .head(100)\n</code></pre>"},{"location":"api/dataframe/#5-avoid-repeated-column-access","title":"5. Avoid Repeated Column Access","text":"<p>Cache column data if used multiple times:</p> <pre><code># Good: cache the series\nclose_prices = df[\"close_price\"]\navg = close_prices.mean\nmax = close_prices.max\nmin = close_prices.min\n\n# Bad: repeated access\navg = df[\"close_price\"].mean\nmax = df[\"close_price\"].max\nmin = df[\"close_price\"].min\n</code></pre>"},{"location":"api/dataframe/#common-gotchas","title":"Common Gotchas","text":""},{"location":"api/dataframe/#1-dataframe-vs-polars","title":"1. DataFrame vs Polars","text":"<pre><code>df        # =&gt; SQA::DataFrame (wrapper)\ndf.data   # =&gt; Polars::DataFrame (underlying data)\n</code></pre> <p>Use <code>df.data</code> for direct Polars operations.</p>"},{"location":"api/dataframe/#2-column-names-are-strings","title":"2. Column Names are Strings","text":"<pre><code># Correct\ndf[\"close_price\"]\n\n# Wrong\ndf[:close_price]  # Polars uses strings, not symbols\n</code></pre>"},{"location":"api/dataframe/#3-transformers-expect-renamed-columns","title":"3. Transformers Expect Renamed Columns","text":"<p>Order matters in initialization: 1. Columns are renamed FIRST 2. Then transformers are applied</p> <p>Transformers receive the NEW column names, not the original names.</p> <pre><code>mapping = { 'Close' =&gt; :close_price }\ntransformers = { close_price: -&gt;(v) { v.to_f } }  # Use renamed name\n\ndf = SQA::DataFrame.new(data, mapping: mapping, transformers: transformers)\n</code></pre>"},{"location":"api/dataframe/#4-indicators-need-arrays","title":"4. Indicators Need Arrays","text":"<p>All SQAI/TAI indicator functions require Ruby arrays:</p> <pre><code># Correct\nprices = df[\"adj_close_price\"].to_a\nrsi = SQAI.rsi(prices, period: 14)\n\n# Wrong\nrsi = SQAI.rsi(df[\"adj_close_price\"], period: 14)  # Series not supported\n</code></pre>"},{"location":"api/dataframe/#5-method-delegation","title":"5. Method Delegation","text":"<p>Unknown methods are delegated to <code>Polars::DataFrame</code>:</p> <pre><code># These work via delegation\ndf.head(10)\ndf.describe\n\n# Check Polars docs for advanced features\n</code></pre>"},{"location":"api/dataframe/#6-csv-round-trip-considerations","title":"6. CSV Round-Trip Considerations","text":"<p>When loading cached CSV files, don't reapply transformers:</p> <pre><code># First time: apply transformers\ndf = SQA::DataFrame::AlphaVantage.recent('AAPL')\ndf.to_csv(\"aapl.csv\")\n\n# Later: don't reapply transformers (already applied)\ndf = SQA::DataFrame.load(source: \"aapl.csv\")\n# NOT: load(source: \"aapl.csv\", transformers: TRANSFORMERS)\n</code></pre>"},{"location":"api/dataframe/#7-data-source-return-types","title":"7. Data Source Return Types","text":"<p>All data source adapters MUST return <code>SQA::DataFrame</code>, not raw <code>Polars::DataFrame</code>:</p> <pre><code># Correct\ndef self.recent(ticker)\n  polars_df = fetch_data(ticker)\n  SQA::DataFrame.new(polars_df, mapping: MAPPING)  # Wrap it!\nend\n\n# Wrong\ndef self.recent(ticker)\n  fetch_data(ticker)  # Returns Polars::DataFrame\nend\n</code></pre>"},{"location":"api/dataframe/#recent-fixes-2024-11","title":"Recent Fixes (2024-11)","text":"<p>The DataFrame architecture underwent significant fixes to resolve type safety issues:</p>"},{"location":"api/dataframe/#issue-1-missing-dataframedata-class","title":"Issue 1: Missing DataFrame::Data Class","text":"<p>Problem: Stock metadata class didn't exist Fix: Created <code>SQA::DataFrame::Data</code> with dual initialization</p>"},{"location":"api/dataframe/#issue-2-type-mismatches","title":"Issue 2: Type Mismatches","text":"<p>Problem: Adapters returned <code>Polars::DataFrame</code> instead of <code>SQA::DataFrame</code> Fix: All adapters now wrap DataFrames before returning</p>"},{"location":"api/dataframe/#issue-3-missing-load-method","title":"Issue 3: Missing .load() Method","text":"<p>Problem: Stock tried to call non-existent <code>.load()</code> method Fix: Added class method with proper signature</p>"},{"location":"api/dataframe/#issue-4-column-mapping-order","title":"Issue 4: Column Mapping Order","text":"<p>Problem: Transformers applied before column renaming Fix: Renamed columns FIRST, then apply transformers</p>"},{"location":"api/dataframe/#issue-5-key-type-mismatches","title":"Issue 5: Key Type Mismatches","text":"<p>Problem: Symbol keys used where Polars expects strings Fix: Convert all keys to strings in <code>rename_columns!()</code></p>"},{"location":"api/dataframe/#issue-6-incorrect-polars-api-usage","title":"Issue 6: Incorrect Polars API Usage","text":"<p>Problem: Used <code>Polars::DataFrame.read_csv()</code> and <code>df[\"col\"].gt_eq()</code> Fix: Use <code>Polars.read_csv()</code> and <code>Polars.col(\"col\") &gt;=</code></p> <p>See <code>DATAFRAME_ARCHITECTURE_REVIEW.md</code> for detailed analysis.</p>"},{"location":"api/dataframe/#related-documentation","title":"Related Documentation","text":"<ul> <li>FPL Analysis - Future Period Loss/Profit utilities</li> <li>Technical Indicators - SQAI/TAI integration</li> <li>Polars Documentation - Underlying library</li> <li>Data Sources - Alpha Vantage and Yahoo Finance</li> </ul>"},{"location":"api/dataframe/#complete-example","title":"Complete Example","text":"<pre><code>require 'sqa'\n\n# Initialize\nSQA.init\n\n# Load stock data\nstock = SQA::Stock.new(ticker: 'AAPL')\ndf = stock.df\n\nputs \"=== Stock Information ===\"\nputs \"Ticker: #{stock.ticker}\"\nputs \"Exchange: #{stock.exchange}\"\nputs \"Source: #{stock.source}\"\nputs \"Data Points: #{df.size}\"\n\nputs \"\\n=== Price Data ===\"\nprices = df[\"adj_close_price\"].to_a\nputs \"Current Price: $#{prices.last.round(2)}\"\nputs \"52-Week High: $#{prices.max.round(2)}\"\nputs \"52-Week Low: $#{prices.min.round(2)}\"\n\nputs \"\\n=== Technical Indicators ===\"\nsma_20 = SQAI.sma(prices, period: 20)\nsma_50 = SQAI.sma(prices, period: 50)\nrsi_14 = SQAI.rsi(prices, period: 14)\n\nputs \"20-day SMA: $#{sma_20.last.round(2)}\"\nputs \"50-day SMA: $#{sma_50.last.round(2)}\"\nputs \"14-day RSI: #{rsi_14.last.round(2)}\"\n\nputs \"\\n=== FPL Analysis ===\"\nfpl_analysis = df.fpl_analysis(column: \"adj_close_price\", fpop: 10)\nlatest = fpl_analysis.last\n\nputs \"10-Day Forecast:\"\nputs \"  Direction: #{latest[:direction]}\"\nputs \"  Expected Move: #{latest[:magnitude].round(2)}%\"\nputs \"  Risk: #{latest[:risk].round(2)}%\"\nputs \"  Range: #{latest[:min_delta].round(2)}% to #{latest[:max_delta].round(2)}%\"\n\n# Export data\ndf.to_csv(\"aapl_export.csv\")\nFile.write(\"aapl_metadata.json\", stock.data.to_json)\n\nputs \"\\n=== Export Complete ===\"\nputs \"Data saved to aapl_export.csv\"\nputs \"Metadata saved to aapl_metadata.json\"\n</code></pre> <p>See Also: - Getting Started Guide - Examples Directory - Contributing Guide</p>"},{"location":"api-reference/","title":"\ud83d\udcda API Reference","text":"<p>Complete API documentation for all SQA classes and modules.</p> <p>Auto-Generated Documentation</p> <p>This documentation is automatically generated from YARD comments in the source code. Last updated: 2025-11-24 14:30:24</p>"},{"location":"api-reference/#sqa","title":"\ud83c\udfaf SQA","text":""},{"location":"api-reference/#backtest","title":"\ud83d\udce6 Backtest","text":""},{"location":"api-reference/#badparametererror","title":"\ud83d\udce6 BadParameterError","text":"<p>Raised when a method parameter is invalid.</p>"},{"location":"api-reference/#config","title":"\ud83d\udce6 Config","text":"<p>Configuration class for SQA settings.</p>"},{"location":"api-reference/#configurationerror","title":"\ud83d\udce6 ConfigurationError","text":"<p>Raised when SQA configuration is invalid or missing.</p>"},{"location":"api-reference/#datafetcherror","title":"\ud83d\udce6 DataFetchError","text":"<p>Raised when unable to fetch data from a data source (API, file, etc.).</p>"},{"location":"api-reference/#dataframe","title":"\ud83d\udce6 DataFrame","text":"<p>The website financial.yahoo.com no longer supports an API.</p>"},{"location":"api-reference/#ensemble","title":"\ud83d\udce6 Ensemble","text":"<p>Ensemble - Combine multiple trading strategies</p>"},{"location":"api-reference/#fpop","title":"\ud83d\udd27 FPOP","text":""},{"location":"api-reference/#geneticprogram","title":"\ud83d\udce6 GeneticProgram","text":""},{"location":"api-reference/#marketregime","title":"\ud83d\udd27 MarketRegime","text":""},{"location":"api-reference/#multitimeframe","title":"\ud83d\udce6 MultiTimeframe","text":"<p>MultiTimeframe - Analyze patterns across multiple timeframes</p>"},{"location":"api-reference/#patternmatcher","title":"\ud83d\udce6 PatternMatcher","text":"<p>PatternMatcher - Find similar historical patterns</p>"},{"location":"api-reference/#pluginmanager","title":"\ud83d\udce6 PluginManager","text":""},{"location":"api-reference/#portfolio","title":"\ud83d\udce6 Portfolio","text":""},{"location":"api-reference/#portfoliooptimizer","title":"\ud83d\udce6 PortfolioOptimizer","text":"<p>PortfolioOptimizer - Multi-objective portfolio optimization</p>"},{"location":"api-reference/#riskmanager","title":"\ud83d\udce6 RiskManager","text":"<p>RiskManager - Comprehensive risk management and position sizing</p>"},{"location":"api-reference/#seasonalanalyzer","title":"\ud83d\udd27 SeasonalAnalyzer","text":""},{"location":"api-reference/#sectoranalyzer","title":"\ud83d\udce6 SectorAnalyzer","text":""},{"location":"api-reference/#stock","title":"\ud83d\udce6 Stock","text":"<p>Represents a stock with price history, metadata, and technical analysis capabilities.</p>"},{"location":"api-reference/#strategy","title":"\ud83d\udce6 Strategy","text":"<p>This module needs to be extend'ed within</p>"},{"location":"api-reference/#strategygenerator","title":"\ud83d\udce6 StrategyGenerator","text":""},{"location":"api-reference/#stream","title":"\ud83d\udce6 Stream","text":""},{"location":"api-reference/#ticker","title":"\ud83d\udce6 Ticker","text":"<p>sqa/lib/sqa/ticker.rb</p>"},{"location":"api-reference/#sqageneticprogram","title":"\ud83d\udce6 SQA::GeneticProgram","text":""},{"location":"api-reference/#individual","title":"\ud83d\udce6 Individual","text":"<p>Represents an individual trading strategy with specific parameters</p>"},{"location":"api-reference/#top-level","title":"\ud83d\udce6 Top Level","text":""},{"location":"api-reference/#alphavantageapi","title":"\ud83d\udce6 AlphaVantageAPI","text":""},{"location":"api-reference/#apierror","title":"\ud83d\udce6 ApiError","text":"<p>Raised when an external API returns an error response.</p>"},{"location":"api-reference/#notimplemented","title":"\ud83d\udce6 NotImplemented","text":"<p>Raised when a feature is not yet implemented.</p>"},{"location":"api-reference/#sqa_1","title":"\ud83d\udd27 SQA","text":"<p>Knowledge-Based Strategy using RETE Forward Chaining</p>"},{"location":"api-reference/#string","title":"\ud83d\udce6 String","text":"<p>File:  string.rb</p>"},{"location":"api-reference/#sqabacktest","title":"\ud83d\udce6 SQA::Backtest","text":""},{"location":"api-reference/#results","title":"\ud83d\udce6 Results","text":"<p>Represents the results of a backtest</p>"},{"location":"api-reference/#sqaportfolio","title":"\ud83d\udce6 SQA::Portfolio","text":""},{"location":"api-reference/#position","title":"\ud83d\udce6 Position","text":"<p>Represents a single position in the portfolio</p>"},{"location":"api-reference/#trade","title":"\ud83d\udce6 Trade","text":"<p>Represents a single trade</p>"},{"location":"api-reference/#sqastrategy","title":"\ud83d\udcca SQA::Strategy","text":""},{"location":"api-reference/#bollingerbands","title":"\ud83d\udce6 BollingerBands","text":"<p>Bollinger Bands trading strategy</p>"},{"location":"api-reference/#common","title":"\ud83d\udd27 Common","text":""},{"location":"api-reference/#consensus","title":"\ud83d\udce6 Consensus","text":""},{"location":"api-reference/#ema","title":"\ud83d\udce6 EMA","text":""},{"location":"api-reference/#kbs","title":"\ud83d\udce6 KBS","text":""},{"location":"api-reference/#macd","title":"\ud83d\udce6 MACD","text":"<p>MACD (Moving Average Convergence Divergence) crossover strategy</p>"},{"location":"api-reference/#mp","title":"\ud83d\udce6 MP","text":""},{"location":"api-reference/#mr","title":"\ud83d\udce6 MR","text":""},{"location":"api-reference/#rsi","title":"\ud83d\udce6 RSI","text":""},{"location":"api-reference/#random","title":"\ud83d\udce6 Random","text":""},{"location":"api-reference/#sma","title":"\ud83d\udce6 SMA","text":""},{"location":"api-reference/#stochastic","title":"\ud83d\udce6 Stochastic","text":"<p>Stochastic Oscillator crossover strategy</p>"},{"location":"api-reference/#volumebreakout","title":"\ud83d\udce6 VolumeBreakout","text":"<p>Volume Breakout strategy</p>"},{"location":"api-reference/#sqadataframe","title":"\ud83d\udce6 SQA::DataFrame","text":""},{"location":"api-reference/#alphavantage","title":"\ud83d\udce6 AlphaVantage","text":""},{"location":"api-reference/#data","title":"\ud83d\udce6 Data","text":"<p>Data class to store stock metadata</p>"},{"location":"api-reference/#yahoofinance","title":"\ud83d\udce6 YahooFinance","text":""},{"location":"api-reference/#sqastrategygenerator","title":"\ud83d\udcca SQA::StrategyGenerator","text":""},{"location":"api-reference/#pattern","title":"\ud83d\udce6 Pattern","text":"<p>Represents a discovered indicator pattern</p>"},{"location":"api-reference/#patterncontext","title":"\ud83d\udce6 PatternContext","text":"<p>Pattern Context - metadata about when/where pattern is valid</p>"},{"location":"api-reference/#profitablepoint","title":"\ud83d\udce6 ProfitablePoint","text":"<p>Represents a profitable trade opportunity discovered in historical data</p>"},{"location":"api-reference/alphavantageapi/","title":"\ud83d\udce6 AlphaVantageAPI","text":"<p>Source Information</p> <p>Defined in: <code>lib/api/alpha_vantage_api.rb:11</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/alphavantageapi/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/alphavantageapi/#initializeapi_key","title":"<code>#initialize(api_key)</code>","text":"<p>Returns</p> <p>Type: <code>AlphaVantageAPI</code></p> <p>a new instance of AlphaVantageAPI</p> Source Location <p><code>lib/api/alpha_vantage_api.rb:14</code></p>"},{"location":"api-reference/alphavantageapi/#queryfunction-symbol-nil-interval-nil-time_period-nil-series_type-nil-market-nil-extra","title":"<code>#query(function:, symbol: = nil, interval: = nil, time_period: = nil, series_type: = nil, market: = nil, **extra)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:19</code></p>"},{"location":"api-reference/alphavantageapi/#adsymbol-interval","title":"<code>#ad(symbol:, interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:45</code></p>"},{"location":"api-reference/alphavantageapi/#adoscsymbol-interval-fastperiod-slowperiod","title":"<code>#adosc(symbol:, interval:, fastperiod:, slowperiod:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:49</code></p>"},{"location":"api-reference/alphavantageapi/#adxsymbol-interval-time_period","title":"<code>#adx(symbol:, interval:, time_period:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:53</code></p>"},{"location":"api-reference/alphavantageapi/#all_commoditiesinterval","title":"<code>#all_commodities(interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:57</code></p>"},{"location":"api-reference/alphavantageapi/#aluminuminterval","title":"<code>#aluminum(interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:61</code></p>"},{"location":"api-reference/alphavantageapi/#aposymbol-interval-series_type-fastperiod-matype","title":"<code>#apo(symbol:, interval:, series_type:, fastperiod:, matype:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:65</code></p>"},{"location":"api-reference/alphavantageapi/#aroonsymbol-interval-time_period","title":"<code>#aroon(symbol:, interval:, time_period:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:69</code></p>"},{"location":"api-reference/alphavantageapi/#balance_sheetsymbol","title":"<code>#balance_sheet(symbol:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:73</code></p>"},{"location":"api-reference/alphavantageapi/#crypto_intradaysymbol-market-interval-outputsize-nil-datatype-nil","title":"<code>#crypto_intraday(symbol:, market:, interval:, outputsize: = nil, datatype: = nil)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:77</code></p>"},{"location":"api-reference/alphavantageapi/#currency_exchange_ratefrom_currency-to_currency","title":"<code>#currency_exchange_rate(from_currency:, to_currency:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:81</code></p>"},{"location":"api-reference/alphavantageapi/#earningssymbol","title":"<code>#earnings(symbol:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:85</code></p>"},{"location":"api-reference/alphavantageapi/#time_series_dailysymbol-outputsize-nil-datatype-nil","title":"<code>#time_series_daily(symbol:, outputsize: = nil, datatype: = nil)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:89</code></p>"},{"location":"api-reference/alphavantageapi/#adxrsymbol-interval-time_period","title":"<code>#adxr(symbol:, interval:, time_period:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:93</code></p>"},{"location":"api-reference/alphavantageapi/#atrsymbol-interval-time_period","title":"<code>#atr(symbol:, interval:, time_period:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:97</code></p>"},{"location":"api-reference/alphavantageapi/#bbandssymbol-interval-time_period-series_type-nbdevup-nbdevdn-matype-nil","title":"<code>#bbands(symbol:, interval:, time_period:, series_type:, nbdevup:, nbdevdn:, matype: = nil)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:101</code></p>"},{"location":"api-reference/alphavantageapi/#bopsymbol-interval","title":"<code>#bop(symbol:, interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:105</code></p>"},{"location":"api-reference/alphavantageapi/#cash_flowsymbol","title":"<code>#cash_flow(symbol:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:109</code></p>"},{"location":"api-reference/alphavantageapi/#ccisymbol-interval-time_period","title":"<code>#cci(symbol:, interval:, time_period:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:113</code></p>"},{"location":"api-reference/alphavantageapi/#cmosymbol-interval-time_period-series_type","title":"<code>#cmo(symbol:, interval:, time_period:, series_type:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:117</code></p>"},{"location":"api-reference/alphavantageapi/#demasymbol-interval-time_period-series_type","title":"<code>#dema(symbol:, interval:, time_period:, series_type:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:121</code></p>"},{"location":"api-reference/alphavantageapi/#dxsymbol-interval-time_period","title":"<code>#dx(symbol:, interval:, time_period:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:125</code></p>"},{"location":"api-reference/alphavantageapi/#earnings_calendarsymbol-nil-horizon-nil","title":"<code>#earnings_calendar(symbol: = nil, horizon: = nil)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:129</code></p>"},{"location":"api-reference/alphavantageapi/#emasymbol-interval-time_period-series_type","title":"<code>#ema(symbol:, interval:, time_period:, series_type:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:133</code></p>"},{"location":"api-reference/alphavantageapi/#federal_funds_rateinterval","title":"<code>#federal_funds_rate(interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:137</code></p>"},{"location":"api-reference/alphavantageapi/#ht_dcperiodsymbol-interval-series_type","title":"<code>#ht_dcperiod(symbol:, interval:, series_type:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:141</code></p>"},{"location":"api-reference/alphavantageapi/#ht_dcphasesymbol-interval-series_type","title":"<code>#ht_dcphase(symbol:, interval:, series_type:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:145</code></p>"},{"location":"api-reference/alphavantageapi/#ht_phasorsymbol-interval-series_type","title":"<code>#ht_phasor(symbol:, interval:, series_type:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:149</code></p>"},{"location":"api-reference/alphavantageapi/#ht_sinesymbol-interval-series_type","title":"<code>#ht_sine(symbol:, interval:, series_type:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:153</code></p>"},{"location":"api-reference/alphavantageapi/#ht_trendlinesymbol-interval-series_type","title":"<code>#ht_trendline(symbol:, interval:, series_type:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:157</code></p>"},{"location":"api-reference/alphavantageapi/#ht_trendmodesymbol-interval-series_type","title":"<code>#ht_trendmode(symbol:, interval:, series_type:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:161</code></p>"},{"location":"api-reference/alphavantageapi/#income_statementsymbol","title":"<code>#income_statement(symbol:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:165</code></p>"},{"location":"api-reference/alphavantageapi/#aronoscsymbol-interval-time_period","title":"<code>#aronosc(symbol:, interval:, time_period:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:170</code></p>"},{"location":"api-reference/alphavantageapi/#brentinterval","title":"<code>#brent(interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:174</code></p>"},{"location":"api-reference/alphavantageapi/#coffeeinterval","title":"<code>#coffee(interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:178</code></p>"},{"location":"api-reference/alphavantageapi/#copperinterval","title":"<code>#copper(interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:182</code></p>"},{"location":"api-reference/alphavantageapi/#corninterval","title":"<code>#corn(interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:186</code></p>"},{"location":"api-reference/alphavantageapi/#cottoninterval","title":"<code>#cotton(interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:190</code></p>"},{"location":"api-reference/alphavantageapi/#cpiinterval","title":"<code>#cpi(interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:194</code></p>"},{"location":"api-reference/alphavantageapi/#durables","title":"<code>#durables()</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:198</code></p>"},{"location":"api-reference/alphavantageapi/#inflation","title":"<code>#inflation()</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:202</code></p>"},{"location":"api-reference/alphavantageapi/#ipo_calendar","title":"<code>#ipo_calendar()</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:206</code></p>"},{"location":"api-reference/alphavantageapi/#kamasymbol-interval-time_period-series_type","title":"<code>#kama(symbol:, interval:, time_period:, series_type:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:210</code></p>"},{"location":"api-reference/alphavantageapi/#listing_statusdate-nil-state-nil","title":"<code>#listing_status(date: = nil, state: = nil)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:214</code></p>"},{"location":"api-reference/alphavantageapi/#market_status","title":"<code>#market_status()</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:218</code></p>"},{"location":"api-reference/alphavantageapi/#natural_gasinterval","title":"<code>#natural_gas(interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:222</code></p>"},{"location":"api-reference/alphavantageapi/#news_sentimenttickers-time_from-nil-limit-nil","title":"<code>#news_sentiment(tickers:, time_from: = nil, limit: = nil)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:226</code></p>"},{"location":"api-reference/alphavantageapi/#nonfarm_payroll","title":"<code>#nonfarm_payroll()</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:230</code></p>"},{"location":"api-reference/alphavantageapi/#real_gdpinterval","title":"<code>#real_gdp(interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:234</code></p>"},{"location":"api-reference/alphavantageapi/#real_gdp_per_capita","title":"<code>#real_gdp_per_capita()</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:238</code></p>"},{"location":"api-reference/alphavantageapi/#retail_sales","title":"<code>#retail_sales()</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:242</code></p>"},{"location":"api-reference/alphavantageapi/#sugarinterval","title":"<code>#sugar(interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:246</code></p>"},{"location":"api-reference/alphavantageapi/#symbol_searchkeywords-datatype-nil","title":"<code>#symbol_search(keywords:, datatype: = nil)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:250</code></p>"},{"location":"api-reference/alphavantageapi/#top_gainers_losers","title":"<code>#top_gainers_losers()</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:254</code></p>"},{"location":"api-reference/alphavantageapi/#treasury_yieldinterval-maturity","title":"<code>#treasury_yield(interval:, maturity:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:258</code></p>"},{"location":"api-reference/alphavantageapi/#unemployment","title":"<code>#unemployment()</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:262</code></p>"},{"location":"api-reference/alphavantageapi/#wheatinterval","title":"<code>#wheat(interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:266</code></p>"},{"location":"api-reference/alphavantageapi/#wtiinterval","title":"<code>#wti(interval:)</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:270</code></p>"},{"location":"api-reference/alphavantageapi/#digital_currency_dailysymbol-market-datatype-json","title":"<code>#digital_currency_daily(symbol:, market:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:274</code></p>"},{"location":"api-reference/alphavantageapi/#fx_dailyfrom_symbol-to_symbol-outputsize-nil-datatype-json","title":"<code>#fx_daily(from_symbol:, to_symbol:, outputsize: = nil, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:278</code></p>"},{"location":"api-reference/alphavantageapi/#global_quotesymbol-datatype-json","title":"<code>#global_quote(symbol:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:282</code></p>"},{"location":"api-reference/alphavantageapi/#time_series_daily_adjustedsymbol-outputsize-nil-datatype-json","title":"<code>#time_series_daily_adjusted(symbol:, outputsize: = nil, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:286</code></p>"},{"location":"api-reference/alphavantageapi/#macdsymbol-interval-series_type-time_period-datatype-json","title":"<code>#macd(symbol:, interval:, series_type:, time_period:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:290</code></p>"},{"location":"api-reference/alphavantageapi/#fx_intradayfrom_symbol-to_symbol-interval-outputsize-nil-datatype-json","title":"<code>#fx_intraday(from_symbol:, to_symbol:, interval:, outputsize: = nil, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:295</code></p>"},{"location":"api-reference/alphavantageapi/#digital_currency_monthlysymbol-market-datatype-json","title":"<code>#digital_currency_monthly(symbol:, market:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:299</code></p>"},{"location":"api-reference/alphavantageapi/#digital_currency_weeklysymbol-market-datatype-json","title":"<code>#digital_currency_weekly(symbol:, market:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:303</code></p>"},{"location":"api-reference/alphavantageapi/#time_series_intradaysymbol-interval-outputsize-nil-datatype-json","title":"<code>#time_series_intraday(symbol:, interval:, outputsize: = nil, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:307</code></p>"},{"location":"api-reference/alphavantageapi/#time_series_monthlysymbol-datatype-json","title":"<code>#time_series_monthly(symbol:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:311</code></p>"},{"location":"api-reference/alphavantageapi/#time_series_weeklysymbol-datatype-json","title":"<code>#time_series_weekly(symbol:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:315</code></p>"},{"location":"api-reference/alphavantageapi/#macd_extsymbol-interval-series_type-fastperiod-nil-slowperiod-nil-signalperiod-nil-matype-nil-datatype-json","title":"<code>#macd_ext(symbol:, interval:, series_type:, fastperiod: = nil, slowperiod: = nil, signalperiod: = nil, matype: = nil, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:319</code></p>"},{"location":"api-reference/alphavantageapi/#rsisymbol-interval-time_period-series_type-datatype-json","title":"<code>#rsi(symbol:, interval:, time_period:, series_type:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:327</code></p>"},{"location":"api-reference/alphavantageapi/#fx_monthlyfrom_symbol-to_symbol-datatype-json","title":"<code>#fx_monthly(from_symbol:, to_symbol:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:331</code></p>"},{"location":"api-reference/alphavantageapi/#fx_weeklyfrom_symbol-to_symbol-datatype-json","title":"<code>#fx_weekly(from_symbol:, to_symbol:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:335</code></p>"},{"location":"api-reference/alphavantageapi/#mamasymbol-interval-series_type-fastlimit-slowlimit-datatype-json","title":"<code>#mama(symbol:, interval:, series_type:, fastlimit:, slowlimit:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:339</code></p>"},{"location":"api-reference/alphavantageapi/#mfisymbol-interval-time_period-datatype-json","title":"<code>#mfi(symbol:, interval:, time_period:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:343</code></p>"},{"location":"api-reference/alphavantageapi/#midpointsymbol-interval-time_period-series_type-datatype-json","title":"<code>#midpoint(symbol:, interval:, time_period:, series_type:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:347</code></p>"},{"location":"api-reference/alphavantageapi/#midpricesymbol-interval-time_period-datatype-json","title":"<code>#midprice(symbol:, interval:, time_period:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:351</code></p>"},{"location":"api-reference/alphavantageapi/#minus_disymbol-interval-time_period-datatype-json","title":"<code>#minus_di(symbol:, interval:, time_period:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:355</code></p>"},{"location":"api-reference/alphavantageapi/#minus_dmsymbol-interval-time_period-datatype-json","title":"<code>#minus_dm(symbol:, interval:, time_period:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:359</code></p>"},{"location":"api-reference/alphavantageapi/#momsymbol-interval-time_period-series_type-datatype-json","title":"<code>#mom(symbol:, interval:, time_period:, series_type:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:363</code></p>"},{"location":"api-reference/alphavantageapi/#natrsymbol-interval-time_period-datatype-json","title":"<code>#natr(symbol:, interval:, time_period:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:367</code></p>"},{"location":"api-reference/alphavantageapi/#obvsymbol-interval-datatype-json","title":"<code>#obv(symbol:, interval:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:371</code></p>"},{"location":"api-reference/alphavantageapi/#overviewsymbol-datatype-json","title":"<code>#overview(symbol:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:375</code></p>"},{"location":"api-reference/alphavantageapi/#plus_disymbol-interval-time_period-datatype-json","title":"<code>#plus_di(symbol:, interval:, time_period:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:379</code></p>"},{"location":"api-reference/alphavantageapi/#plus_dmsymbol-interval-time_period-datatype-json","title":"<code>#plus_dm(symbol:, interval:, time_period:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:383</code></p>"},{"location":"api-reference/alphavantageapi/#pposymbol-interval-series_type-fastperiod-slowperiod-nil-matype-nil-datatype-json","title":"<code>#ppo(symbol:, interval:, series_type:, fastperiod:, slowperiod: = nil, matype: = nil, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:387</code></p>"},{"location":"api-reference/alphavantageapi/#rocsymbol-interval-time_period-series_type-datatype-json","title":"<code>#roc(symbol:, interval:, time_period:, series_type:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:391</code></p>"},{"location":"api-reference/alphavantageapi/#rocrsymbol-interval-time_period-series_type-datatype-json","title":"<code>#rocr(symbol:, interval:, time_period:, series_type:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:395</code></p>"},{"location":"api-reference/alphavantageapi/#stochsymbol-interval-fastkperiod-nil-slowkperiod-nil-slowdperiod-nil-slowkmatype-nil-slowdmatype-nil-datatype-json","title":"<code>#stoch(symbol:, interval:, fastkperiod: = nil, slowkperiod: = nil, slowdperiod: = nil, slowkmatype: = nil, slowdmatype: = nil, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:399</code></p>"},{"location":"api-reference/alphavantageapi/#sarsymbol-interval-acceleration-maximum-datatype-json","title":"<code>#sar(symbol:, interval:, acceleration:, maximum:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:403</code></p>"},{"location":"api-reference/alphavantageapi/#smasymbol-interval-time_period-series_type-datatype-json","title":"<code>#sma(symbol:, interval:, time_period:, series_type:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:407</code></p>"},{"location":"api-reference/alphavantageapi/#stochfsymbol-interval-fastkperiod-nil-fastdperiod-nil-fastdmatype-nil-datatype-json","title":"<code>#stochf(symbol:, interval:, fastkperiod: = nil, fastdperiod: = nil, fastdmatype: = nil, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:411</code></p>"},{"location":"api-reference/alphavantageapi/#t3symbol-interval-time_period-series_type-datatype-json","title":"<code>#t3(symbol:, interval:, time_period:, series_type:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:415</code></p>"},{"location":"api-reference/alphavantageapi/#temasymbol-interval-time_period-series_type-datatype-json","title":"<code>#tema(symbol:, interval:, time_period:, series_type:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:419</code></p>"},{"location":"api-reference/alphavantageapi/#time_series_monthly_adjustedsymbol-datatype-json","title":"<code>#time_series_monthly_adjusted(symbol:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:423</code></p>"},{"location":"api-reference/alphavantageapi/#time_series_weekly_adjustedsymbol-datatype-json","title":"<code>#time_series_weekly_adjusted(symbol:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:427</code></p>"},{"location":"api-reference/alphavantageapi/#trangesymbol-interval-datatype-json","title":"<code>#trange(symbol:, interval:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:431</code></p>"},{"location":"api-reference/alphavantageapi/#trimasymbol-interval-time_period-series_type-datatype-json","title":"<code>#trima(symbol:, interval:, time_period:, series_type:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:435</code></p>"},{"location":"api-reference/alphavantageapi/#trixsymbol-interval-time_period-series_type-datatype-json","title":"<code>#trix(symbol:, interval:, time_period:, series_type:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:439</code></p>"},{"location":"api-reference/alphavantageapi/#ultoscsymbol-interval-timeperiod1-nil-timeperiod2-nil-timeperiod3-nil-datatype-json","title":"<code>#ultosc(symbol:, interval:, timeperiod1: = nil, timeperiod2: = nil, timeperiod3: = nil, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:443</code></p>"},{"location":"api-reference/alphavantageapi/#vwapsymbol-interval-datatype-json","title":"<code>#vwap(symbol:, interval:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:447</code></p>"},{"location":"api-reference/alphavantageapi/#willrsymbol-interval-time_period-datatype-json","title":"<code>#willr(symbol:, interval:, time_period:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:451</code></p>"},{"location":"api-reference/alphavantageapi/#wmasymbol-interval-time_period-series_type-datatype-json","title":"<code>#wma(symbol:, interval:, time_period:, series_type:, datatype: = 'json')</code>","text":"Source Location <p><code>lib/api/alpha_vantage_api.rb:455</code></p>"},{"location":"api-reference/alphavantageapi/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/apierror/","title":"\ud83d\udce6 ApiError","text":"<p>Description</p> <p>Raised when an external API returns an error response. Automatically logs the error using debug_me before raising.</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/errors.rb:67</code></p> <p>Inherits from: <code>RuntimeError</code></p>"},{"location":"api-reference/apierror/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/apierror/#raisewhy","title":"<code>.raise(why)</code>","text":"<p>Raises an ApiError with debug logging.</p> <p>Parameters</p> Name Type Description <code>why</code> <code>String</code> The error message from the API Source Location <p><code>lib/sqa/errors.rb:72</code></p>"},{"location":"api-reference/apierror/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/notimplemented/","title":"\ud83d\udce6 NotImplemented","text":"<p>Description</p> <p>Raised when a feature is not yet implemented. Automatically logs using debug_me before raising.</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/errors.rb:84</code></p> <p>Inherits from: <code>RuntimeError</code></p>"},{"location":"api-reference/notimplemented/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/notimplemented/#raise","title":"<code>.raise()</code>","text":"<p>Raises a NotImplemented error with debug logging.</p> Source Location <p><code>lib/sqa/errors.rb:88</code></p>"},{"location":"api-reference/notimplemented/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa/","title":"\ud83d\udd27 SQA","text":"<p>Description</p> <p>Knowledge-Based Strategy using RETE Forward Chaining</p> <p>This strategy uses a rule-based system with the RETE algorithm for forward-chaining inference. It allows defining complex trading rules that react to market conditions.</p> <p>The strategy asserts facts about market conditions (RSI, trends, volume, etc.) and fires rules when patterns are matched.</p> <p>DSL Keywords:   - on        : Assert a condition (fact must exist)   - without   : Negated condition (fact must NOT exist)   - perform   : Define action to execute when rule fires   - execute   : Alias for perform   - action    : Alias for perform</p> <p>Example:   strategy = SQA::Strategy::KBS.new</p> <p># Capture kb for use in perform blocks   kb = strategy.kb</p> <p># Define custom rules using the DSL   strategy.add_rule :buy_oversold_uptrend do     on :rsi, { level: :oversold }     on :trend, { direction: :up }     without :position</p> <pre><code>perform do\n  kb.assert(:signal, { action: :buy, confidence: :high })\nend\n</code></pre> <p>end</p> <p># Execute strategy   signal = strategy.trade(vector)</p> <p>Note: Use 'kb.assert' (not just 'assert') in perform blocks to access the knowledge base.</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/gp.rb:34</code></p>"},{"location":"api-reference/sqa/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa/#configvalue","title":"<code>.config=(value)</code>","text":"<p>Sets the attribute config</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute config to. Source Location <p><code>lib/sqa/init.rb:22</code></p>"},{"location":"api-reference/sqa/#initargv-argv","title":"<code>.init(argv = ARGV)</code>","text":"<p>Initializes the SQA library. Should be called once at application startup.</p> <p>Parameters</p> Name Type Description <code>argv</code> <code>Array&lt;String&gt;, String</code> Command line arguments (default: ARGV) <p>Returns</p> <p>Type: <code>SQA::Config</code></p> <p>The configuration instance</p> <p>Usage Examples</p> <pre><code>SQA.init\nSQA.init(\"--debug --verbose\")\n</code></pre> Source Location <p><code>lib/sqa/init.rb:34</code></p>"},{"location":"api-reference/sqa/#av_api_key","title":"<code>.av_api_key()</code>","text":"<p>Returns the Alpha Vantage API key. Reads from AV_API_KEY or ALPHAVANTAGE_API_KEY environment variables.</p> <p>Returns</p> <p>Type: <code>String</code></p> <p>The API key</p> Source Location <p><code>lib/sqa/init.rb:61</code></p>"},{"location":"api-reference/sqa/#av_api_keykey","title":"<code>.av_api_key=(key)</code>","text":"<p>Sets the Alpha Vantage API key.</p> <p>Parameters</p> Name Type Description <code>key</code> <code>String</code> The API key to set <p>Returns</p> <p>Type: <code>String</code></p> <p>The key that was set</p> Source Location <p><code>lib/sqa/init.rb:70</code></p>"},{"location":"api-reference/sqa/#av","title":"<code>.av()</code>","text":"<p>Legacy accessor for backward compatibility with SQA.av.key usage.</p> <p>Returns</p> <p>Type: <code>SQA</code></p> <p>Self, to allow SQA.av.key calls</p> Source Location <p><code>lib/sqa/init.rb:77</code></p>"},{"location":"api-reference/sqa/#key","title":"<code>.key()</code>","text":"<p>Returns the API key for compatibility with old SQA.av.key usage.</p> <p>Returns</p> <p>Type: <code>String</code></p> <p>The API key</p> Source Location <p><code>lib/sqa/init.rb:85</code></p>"},{"location":"api-reference/sqa/#debug","title":"<code>.debug?()</code>","text":"<p>Returns whether debug mode is enabled.</p> <p>Returns</p> <p>Type: <code>Boolean</code></p> <p>true if debug mode is on</p> Source Location <p><code>lib/sqa/init.rb:91</code></p>"},{"location":"api-reference/sqa/#verbose","title":"<code>.verbose?()</code>","text":"<p>Returns whether verbose mode is enabled.</p> <p>Returns</p> <p>Type: <code>Boolean</code></p> <p>true if verbose mode is on</p> Source Location <p><code>lib/sqa/init.rb:95</code></p>"},{"location":"api-reference/sqa/#homifyfilepath","title":"<code>.homify(filepath)</code>","text":"<p>Expands ~ to user's home directory in filepath.</p> <p>Parameters</p> Name Type Description <code>filepath</code> <code>String</code> Path potentially containing ~ <p>Returns</p> <p>Type: <code>String</code></p> <p>Path with ~ expanded</p> Source Location <p><code>lib/sqa/init.rb:101</code></p>"},{"location":"api-reference/sqa/#data_dir","title":"<code>.data_dir()</code>","text":"<p>Returns the data directory as a Pathname.</p> <p>Returns</p> <p>Type: <code>Pathname</code></p> <p>Data directory path</p> Source Location <p><code>lib/sqa/init.rb:106</code></p>"},{"location":"api-reference/sqa/#config","title":"<code>.config()</code>","text":"<p>Returns the current configuration.</p> <p>Returns</p> <p>Type: <code>SQA::Config</code></p> <p>Configuration instance</p> Source Location <p><code>lib/sqa/init.rb:111</code></p>"},{"location":"api-reference/sqa/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa/#config-readwrite","title":"\ud83d\udd04 <code>config</code> read/write","text":"<p>Returns the current configuration.</p>"},{"location":"api-reference/sqa_backtest/","title":"\ud83d\udce6 SQA::Backtest","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/backtest.rb:7</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_backtest/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_backtest/#stock","title":"<code>#stock()</code>","text":"<p>Returns the value of attribute stock.</p> Source Location <p><code>lib/sqa/backtest.rb:8</code></p>"},{"location":"api-reference/sqa_backtest/#strategy","title":"<code>#strategy()</code>","text":"<p>Returns the value of attribute strategy.</p> Source Location <p><code>lib/sqa/backtest.rb:8</code></p>"},{"location":"api-reference/sqa_backtest/#portfolio","title":"<code>#portfolio()</code>","text":"<p>Returns the value of attribute portfolio.</p> Source Location <p><code>lib/sqa/backtest.rb:8</code></p>"},{"location":"api-reference/sqa_backtest/#results","title":"<code>#results()</code>","text":"<p>Returns the value of attribute results.</p> Source Location <p><code>lib/sqa/backtest.rb:8</code></p>"},{"location":"api-reference/sqa_backtest/#equity_curve","title":"<code>#equity_curve()</code>","text":"<p>Returns the value of attribute equity_curve.</p> Source Location <p><code>lib/sqa/backtest.rb:8</code></p>"},{"location":"api-reference/sqa_backtest/#initializestock-strategy-start_date-nil-end_date-nil-initial_capital-10_0000-commission-00-position_size-all_cash","title":"<code>#initialize(stock:, strategy:, start_date: = nil, end_date: = nil, initial_capital: = 10_000.0, commission: = 0.0, position_size: = :all_cash)</code>","text":"<p>Initialize a backtest</p> <p>Parameters</p> Name Type Description <code>stock</code> <code>SQA::Stock</code> Stock to backtest <code>strategy</code> <code>SQA::Strategy, Proc</code> Strategy or callable that returns :buy, :sell, or :hold <code>start_date</code> <code>Date, String</code> Start date for backtest <code>end_date</code> <code>Date, String</code> End date for backtest <code>initial_capital</code> <code>Float</code> Starting capital <code>commission</code> <code>Float</code> Commission per trade <code>position_size</code> <code>Symbol, Float</code> :all_cash or fraction of portfolio per trade <p>Returns</p> <p>Type: <code>Backtest</code></p> <p>a new instance of Backtest</p> Source Location <p><code>lib/sqa/backtest.rb:85</code></p>"},{"location":"api-reference/sqa_backtest/#run","title":"<code>#run()</code>","text":"<p>Run the backtest</p> <p>Returns</p> <p>Type: <code>Results</code></p> <p>Backtest results</p> Source Location <p><code>lib/sqa/backtest.rb:102</code></p>"},{"location":"api-reference/sqa_backtest/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_backtest/#stock-read-only","title":"\ud83d\udc41\ufe0f <code>stock</code> read-only","text":"<p>Returns the value of attribute stock.</p>"},{"location":"api-reference/sqa_backtest/#strategy-read-only","title":"\ud83d\udc41\ufe0f <code>strategy</code> read-only","text":"<p>Returns the value of attribute strategy.</p>"},{"location":"api-reference/sqa_backtest/#portfolio-read-only","title":"\ud83d\udc41\ufe0f <code>portfolio</code> read-only","text":"<p>Returns the value of attribute portfolio.</p>"},{"location":"api-reference/sqa_backtest/#results-read-only","title":"\ud83d\udc41\ufe0f <code>results</code> read-only","text":"<p>Returns the value of attribute results.</p>"},{"location":"api-reference/sqa_backtest/#equity_curve-read-only","title":"\ud83d\udc41\ufe0f <code>equity_curve</code> read-only","text":"<p>Returns the value of attribute equity_curve.</p>"},{"location":"api-reference/sqa_backtest_results/","title":"\ud83d\udce6 SQA::Backtest::Results","text":"<p>Description</p> <p>Represents the results of a backtest</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/backtest.rb:11</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_backtest_results/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_backtest_results/#total_return","title":"<code>#total_return()</code>","text":"<p>Returns the value of attribute total_return.</p> Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#total_returnvalue","title":"<code>#total_return=(value)</code>","text":"<p>Sets the attribute total_return</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute total_return to. Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#annualized_return","title":"<code>#annualized_return()</code>","text":"<p>Returns the value of attribute annualized_return.</p> Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#annualized_returnvalue","title":"<code>#annualized_return=(value)</code>","text":"<p>Sets the attribute annualized_return</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute annualized_return to. Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#sharpe_ratio","title":"<code>#sharpe_ratio()</code>","text":"<p>Returns the value of attribute sharpe_ratio.</p> Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#sharpe_ratiovalue","title":"<code>#sharpe_ratio=(value)</code>","text":"<p>Sets the attribute sharpe_ratio</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute sharpe_ratio to. Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#max_drawdown","title":"<code>#max_drawdown()</code>","text":"<p>Returns the value of attribute max_drawdown.</p> Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#max_drawdownvalue","title":"<code>#max_drawdown=(value)</code>","text":"<p>Sets the attribute max_drawdown</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute max_drawdown to. Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#total_trades","title":"<code>#total_trades()</code>","text":"<p>Returns the value of attribute total_trades.</p> Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#total_tradesvalue","title":"<code>#total_trades=(value)</code>","text":"<p>Sets the attribute total_trades</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute total_trades to. Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#winning_trades","title":"<code>#winning_trades()</code>","text":"<p>Returns the value of attribute winning_trades.</p> Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#winning_tradesvalue","title":"<code>#winning_trades=(value)</code>","text":"<p>Sets the attribute winning_trades</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute winning_trades to. Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#losing_trades","title":"<code>#losing_trades()</code>","text":"<p>Returns the value of attribute losing_trades.</p> Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#losing_tradesvalue","title":"<code>#losing_trades=(value)</code>","text":"<p>Sets the attribute losing_trades</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute losing_trades to. Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#win_rate","title":"<code>#win_rate()</code>","text":"<p>Returns the value of attribute win_rate.</p> Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#win_ratevalue","title":"<code>#win_rate=(value)</code>","text":"<p>Sets the attribute win_rate</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute win_rate to. Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#average_win","title":"<code>#average_win()</code>","text":"<p>Returns the value of attribute average_win.</p> Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#average_winvalue","title":"<code>#average_win=(value)</code>","text":"<p>Sets the attribute average_win</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute average_win to. Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#average_loss","title":"<code>#average_loss()</code>","text":"<p>Returns the value of attribute average_loss.</p> Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#average_lossvalue","title":"<code>#average_loss=(value)</code>","text":"<p>Sets the attribute average_loss</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute average_loss to. Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#profit_factor","title":"<code>#profit_factor()</code>","text":"<p>Returns the value of attribute profit_factor.</p> Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#profit_factorvalue","title":"<code>#profit_factor=(value)</code>","text":"<p>Sets the attribute profit_factor</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute profit_factor to. Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#start_date","title":"<code>#start_date()</code>","text":"<p>Returns the value of attribute start_date.</p> Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#start_datevalue","title":"<code>#start_date=(value)</code>","text":"<p>Sets the attribute start_date</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute start_date to. Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#end_date","title":"<code>#end_date()</code>","text":"<p>Returns the value of attribute end_date.</p> Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#end_datevalue","title":"<code>#end_date=(value)</code>","text":"<p>Sets the attribute end_date</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute end_date to. Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#initial_capital","title":"<code>#initial_capital()</code>","text":"<p>Returns the value of attribute initial_capital.</p> Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#initial_capitalvalue","title":"<code>#initial_capital=(value)</code>","text":"<p>Sets the attribute initial_capital</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute initial_capital to. Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#final_value","title":"<code>#final_value()</code>","text":"<p>Returns the value of attribute final_value.</p> Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#final_valuevalue","title":"<code>#final_value=(value)</code>","text":"<p>Sets the attribute final_value</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute final_value to. Source Location <p><code>lib/sqa/backtest.rb:12</code></p>"},{"location":"api-reference/sqa_backtest_results/#initialize","title":"<code>#initialize()</code>","text":"<p>Returns</p> <p>Type: <code>Results</code></p> <p>a new instance of Results</p> Source Location <p><code>lib/sqa/backtest.rb:17</code></p>"},{"location":"api-reference/sqa_backtest_results/#to_h","title":"<code>#to_h()</code>","text":"Source Location <p><code>lib/sqa/backtest.rb:31</code></p>"},{"location":"api-reference/sqa_backtest_results/#summary","title":"<code>#summary()</code>","text":"Source Location <p><code>lib/sqa/backtest.rb:51</code></p>"},{"location":"api-reference/sqa_backtest_results/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_backtest_results/#total_return-readwrite","title":"\ud83d\udd04 <code>total_return</code> read/write","text":"<p>Returns the value of attribute total_return.</p>"},{"location":"api-reference/sqa_backtest_results/#annualized_return-readwrite","title":"\ud83d\udd04 <code>annualized_return</code> read/write","text":"<p>Returns the value of attribute annualized_return.</p>"},{"location":"api-reference/sqa_backtest_results/#sharpe_ratio-readwrite","title":"\ud83d\udd04 <code>sharpe_ratio</code> read/write","text":"<p>Returns the value of attribute sharpe_ratio.</p>"},{"location":"api-reference/sqa_backtest_results/#max_drawdown-readwrite","title":"\ud83d\udd04 <code>max_drawdown</code> read/write","text":"<p>Returns the value of attribute max_drawdown.</p>"},{"location":"api-reference/sqa_backtest_results/#total_trades-readwrite","title":"\ud83d\udd04 <code>total_trades</code> read/write","text":"<p>Returns the value of attribute total_trades.</p>"},{"location":"api-reference/sqa_backtest_results/#winning_trades-readwrite","title":"\ud83d\udd04 <code>winning_trades</code> read/write","text":"<p>Returns the value of attribute winning_trades.</p>"},{"location":"api-reference/sqa_backtest_results/#losing_trades-readwrite","title":"\ud83d\udd04 <code>losing_trades</code> read/write","text":"<p>Returns the value of attribute losing_trades.</p>"},{"location":"api-reference/sqa_backtest_results/#win_rate-readwrite","title":"\ud83d\udd04 <code>win_rate</code> read/write","text":"<p>Returns the value of attribute win_rate.</p>"},{"location":"api-reference/sqa_backtest_results/#average_win-readwrite","title":"\ud83d\udd04 <code>average_win</code> read/write","text":"<p>Returns the value of attribute average_win.</p>"},{"location":"api-reference/sqa_backtest_results/#average_loss-readwrite","title":"\ud83d\udd04 <code>average_loss</code> read/write","text":"<p>Returns the value of attribute average_loss.</p>"},{"location":"api-reference/sqa_backtest_results/#profit_factor-readwrite","title":"\ud83d\udd04 <code>profit_factor</code> read/write","text":"<p>Returns the value of attribute profit_factor.</p>"},{"location":"api-reference/sqa_backtest_results/#start_date-readwrite","title":"\ud83d\udd04 <code>start_date</code> read/write","text":"<p>Returns the value of attribute start_date.</p>"},{"location":"api-reference/sqa_backtest_results/#end_date-readwrite","title":"\ud83d\udd04 <code>end_date</code> read/write","text":"<p>Returns the value of attribute end_date.</p>"},{"location":"api-reference/sqa_backtest_results/#initial_capital-readwrite","title":"\ud83d\udd04 <code>initial_capital</code> read/write","text":"<p>Returns the value of attribute initial_capital.</p>"},{"location":"api-reference/sqa_backtest_results/#final_value-readwrite","title":"\ud83d\udd04 <code>final_value</code> read/write","text":"<p>Returns the value of attribute final_value.</p>"},{"location":"api-reference/sqa_badparametererror/","title":"\ud83d\udce6 SQA::BadParameterError","text":"<p>Description</p> <p>Raised when a method parameter is invalid. Inherits from ArgumentError for semantic clarity.</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/errors.rb:54</code></p> <p>Inherits from: <code>ArgumentError</code></p>"},{"location":"api-reference/sqa_badparametererror/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_config/","title":"\ud83d\udce6 SQA::Config","text":"<p>Description</p> <p>Configuration class for SQA settings. Extends Hashie::Dash for property-based configuration with coercion.</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/config.rb:54</code></p> <p>Inherits from: <code>Hashie::Dash</code></p>"},{"location":"api-reference/sqa_config/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_config/#reset","title":"<code>.reset()</code>","text":"<p>Resets the configuration to default values. Creates a new Config instance and assigns it to SQA.config.</p> <p>Returns</p> <p>Type: <code>SQA::Config</code></p> <p>The new config instance</p> Source Location <p><code>lib/sqa/config.rb:255</code></p>"},{"location":"api-reference/sqa_config/#initialized","title":"<code>.initialized?()</code>","text":"<p>Returns whether the configuration has been initialized.</p> <p>Returns</p> <p>Type: <code>Boolean</code></p> <p>true if reset has been called</p> Source Location <p><code>lib/sqa/config.rb:263</code></p>"},{"location":"api-reference/sqa_config/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_config/#command","title":"<code>#command()</code>","text":"<p>Returns</p> <p>Type: <code>String, nil</code></p> <p>Current command (nil, 'analysis', or 'web')</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#commandvalue","title":"<code>#command=(value)</code>","text":"<p>Returns</p> <p>Type: <code>String, nil</code></p> <p>Current command (nil, 'analysis', or 'web')</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#config_file","title":"<code>#config_file()</code>","text":"<p>Returns</p> <p>Type: <code>String, nil</code></p> <p>Path to configuration file</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#config_filevalue","title":"<code>#config_file=(value)</code>","text":"<p>Returns</p> <p>Type: <code>String, nil</code></p> <p>Path to configuration file</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#dump_config","title":"<code>#dump_config()</code>","text":"<p>Returns</p> <p>Type: <code>String, nil</code></p> <p>Path to dump current configuration</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#dump_configvalue","title":"<code>#dump_config=(value)</code>","text":"<p>Returns</p> <p>Type: <code>String, nil</code></p> <p>Path to dump current configuration</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#data_dir","title":"<code>#data_dir()</code>","text":"<p>Returns</p> <p>Type: <code>String</code></p> <p>Directory for data storage (default: ~/sqa_data)</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#data_dirvalue","title":"<code>#data_dir=(value)</code>","text":"<p>Returns</p> <p>Type: <code>String</code></p> <p>Directory for data storage (default: ~/sqa_data)</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#portfolio_filename","title":"<code>#portfolio_filename()</code>","text":"<p>Returns</p> <p>Type: <code>String</code></p> <p>Portfolio CSV filename (default: portfolio.csv)</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#portfolio_filenamevalue","title":"<code>#portfolio_filename=(value)</code>","text":"<p>Returns</p> <p>Type: <code>String</code></p> <p>Portfolio CSV filename (default: portfolio.csv)</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#trades_filename","title":"<code>#trades_filename()</code>","text":"<p>Returns</p> <p>Type: <code>String</code></p> <p>Trades CSV filename (default: trades.csv)</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#trades_filenamevalue","title":"<code>#trades_filename=(value)</code>","text":"<p>Returns</p> <p>Type: <code>String</code></p> <p>Trades CSV filename (default: trades.csv)</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#log_level","title":"<code>#log_level()</code>","text":"<p>Returns</p> <p>Type: <code>Symbol</code></p> <p>Log level (:debug, :info, :warn, :error, :fatal)</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#log_levelvalue","title":"<code>#log_level=(value)</code>","text":"<p>Returns</p> <p>Type: <code>Symbol</code></p> <p>Log level (:debug, :info, :warn, :error, :fatal)</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#debug","title":"<code>#debug()</code>","text":"<p>Returns</p> <p>Type: <code>Boolean</code></p> <p>Enable debug mode</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#debugvalue","title":"<code>#debug=(value)</code>","text":"<p>Returns</p> <p>Type: <code>Boolean</code></p> <p>Enable debug mode</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#verbose","title":"<code>#verbose()</code>","text":"<p>Returns</p> <p>Type: <code>Boolean</code></p> <p>Enable verbose output</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#verbosevalue","title":"<code>#verbose=(value)</code>","text":"<p>Returns</p> <p>Type: <code>Boolean</code></p> <p>Enable verbose output</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#plotting_library","title":"<code>#plotting_library()</code>","text":"<p>Returns</p> <p>Type: <code>Symbol</code></p> <p>Plotting library to use (:gruff)</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#plotting_libraryvalue","title":"<code>#plotting_library=(value)</code>","text":"<p>Returns</p> <p>Type: <code>Symbol</code></p> <p>Plotting library to use (:gruff)</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#lazy_update","title":"<code>#lazy_update()</code>","text":"<p>Returns</p> <p>Type: <code>Boolean</code></p> <p>Skip API updates if cached data exists</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#lazy_updatevalue","title":"<code>#lazy_update=(value)</code>","text":"<p>Returns</p> <p>Type: <code>Boolean</code></p> <p>Skip API updates if cached data exists</p> Source Location <p><code>lib/sqa/config.rb:54</code></p>"},{"location":"api-reference/sqa_config/#initializea_hash","title":"<code>#initialize(a_hash = {})</code>","text":"<p>Creates a new Config instance with optional initial values. Automatically applies environment variable overrides.</p> <p>Parameters</p> Name Type Description <code>a_hash</code> <code>Hash</code> Initial configuration values <p>Returns</p> <p>Type: <code>Config</code></p> <p>a new instance of Config</p> Source Location <p><code>lib/sqa/config.rb:120</code></p>"},{"location":"api-reference/sqa_config/#debug_1","title":"<code>#debug?()</code>","text":"<p>Returns whether debug mode is enabled.</p> <p>Returns</p> <p>Type: <code>Boolean</code></p> <p>true if debug mode is on</p> Source Location <p><code>lib/sqa/config.rb:127</code></p>"},{"location":"api-reference/sqa_config/#verbose_1","title":"<code>#verbose?()</code>","text":"<p>Returns whether verbose mode is enabled.</p> <p>Returns</p> <p>Type: <code>Boolean</code></p> <p>true if verbose mode is on</p> Source Location <p><code>lib/sqa/config.rb:131</code></p>"},{"location":"api-reference/sqa_config/#from_file","title":"<code>#from_file()</code>","text":"<p>Loads configuration from a file. Supports YAML (.yml, .yaml), TOML (.toml), and JSON (.json) formats.</p> <p>Returns</p> <p>Type: <code>void</code></p> Source Location <p><code>lib/sqa/config.rb:141</code></p>"},{"location":"api-reference/sqa_config/#dump_file","title":"<code>#dump_file()</code>","text":"<p>Writes current configuration to a file. Format is determined by file extension.</p> <p>Returns</p> <p>Type: <code>void</code></p> Source Location <p><code>lib/sqa/config.rb:178</code></p>"},{"location":"api-reference/sqa_config/#inject_additional_properties","title":"<code>#inject_additional_properties()</code>","text":"<p>Injects additional properties from plugins. Allows external code to register new configuration options.</p> <p>Returns</p> <p>Type: <code>void</code></p> Source Location <p><code>lib/sqa/config.rb:206</code></p>"},{"location":"api-reference/sqa_config/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_config/#command-readwrite","title":"\ud83d\udd04 <code>command</code> read/write","text":""},{"location":"api-reference/sqa_config/#config_file-readwrite","title":"\ud83d\udd04 <code>config_file</code> read/write","text":""},{"location":"api-reference/sqa_config/#dump_config-readwrite","title":"\ud83d\udd04 <code>dump_config</code> read/write","text":""},{"location":"api-reference/sqa_config/#data_dir-readwrite","title":"\ud83d\udd04 <code>data_dir</code> read/write","text":""},{"location":"api-reference/sqa_config/#portfolio_filename-readwrite","title":"\ud83d\udd04 <code>portfolio_filename</code> read/write","text":""},{"location":"api-reference/sqa_config/#trades_filename-readwrite","title":"\ud83d\udd04 <code>trades_filename</code> read/write","text":""},{"location":"api-reference/sqa_config/#log_level-readwrite","title":"\ud83d\udd04 <code>log_level</code> read/write","text":""},{"location":"api-reference/sqa_config/#debug-readwrite","title":"\ud83d\udd04 <code>debug</code> read/write","text":""},{"location":"api-reference/sqa_config/#verbose-readwrite","title":"\ud83d\udd04 <code>verbose</code> read/write","text":""},{"location":"api-reference/sqa_config/#plotting_library-readwrite","title":"\ud83d\udd04 <code>plotting_library</code> read/write","text":""},{"location":"api-reference/sqa_config/#lazy_update-readwrite","title":"\ud83d\udd04 <code>lazy_update</code> read/write","text":""},{"location":"api-reference/sqa_configurationerror/","title":"\ud83d\udce6 SQA::ConfigurationError","text":"<p>Description</p> <p>Raised when SQA configuration is invalid or missing. Common causes include missing API keys or invalid data directories.</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/errors.rb:46</code></p> <p>Inherits from: <code>StandardError</code></p>"},{"location":"api-reference/sqa_configurationerror/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_datafetcherror/","title":"\ud83d\udce6 SQA::DataFetchError","text":"<p>Description</p> <p>Raised when unable to fetch data from a data source (API, file, etc.). Wraps the original exception for debugging purposes.</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/errors.rb:26</code></p> <p>Inherits from: <code>StandardError</code></p>"},{"location":"api-reference/sqa_datafetcherror/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_datafetcherror/#original_error","title":"<code>#original_error()</code>","text":"<p>Returns</p> <p>Type: <code>Exception, nil</code></p> <p>The original exception that caused this error</p> Source Location <p><code>lib/sqa/errors.rb:28</code></p>"},{"location":"api-reference/sqa_datafetcherror/#initializemessage-original-nil","title":"<code>#initialize(message, original: = nil)</code>","text":"<p>Creates a new DataFetchError.</p> <p>Parameters</p> Name Type Description <code>message</code> <code>String</code> Error message describing the fetch failure <code>original</code> <code>Exception, nil</code> The original exception that was caught <p>Returns</p> <p>Type: <code>DataFetchError</code></p> <p>a new instance of DataFetchError</p> Source Location <p><code>lib/sqa/errors.rb:34</code></p>"},{"location":"api-reference/sqa_datafetcherror/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_datafetcherror/#original_error-read-only","title":"\ud83d\udc41\ufe0f <code>original_error</code> read-only","text":""},{"location":"api-reference/sqa_dataframe/","title":"\ud83d\udce6 SQA::DataFrame","text":"<p>Description</p> <p>The website financial.yahoo.com no longer supports an API.   To get recent stock historical price updates you have   to scrape the webpage.</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/data_frame.rb:28</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_dataframe/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_dataframe/#is_datevalue","title":"<code>.is_date?(value)</code>","text":"<p>Checks if a value appears to be a date string.</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Object</code> Value to check <p>Returns</p> <p>Type: <code>Boolean</code></p> <p>true if value matches YYYY-MM-DD format</p> Source Location <p><code>lib/sqa/data_frame.rb:246</code></p>"},{"location":"api-reference/sqa_dataframe/#loadsource-transformers-mapping","title":"<code>.load(source:, transformers: = {}, mapping: = {})</code>","text":"<p>Load a DataFrame from a file source This is the primary method for loading persisted DataFrames</p> <p>Note: For cached CSV files, transformers and mapping should typically be empty since transformations were already applied when the data was first fetched. We only apply them if the CSV has old-format column names that need migration.</p> <p>Parameters</p> Name Type Description <code>source</code> <code>String, Pathname</code> Path to CSV file <code>transformers</code> <code>Hash</code> Column transformations to apply (usually not needed for cached data) <code>mapping</code> <code>Hash</code> Column name mappings (usually not needed for cached data) <p>Returns</p> <p>Type: <code>SQA::DataFrame</code></p> <p>Loaded DataFrame</p> Source Location <p><code>lib/sqa/data_frame.rb:283</code></p>"},{"location":"api-reference/sqa_dataframe/#from_aofhaofh-mapping-transformers","title":"<code>.from_aofh(aofh, mapping: = {}, transformers: = {})</code>","text":"<p>Creates a DataFrame from an array of hashes.</p> <p>Parameters</p> Name Type Description <code>aofh</code> <code>Array&lt;Hash&gt;</code> Array of hash records <code>mapping</code> <code>Hash</code> Column name mappings to apply <code>transformers</code> <code>Hash</code> Column transformers to apply <p>Returns</p> <p>Type: <code>SQA::DataFrame</code></p> <p>New DataFrame instance</p> <p>Usage Examples</p> <pre><code>data = [{ \"date\" =&gt; \"2024-01-01\", \"price\" =&gt; 100.0 }]\ndf = SQA::DataFrame.from_aofh(data)\n</code></pre> Source Location <p><code>lib/sqa/data_frame.rb:302</code></p>"},{"location":"api-reference/sqa_dataframe/#from_csv_filesource-mapping-transformers","title":"<code>.from_csv_file(source, mapping: = {}, transformers: = {})</code>","text":"<p>Creates a DataFrame from a CSV file.</p> <p>Parameters</p> Name Type Description <code>source</code> <code>String, Pathname</code> Path to CSV file <code>mapping</code> <code>Hash</code> Column name mappings to apply <code>transformers</code> <code>Hash</code> Column transformers to apply <p>Returns</p> <p>Type: <code>SQA::DataFrame</code></p> <p>New DataFrame instance</p> Source Location <p><code>lib/sqa/data_frame.rb:324</code></p>"},{"location":"api-reference/sqa_dataframe/#from_json_filesource-mapping-transformers","title":"<code>.from_json_file(source, mapping: = {}, transformers: = {})</code>","text":"<p>Creates a DataFrame from a JSON file.</p> <p>Parameters</p> Name Type Description <code>source</code> <code>String, Pathname</code> Path to JSON file containing array of objects <code>mapping</code> <code>Hash</code> Column name mappings to apply <code>transformers</code> <code>Hash</code> Column transformers to apply <p>Returns</p> <p>Type: <code>SQA::DataFrame</code></p> <p>New DataFrame instance</p> Source Location <p><code>lib/sqa/data_frame.rb:335</code></p>"},{"location":"api-reference/sqa_dataframe/#generate_mappingkeys","title":"<code>.generate_mapping(keys)</code>","text":"<p>Generates a mapping of original keys to underscored keys.</p> <p>Parameters</p> Name Type Description <code>keys</code> <code>Array&lt;String&gt;</code> Original key names <p>Returns</p> <p>Type: <code>Hash{String =&gt; Symbol}</code></p> <p>Mapping from original to underscored keys</p> Source Location <p><code>lib/sqa/data_frame.rb:344</code></p>"},{"location":"api-reference/sqa_dataframe/#underscore_keykey","title":"<code>.underscore_key(key)</code>","text":"<p>Converts a key string to underscored snake_case format.</p> <p>Parameters</p> Name Type Description <code>key</code> <code>String</code> Key to convert <p>Returns</p> <p>Type: <code>Symbol</code></p> <p>Underscored key as symbol</p> <p>Usage Examples</p> <pre><code>underscore_key(\"closePrice\")  # =&gt; :close_price\nunderscore_key(\"Close Price\") # =&gt; :close_price\n</code></pre> Source Location <p><code>lib/sqa/data_frame.rb:359</code></p>"},{"location":"api-reference/sqa_dataframe/#sanitize_key","title":"<code>.sanitize_key()</code>","text":"<p>Converts a key string to underscored snake_case format.</p> <p>Parameters</p> Name Type Description <code>key</code> <code>String</code> Key to convert <p>Returns</p> <p>Type: <code>Symbol</code></p> <p>Underscored key as symbol</p> <p>Usage Examples</p> <pre><code>underscore_key(\"closePrice\")  # =&gt; :close_price\nunderscore_key(\"Close Price\") # =&gt; :close_price\n</code></pre> Source Location <p><code>lib/sqa/data_frame.rb:371</code></p>"},{"location":"api-reference/sqa_dataframe/#normalize_keyshash-adapter_mapping","title":"<code>.normalize_keys(hash, adapter_mapping: = {})</code>","text":"<p>Normalizes all keys in a hash to snake_case format.</p> <p>Parameters</p> Name Type Description <code>hash</code> <code>Hash</code> Hash with keys to normalize <code>adapter_mapping</code> <code>Hash</code> Optional pre-mapping to apply first <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Hash with normalized keys</p> Source Location <p><code>lib/sqa/data_frame.rb:378</code></p>"},{"location":"api-reference/sqa_dataframe/#renamehash-mapping","title":"<code>.rename(hash, mapping)</code>","text":"<p>Renames keys in a hash according to a mapping.</p> <p>Parameters</p> Name Type Description <code>hash</code> <code>Hash</code> Hash to modify <code>mapping</code> <code>Hash</code> Old key to new key mapping <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Modified hash</p> Source Location <p><code>lib/sqa/data_frame.rb:389</code></p>"},{"location":"api-reference/sqa_dataframe/#aofh_to_hofaaofh-mapping-transformers","title":"<code>.aofh_to_hofa(aofh, mapping: = {}, transformers: = {})</code>","text":"<p>Converts array of hashes to hash of arrays format.</p> <p>Parameters</p> Name Type Description <code>aofh</code> <code>Array&lt;Hash&gt;</code> Array of hash records <code>mapping</code> <code>Hash</code> Column name mappings (unused, for API compatibility) <code>transformers</code> <code>Hash</code> Column transformers (unused, for API compatibility) <p>Returns</p> <p>Type: <code>Hash{String =&gt; Array}</code></p> <p>Hash with column names as keys and arrays as values</p> Source Location <p><code>lib/sqa/data_frame.rb:400</code></p>"},{"location":"api-reference/sqa_dataframe/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_dataframe/#data","title":"<code>#data()</code>","text":"<p>Returns</p> <p>Type: <code>Polars::DataFrame</code></p> <p>The underlying Polars DataFrame</p> Source Location <p><code>lib/sqa/data_frame.rb:33</code></p>"},{"location":"api-reference/sqa_dataframe/#datavalue","title":"<code>#data=(value)</code>","text":"<p>Sets the attribute data</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute data to. Source Location <p><code>lib/sqa/data_frame.rb:33</code></p>"},{"location":"api-reference/sqa_dataframe/#initializeraw_data-nil-mapping-transformers","title":"<code>#initialize(raw_data = nil, mapping: = {}, transformers: = {})</code>","text":"<p>Creates a new DataFrame instance.</p> <p>Parameters</p> Name Type Description <code>raw_data</code> <code>Hash, Array, Polars::DataFrame, nil</code> Initial data for the DataFrame <code>mapping</code> <code>Hash</code> Column name mappings to apply (old_name =&gt; new_name) <code>transformers</code> <code>Hash</code> Column transformers to apply (column =&gt; lambda) <p>Returns</p> <p>Type: <code>DataFrame</code></p> <p>a new instance of DataFrame</p> <p>Usage Examples</p> <pre><code>df = SQA::DataFrame.new(data, mapping: { \"Close\" =&gt; \"close_price\" })\n</code></pre> <pre><code>df = SQA::DataFrame.new(data, transformers: { \"price\" =&gt; -&gt;(v) { v.to_f } })\n</code></pre> Source Location <p><code>lib/sqa/data_frame.rb:47</code></p>"},{"location":"api-reference/sqa_dataframe/#apply_transformerstransformers","title":"<code>#apply_transformers!(transformers)</code>","text":"<p>Applies transformer functions to specified columns in place.</p> <p>Parameters</p> Name Type Description <code>transformers</code> <code>Hash{String, Symbol =&gt; Proc}</code> Column name to transformer mapping <p>Returns</p> <p>Type: <code>void</code></p> <p>Usage Examples</p> <pre><code>df.apply_transformers!({ \"price\" =&gt; -&gt;(v) { v.to_f }, \"volume\" =&gt; -&gt;(v) { v.to_i } })\n</code></pre> Source Location <p><code>lib/sqa/data_frame.rb:65</code></p>"},{"location":"api-reference/sqa_dataframe/#rename_columnsmapping","title":"<code>#rename_columns!(mapping)</code>","text":"<p>Renames columns according to the provided mapping in place.</p> <p>Parameters</p> Name Type Description <code>mapping</code> <code>Hash{String, Symbol =&gt; String}</code> Old column name to new column name mapping <p>Returns</p> <p>Type: <code>void</code></p> <p>Usage Examples</p> <pre><code>df.rename_columns!({ \"open\" =&gt; \"open_price\", \"close\" =&gt; \"close_price\" })\n</code></pre> Source Location <p><code>lib/sqa/data_frame.rb:82</code></p>"},{"location":"api-reference/sqa_dataframe/#appendother_df","title":"<code>#append!(other_df)</code>","text":"<p>Appends another DataFrame to this one in place.</p> <p>Parameters</p> Name Type Description <code>other_df</code> <code>SQA::DataFrame</code> DataFrame to append <p>Returns</p> <p>Type: <code>void</code></p> <p>Usage Examples</p> <pre><code>df1.append!(df2)\n</code></pre> Source Location <p><code>lib/sqa/data_frame.rb:107</code></p>"},{"location":"api-reference/sqa_dataframe/#concat","title":"<code>#concat!()</code>","text":"<p>Appends another DataFrame to this one in place.</p> <p>Parameters</p> Name Type Description <code>other_df</code> <code>SQA::DataFrame</code> DataFrame to append <p>Returns</p> <p>Type: <code>void</code></p> <p>Usage Examples</p> <pre><code>df1.append!(df2)\n</code></pre> Source Location <p><code>lib/sqa/data_frame.rb:124</code></p>"},{"location":"api-reference/sqa_dataframe/#concat_and_deduplicateother_df-sort_column-timestamp-descending-false","title":"<code>#concat_and_deduplicate!(other_df, sort_column: = \"timestamp\", descending: = false)</code>","text":"<p>Concatenate another DataFrame, remove duplicates, and sort This is the preferred method for updating CSV data to prevent duplicates</p> <p>NOTE: TA-Lib requires data in ascending (oldest-first) order. Using descending: true will produce a warning and force ascending order to prevent silent calculation errors.</p> <p>Parameters</p> Name Type Description <code>other_df</code> <code>SQA::DataFrame</code> DataFrame to append <code>sort_column</code> <code>String</code> Column to use for deduplication and sorting (default: \"timestamp\") <code>descending</code> <code>Boolean</code> Sort order - false for ascending (oldest first, TA-Lib compatible), true for descending Source Location <p><code>lib/sqa/data_frame.rb:135</code></p>"},{"location":"api-reference/sqa_dataframe/#columns","title":"<code>#columns()</code>","text":"<p>Returns the column names of the DataFrame.</p> <p>Returns</p> <p>Type: <code>Array&lt;String&gt;</code></p> <p>List of column names</p> Source Location <p><code>lib/sqa/data_frame.rb:159</code></p>"},{"location":"api-reference/sqa_dataframe/#keys","title":"<code>#keys()</code>","text":"<p>Returns the column names of the DataFrame. Alias for {#columns}.</p> <p>Returns</p> <p>Type: <code>Array&lt;String&gt;</code></p> <p>List of column names</p> Source Location <p><code>lib/sqa/data_frame.rb:167</code></p>"},{"location":"api-reference/sqa_dataframe/#vectors","title":"<code>#vectors()</code>","text":"<p>Returns the column names of the DataFrame. Alias for {#columns}.</p> <p>Returns</p> <p>Type: <code>Array&lt;String&gt;</code></p> <p>List of column names</p> Source Location <p><code>lib/sqa/data_frame.rb:170</code></p>"},{"location":"api-reference/sqa_dataframe/#to_h","title":"<code>#to_h()</code>","text":"<p>Converts the DataFrame to a Ruby Hash.</p> <p>Returns</p> <p>Type: <code>Hash{Symbol =&gt; Array}</code></p> <p>Hash with column names as keys and column data as arrays</p> <p>Usage Examples</p> <pre><code>df.to_h  # =&gt; { timestamp: [\"2024-01-01\", ...], close_price: [100.0, ...] }\n</code></pre> Source Location <p><code>lib/sqa/data_frame.rb:179</code></p>"},{"location":"api-reference/sqa_dataframe/#to_csvpath_to_file","title":"<code>#to_csv(path_to_file)</code>","text":"<p>Writes the DataFrame to a CSV file.</p> <p>Parameters</p> Name Type Description <code>path_to_file</code> <code>String, Pathname</code> Path to output CSV file <p>Returns</p> <p>Type: <code>void</code></p> Source Location <p><code>lib/sqa/data_frame.rb:187</code></p>"},{"location":"api-reference/sqa_dataframe/#size","title":"<code>#size()</code>","text":"<p>Returns the number of rows in the DataFrame.</p> <p>Returns</p> <p>Type: <code>Integer</code></p> <p>Row count</p> Source Location <p><code>lib/sqa/data_frame.rb:194</code></p>"},{"location":"api-reference/sqa_dataframe/#nrows","title":"<code>#nrows()</code>","text":"<p>Returns the number of rows in the DataFrame.</p> <p>Returns</p> <p>Type: <code>Integer</code></p> <p>Row count</p> Source Location <p><code>lib/sqa/data_frame.rb:197</code></p>"},{"location":"api-reference/sqa_dataframe/#length","title":"<code>#length()</code>","text":"<p>Returns the number of rows in the DataFrame.</p> <p>Returns</p> <p>Type: <code>Integer</code></p> <p>Row count</p> Source Location <p><code>lib/sqa/data_frame.rb:198</code></p>"},{"location":"api-reference/sqa_dataframe/#ncols","title":"<code>#ncols()</code>","text":"<p>Returns the number of columns in the DataFrame.</p> <p>Returns</p> <p>Type: <code>Integer</code></p> <p>Column count</p> Source Location <p><code>lib/sqa/data_frame.rb:203</code></p>"},{"location":"api-reference/sqa_dataframe/#fplcolumn-adj_close_price-fpop-14","title":"<code>#fpl(column: = 'adj_close_price', fpop: = 14)</code>","text":"<p>FPL Analysis - Calculate Future Period Loss/Profit</p> <p>Parameters</p> Name Type Description <code>column</code> <code>String, Symbol</code> Column name containing prices (default: \"adj_close_price\") <code>fpop</code> <code>Integer</code> Future Period of Performance (days to look ahead) <p>Returns</p> <p>Type: <code>Array&lt;Array&lt;Float, Float&gt;&gt;</code></p> <p>Array of [min_delta, max_delta] pairs</p> <p>Usage Examples</p> <pre><code>stock = SQA::Stock.new(ticker: 'AAPL')\nfpl_data = stock.df.fpl(fpop: 10)\n</code></pre> Source Location <p><code>lib/sqa/data_frame.rb:218</code></p>"},{"location":"api-reference/sqa_dataframe/#fpl_analysiscolumn-adj_close_price-fpop-14","title":"<code>#fpl_analysis(column: = 'adj_close_price', fpop: = 14)</code>","text":"<p>FPL Analysis with risk metrics and classification</p> <p>Parameters</p> Name Type Description <code>column</code> <code>String, Symbol</code> Column name containing prices (default: \"adj_close_price\") <code>fpop</code> <code>Integer</code> Future Period of Performance <p>Returns</p> <p>Type: <code>Array&lt;Hash&gt;</code></p> <p>Array of analysis hashes</p> <p>Usage Examples</p> <pre><code>analysis = stock.df.fpl_analysis(fpop: 10)\nanalysis.first[:direction]  # =&gt; :UP, :DOWN, :UNCERTAIN, or :FLAT\nanalysis.first[:magnitude]  # =&gt; Average expected movement percentage\nanalysis.first[:risk]       # =&gt; Volatility range\n</code></pre> Source Location <p><code>lib/sqa/data_frame.rb:236</code></p>"},{"location":"api-reference/sqa_dataframe/#method_missingmethod_name-args-block","title":"<code>#method_missing(method_name, *args, &amp;block)</code>","text":"<p>Delegates unknown methods to the underlying Polars DataFrame. This allows direct access to Polars methods like filter, select, etc.</p> <p>Parameters</p> Name Type Description <code>method_name</code> <code>Symbol</code> Method name being called <code>args</code> <code>Array</code> Method arguments <code>block</code> <code>Proc</code> Optional block <p>Returns</p> <p>Type: <code>Object</code></p> <p>Result from Polars DataFrame method</p> Source Location <p><code>lib/sqa/data_frame.rb:257</code></p>"},{"location":"api-reference/sqa_dataframe/#respond_to_missingmethod_name-include_private-false","title":"<code>#respond_to_missing?(method_name, include_private = false)</code>","text":"<p>Checks if the DataFrame responds to a method.</p> <p>Parameters</p> Name Type Description <code>method_name</code> <code>Symbol</code> Method name to check <code>include_private</code> <code>Boolean</code> Include private methods <p>Returns</p> <p>Type: <code>Boolean</code></p> <p>true if method is available</p> Source Location <p><code>lib/sqa/data_frame.rb:267</code></p>"},{"location":"api-reference/sqa_dataframe/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_dataframe/#data-readwrite","title":"\ud83d\udd04 <code>data</code> read/write","text":""},{"location":"api-reference/sqa_dataframe_alphavantage/","title":"\ud83d\udce6 SQA::DataFrame::AlphaVantage","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/data_frame/alpha_vantage.rb:9</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_dataframe_alphavantage/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_dataframe_alphavantage/#recentticker-full-false-from_date-nil","title":"<code>.recent(ticker, full: = false, from_date: = nil)</code>","text":"<p>Get recent data from Alpha Vantage API</p> <p>ticker String the security to retrieve full Boolean whether to fetch full history or compact (last 100 days) from_date Date optional date to fetch data after (for incremental updates)</p> <p>Returns: SQA::DataFrame sorted in ASCENDING order (oldest to newest) Note: Alpha Vantage returns data newest-first, but we sort ascending for TA-Lib compatibility</p> Source Location <p><code>lib/sqa/data_frame/alpha_vantage.rb:46</code></p>"},{"location":"api-reference/sqa_dataframe_alphavantage/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_dataframe_data/","title":"\ud83d\udce6 SQA::DataFrame::Data","text":"<p>Description</p> <p>Data class to store stock metadata</p> <p>This class holds metadata about a stock including its ticker symbol, name, exchange, data source, technical indicators, and company overview.</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/data_frame/data.rb:23</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_dataframe_data/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_dataframe_data/#ticker","title":"<code>#ticker()</code>","text":"<p>Returns</p> <p>Type: <code>String, nil</code></p> <p>Stock ticker symbol (e.g., 'AAPL', 'MSFT')</p> Source Location <p><code>lib/sqa/data_frame/data.rb:36</code></p>"},{"location":"api-reference/sqa_dataframe_data/#tickervalue","title":"<code>#ticker=(value)</code>","text":"<p>Returns</p> <p>Type: <code>String, nil</code></p> <p>Stock ticker symbol (e.g., 'AAPL', 'MSFT')</p> Source Location <p><code>lib/sqa/data_frame/data.rb:36</code></p>"},{"location":"api-reference/sqa_dataframe_data/#name","title":"<code>#name()</code>","text":"<p>Returns</p> <p>Type: <code>String, nil</code></p> <p>Company name</p> Source Location <p><code>lib/sqa/data_frame/data.rb:36</code></p>"},{"location":"api-reference/sqa_dataframe_data/#namevalue","title":"<code>#name=(value)</code>","text":"<p>Returns</p> <p>Type: <code>String, nil</code></p> <p>Company name</p> Source Location <p><code>lib/sqa/data_frame/data.rb:36</code></p>"},{"location":"api-reference/sqa_dataframe_data/#exchange","title":"<code>#exchange()</code>","text":"<p>Returns</p> <p>Type: <code>String, nil</code></p> <p>Exchange where stock trades (e.g., 'NASDAQ', 'NYSE')</p> Source Location <p><code>lib/sqa/data_frame/data.rb:36</code></p>"},{"location":"api-reference/sqa_dataframe_data/#exchangevalue","title":"<code>#exchange=(value)</code>","text":"<p>Returns</p> <p>Type: <code>String, nil</code></p> <p>Exchange where stock trades (e.g., 'NASDAQ', 'NYSE')</p> Source Location <p><code>lib/sqa/data_frame/data.rb:36</code></p>"},{"location":"api-reference/sqa_dataframe_data/#source","title":"<code>#source()</code>","text":"<p>Returns</p> <p>Type: <code>Symbol</code></p> <p>Data source (:alpha_vantage, :yahoo_finance)</p> Source Location <p><code>lib/sqa/data_frame/data.rb:36</code></p>"},{"location":"api-reference/sqa_dataframe_data/#sourcevalue","title":"<code>#source=(value)</code>","text":"<p>Returns</p> <p>Type: <code>Symbol</code></p> <p>Data source (:alpha_vantage, :yahoo_finance)</p> Source Location <p><code>lib/sqa/data_frame/data.rb:36</code></p>"},{"location":"api-reference/sqa_dataframe_data/#indicators","title":"<code>#indicators()</code>","text":"<p>Returns</p> <p>Type: <code>Hash</code></p> <p>Technical indicators configuration and cached values</p> Source Location <p><code>lib/sqa/data_frame/data.rb:36</code></p>"},{"location":"api-reference/sqa_dataframe_data/#indicatorsvalue","title":"<code>#indicators=(value)</code>","text":"<p>Returns</p> <p>Type: <code>Hash</code></p> <p>Technical indicators configuration and cached values</p> Source Location <p><code>lib/sqa/data_frame/data.rb:36</code></p>"},{"location":"api-reference/sqa_dataframe_data/#overview","title":"<code>#overview()</code>","text":"<p>Returns</p> <p>Type: <code>Hash</code></p> <p>Company overview data from API</p> Source Location <p><code>lib/sqa/data_frame/data.rb:36</code></p>"},{"location":"api-reference/sqa_dataframe_data/#overviewvalue","title":"<code>#overview=(value)</code>","text":"<p>Sets the attribute overview</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute overview to. Source Location <p><code>lib/sqa/data_frame/data.rb:36</code></p>"},{"location":"api-reference/sqa_dataframe_data/#initializedata_hash-nil-ticker-nil-name-nil-exchange-nil-source-alpha_vantage-indicators-overview","title":"<code>#initialize(data_hash = nil, ticker: = nil, name: = nil, exchange: = nil, source: = :alpha_vantage, indicators: = {}, overview: = {})</code>","text":"<p>Initializes stock metadata.</p> <p>Can be called in two ways:   1. With a hash: SQA::DataFrame::Data.new(hash) - for JSON deserialization   2. With keyword args: SQA::DataFrame::Data.new(ticker: 'AAPL', source: :alpha_vantage, ...)</p> <p>Parameters</p> Name Type Description <code>data_hash</code> <code>Hash, nil</code> Hash of all attributes (when passed as first positional arg) <code>ticker</code> <code>String, Symbol, nil</code> Ticker symbol <code>name</code> <code>String, nil</code> Stock name <code>exchange</code> <code>String, nil</code> Exchange symbol (e.g., 'NASDAQ', 'NYSE') <code>source</code> <code>Symbol</code> Data source (:alpha_vantage, :yahoo_finance) <code>indicators</code> <code>Hash</code> Technical indicators configuration <code>overview</code> <code>Hash</code> Company overview data <p>Returns</p> <p>Type: <code>Data</code></p> <p>a new instance of Data</p> Source Location <p><code>lib/sqa/data_frame/data.rb:52</code></p>"},{"location":"api-reference/sqa_dataframe_data/#to_jsonargs","title":"<code>#to_json(*args)</code>","text":"<p>Serialize to JSON string</p> <p>Returns</p> <p>Type: <code>String</code></p> <p>JSON representation</p> Source Location <p><code>lib/sqa/data_frame/data.rb:78</code></p>"},{"location":"api-reference/sqa_dataframe_data/#to_h","title":"<code>#to_h()</code>","text":"<p>Convert to hash</p> <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Hash representation</p> Source Location <p><code>lib/sqa/data_frame/data.rb:85</code></p>"},{"location":"api-reference/sqa_dataframe_data/#to_s","title":"<code>#to_s()</code>","text":"<p>String representation</p> <p>Returns</p> <p>Type: <code>String</code></p> <p>Human-readable representation</p> Source Location <p><code>lib/sqa/data_frame/data.rb:99</code></p>"},{"location":"api-reference/sqa_dataframe_data/#inspect","title":"<code>#inspect()</code>","text":"<p>String representation</p> <p>Returns</p> <p>Type: <code>String</code></p> <p>Human-readable representation</p> Source Location <p><code>lib/sqa/data_frame/data.rb:102</code></p>"},{"location":"api-reference/sqa_dataframe_data/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_dataframe_data/#ticker-readwrite","title":"\ud83d\udd04 <code>ticker</code> read/write","text":""},{"location":"api-reference/sqa_dataframe_data/#name-readwrite","title":"\ud83d\udd04 <code>name</code> read/write","text":""},{"location":"api-reference/sqa_dataframe_data/#exchange-readwrite","title":"\ud83d\udd04 <code>exchange</code> read/write","text":""},{"location":"api-reference/sqa_dataframe_data/#source-readwrite","title":"\ud83d\udd04 <code>source</code> read/write","text":""},{"location":"api-reference/sqa_dataframe_data/#indicators-readwrite","title":"\ud83d\udd04 <code>indicators</code> read/write","text":""},{"location":"api-reference/sqa_dataframe_data/#overview-readwrite","title":"\ud83d\udd04 <code>overview</code> read/write","text":""},{"location":"api-reference/sqa_dataframe_yahoofinance/","title":"\ud83d\udce6 SQA::DataFrame::YahooFinance","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/data_frame/yahoo_finance.rb:13</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_dataframe_yahoofinance/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_dataframe_yahoofinance/#recentticker","title":"<code>.recent(ticker)</code>","text":"<p>Scrape the Yahoo Finance website to get recent historical prices for a specific ticker returns a Polars DataFrame</p> Source Location <p><code>lib/sqa/data_frame/yahoo_finance.rb:40</code></p>"},{"location":"api-reference/sqa_dataframe_yahoofinance/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_ensemble/","title":"\ud83d\udce6 SQA::Ensemble","text":"<p>Description</p> <p>Ensemble - Combine multiple trading strategies</p> <p>Provides methods for: - Majority voting - Weighted voting based on past performance - Meta-learning (strategy selection) - Strategy rotation based on market conditions - Confidence-based aggregation</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/ensemble.rb:22</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_ensemble/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_ensemble/#tradevector","title":"<code>.trade(vector)</code>","text":"<p>Make ensemble compatible with Backtest (acts like a strategy)</p> <p>Parameters</p> Name Type Description <code>vector</code> <code>OpenStruct</code> Market data <p>Returns</p> <p>Type: <code>Symbol</code></p> <p>Trading signal</p> Source Location <p><code>lib/sqa/ensemble.rb:275</code></p>"},{"location":"api-reference/sqa_ensemble/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_ensemble/#strategies","title":"<code>#strategies()</code>","text":"<p>Returns the value of attribute strategies.</p> Source Location <p><code>lib/sqa/ensemble.rb:23</code></p>"},{"location":"api-reference/sqa_ensemble/#strategiesvalue","title":"<code>#strategies=(value)</code>","text":"<p>Sets the attribute strategies</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute strategies to. Source Location <p><code>lib/sqa/ensemble.rb:23</code></p>"},{"location":"api-reference/sqa_ensemble/#weights","title":"<code>#weights()</code>","text":"<p>Returns the value of attribute weights.</p> Source Location <p><code>lib/sqa/ensemble.rb:23</code></p>"},{"location":"api-reference/sqa_ensemble/#weightsvalue","title":"<code>#weights=(value)</code>","text":"<p>Sets the attribute weights</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute weights to. Source Location <p><code>lib/sqa/ensemble.rb:23</code></p>"},{"location":"api-reference/sqa_ensemble/#performance_history","title":"<code>#performance_history()</code>","text":"<p>Returns the value of attribute performance_history.</p> Source Location <p><code>lib/sqa/ensemble.rb:23</code></p>"},{"location":"api-reference/sqa_ensemble/#performance_historyvalue","title":"<code>#performance_history=(value)</code>","text":"<p>Sets the attribute performance_history</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute performance_history to. Source Location <p><code>lib/sqa/ensemble.rb:23</code></p>"},{"location":"api-reference/sqa_ensemble/#initializestrategies-voting_method-majority-weights-nil","title":"<code>#initialize(strategies:, voting_method: = :majority, weights: = nil)</code>","text":"<p>Initialize ensemble</p> <p>Parameters</p> Name Type Description <code>strategies</code> <code>Array&lt;Class&gt;</code> Array of strategy classes <code>voting_method</code> <code>Symbol</code> :majority, :weighted, :unanimous, :confidence <code>weights</code> <code>Array&lt;Float&gt;</code> Optional weights for weighted voting <p>Returns</p> <p>Type: <code>Ensemble</code></p> <p>a new instance of Ensemble</p> Source Location <p><code>lib/sqa/ensemble.rb:32</code></p>"},{"location":"api-reference/sqa_ensemble/#signalvector","title":"<code>#signal(vector)</code>","text":"<p>Generate ensemble signal</p> <p>Parameters</p> Name Type Description <code>vector</code> <code>OpenStruct</code> Market data vector <p>Returns</p> <p>Type: <code>Symbol</code></p> <p>:buy, :sell, or :hold</p> Source Location <p><code>lib/sqa/ensemble.rb:46</code></p>"},{"location":"api-reference/sqa_ensemble/#majority_votevector","title":"<code>#majority_vote(vector)</code>","text":"<p>Majority voting</p> <p>Parameters</p> Name Type Description <code>vector</code> <code>OpenStruct</code> Market data <p>Returns</p> <p>Type: <code>Symbol</code></p> <p>Signal with most votes</p> Source Location <p><code>lib/sqa/ensemble.rb:67</code></p>"},{"location":"api-reference/sqa_ensemble/#weighted_votevector","title":"<code>#weighted_vote(vector)</code>","text":"<p>Weighted voting based on strategy performance</p> <p>Parameters</p> Name Type Description <code>vector</code> <code>OpenStruct</code> Market data <p>Returns</p> <p>Type: <code>Symbol</code></p> <p>Weighted signal</p> Source Location <p><code>lib/sqa/ensemble.rb:84</code></p>"},{"location":"api-reference/sqa_ensemble/#unanimous_votevector","title":"<code>#unanimous_vote(vector)</code>","text":"<p>Unanimous voting (all strategies must agree)</p> <p>Parameters</p> Name Type Description <code>vector</code> <code>OpenStruct</code> Market data <p>Returns</p> <p>Type: <code>Symbol</code></p> <p>:buy/:sell only if unanimous, otherwise :hold</p> Source Location <p><code>lib/sqa/ensemble.rb:104</code></p>"},{"location":"api-reference/sqa_ensemble/#confidence_votevector","title":"<code>#confidence_vote(vector)</code>","text":"<p>Confidence-based voting</p> <p>Weight votes by strategy confidence scores.</p> <p>Parameters</p> Name Type Description <code>vector</code> <code>OpenStruct</code> Market data <p>Returns</p> <p>Type: <code>Symbol</code></p> <p>Signal weighted by confidence</p> Source Location <p><code>lib/sqa/ensemble.rb:125</code></p>"},{"location":"api-reference/sqa_ensemble/#update_weightstrategy_index-performance","title":"<code>#update_weight(strategy_index, performance)</code>","text":"<p>Update strategy weights based on performance</p> <p>Adjust weights to favor better-performing strategies.</p> <p>Parameters</p> Name Type Description <code>strategy_index</code> <code>Integer</code> Index of strategy <code>performance</code> <code>Float</code> Performance metric (e.g., return) Source Location <p><code>lib/sqa/ensemble.rb:147</code></p>"},{"location":"api-reference/sqa_ensemble/#update_confidencestrategy_class-correct","title":"<code>#update_confidence(strategy_class, correct)</code>","text":"<p>Update confidence score for strategy</p> <p>Parameters</p> Name Type Description <code>strategy_class</code> <code>Class</code> Strategy class <code>correct</code> <code>Boolean</code> Was the prediction correct? Source Location <p><code>lib/sqa/ensemble.rb:160</code></p>"},{"location":"api-reference/sqa_ensemble/#select_strategymarket_regime-volatility-medium","title":"<code>#select_strategy(market_regime:, volatility: = :medium)</code>","text":"<p>Select best strategy for current market conditions</p> <p>Meta-learning approach: choose the strategy most likely to succeed.</p> <p>Parameters</p> Name Type Description <code>market_regime</code> <code>Symbol</code> Current market regime (:bull, :bear, :sideways) <code>volatility</code> <code>Symbol</code> Volatility regime (:low, :medium, :high) <p>Returns</p> <p>Type: <code>Class</code></p> <p>Best strategy class for conditions</p> Source Location <p><code>lib/sqa/ensemble.rb:181</code></p>"},{"location":"api-reference/sqa_ensemble/#rotatestock","title":"<code>#rotate(stock)</code>","text":"<p>Rotate strategies based on market conditions</p> <p>Parameters</p> Name Type Description <code>stock</code> <code>SQA::Stock</code> Stock object <p>Returns</p> <p>Type: <code>Class</code></p> <p>Strategy to use</p> Source Location <p><code>lib/sqa/ensemble.rb:213</code></p>"},{"location":"api-reference/sqa_ensemble/#statistics","title":"<code>#statistics()</code>","text":"<p>Get ensemble statistics</p> <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Performance statistics</p> Source Location <p><code>lib/sqa/ensemble.rb:227</code></p>"},{"location":"api-reference/sqa_ensemble/#backtest_comparisonstock-initial_capital-10_000","title":"<code>#backtest_comparison(stock, initial_capital: = 10_000)</code>","text":"<p>Backtest ensemble vs individual strategies</p> <p>Parameters</p> Name Type Description <code>stock</code> <code>SQA::Stock</code> Stock to backtest <code>initial_capital</code> <code>Float</code> Starting capital <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Comparison results</p> Source Location <p><code>lib/sqa/ensemble.rb:245</code></p>"},{"location":"api-reference/sqa_ensemble/#tradevector_1","title":"<code>#trade(vector)</code>","text":"<p>Instance method for compatibility</p> Source Location <p><code>lib/sqa/ensemble.rb:283</code></p>"},{"location":"api-reference/sqa_ensemble/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_ensemble/#strategies-readwrite","title":"\ud83d\udd04 <code>strategies</code> read/write","text":"<p>Returns the value of attribute strategies.</p>"},{"location":"api-reference/sqa_ensemble/#weights-readwrite","title":"\ud83d\udd04 <code>weights</code> read/write","text":"<p>Returns the value of attribute weights.</p>"},{"location":"api-reference/sqa_ensemble/#performance_history-readwrite","title":"\ud83d\udd04 <code>performance_history</code> read/write","text":"<p>Returns the value of attribute performance_history.</p>"},{"location":"api-reference/sqa_fpop/","title":"\ud83d\udd27 SQA::FPOP","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/fpop.rb:28</code></p>"},{"location":"api-reference/sqa_fpop/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_fpop/#fplprice-fpop-14","title":"<code>.fpl(price, fpop: = 14)</code>","text":"<p>Calculate Future Period Loss/Profit for each point in price series</p> <p>For each price point, looks ahead fpop periods and calculates: - Minimum percentage change (worst loss) - Maximum percentage change (best gain)</p> <p>Parameters</p> Name Type Description <code>price</code> <code>Array&lt;Numeric&gt;</code> Array of prices <code>fpop</code> <code>Integer</code> Future Period of Performance (days to look ahead) <p>Returns</p> <p>Type: <code>Array&lt;Array&lt;Float, Float&gt;&gt;</code></p> <p>Array of [min_delta, max_delta] pairs</p> <p>Usage Examples</p> <pre><code>SQA::FPOP.fpl([100, 105, 95, 110], fpop: 2)\n# =&gt; [[-5.0, 5.0], [-9.52, 4.76], [15.79, 15.79]]\n</code></pre> Source Location <p><code>lib/sqa/fpop.rb:44</code></p>"},{"location":"api-reference/sqa_fpop/#fpl_analysisprice-fpop-14","title":"<code>.fpl_analysis(price, fpop: = 14)</code>","text":"<p>Perform comprehensive FPL analysis with risk metrics and classification</p> <p>Parameters</p> Name Type Description <code>price</code> <code>Array&lt;Numeric&gt;</code> Array of prices <code>fpop</code> <code>Integer</code> Future Period of Performance <p>Returns</p> <p>Type: <code>Array&lt;Hash&gt;</code></p> <p>Array of analysis hashes containing:</p> <ul> <li>:min_delta - Worst percentage loss during fpop</li> <li>:max_delta - Best percentage gain during fpop</li> <li>:risk - Volatility range (max - min)</li> <li>:direction - Movement classification (:UP, :DOWN, :UNCERTAIN, :FLAT)</li> <li>:magnitude - Average expected movement</li> <li>:interpretation - Human-readable summary</li> </ul> <p>Usage Examples</p> <pre><code>analysis = SQA::FPOP.fpl_analysis([100, 110, 120], fpop: 2)\nanalysis.first\n# =&gt; {\n#   min_delta: 10.0,\n#   max_delta: 20.0,\n#   risk: 10.0,\n#   direction: :UP,\n#   magnitude: 15.0,\n#   interpretation: \"UP: 15.0% (\u00b15.0% risk)\"\n# }\n</code></pre> Source Location <p><code>lib/sqa/fpop.rb:85</code></p>"},{"location":"api-reference/sqa_fpop/#determine_directionmin_delta-max_delta","title":"<code>.determine_direction(min_delta, max_delta)</code>","text":"<p>Determine directional bias from min/max deltas</p> <p>Parameters</p> Name Type Description <code>min_delta</code> <code>Float</code> Minimum percentage change <code>max_delta</code> <code>Float</code> Maximum percentage change <p>Returns</p> <p>Type: <code>Symbol</code></p> <p>:UP, :DOWN, :UNCERTAIN, or :FLAT</p> Source Location <p><code>lib/sqa/fpop.rb:108</code></p>"},{"location":"api-reference/sqa_fpop/#calculate_magnitudemin_delta-max_delta","title":"<code>.calculate_magnitude(min_delta, max_delta)</code>","text":"<p>Calculate average expected movement (magnitude)</p> <p>Parameters</p> Name Type Description <code>min_delta</code> <code>Float</code> Minimum percentage change <code>max_delta</code> <code>Float</code> Maximum percentage change <p>Returns</p> <p>Type: <code>Float</code></p> <p>Average of min and max deltas</p> Source Location <p><code>lib/sqa/fpop.rb:126</code></p>"},{"location":"api-reference/sqa_fpop/#build_interpretationmin_delta-max_delta","title":"<code>.build_interpretation(min_delta, max_delta)</code>","text":"<p>Build human-readable interpretation string</p> <p>Parameters</p> Name Type Description <code>min_delta</code> <code>Float</code> Minimum percentage change <code>max_delta</code> <code>Float</code> Maximum percentage change <p>Returns</p> <p>Type: <code>String</code></p> <p>Formatted interpretation</p> Source Location <p><code>lib/sqa/fpop.rb:136</code></p>"},{"location":"api-reference/sqa_fpop/#filter_by_qualityanalysis-min_magnitude-nil-max_risk-nil-directions-up-down-uncertain-flat","title":"<code>.filter_by_quality(analysis, min_magnitude: = nil, max_risk: = nil, directions: = [:UP, :DOWN, :UNCERTAIN, :FLAT])</code>","text":"<p>Filter FPL analysis results by criteria</p> <p>Useful for finding high-quality trading opportunities</p> <p>Parameters</p> Name Type Description <code>analysis</code> <code>Array&lt;Hash&gt;</code> FPL analysis results <code>min_magnitude</code> <code>Float</code> Minimum average movement (default: nil) <code>max_risk</code> <code>Float</code> Maximum acceptable risk (default: nil) <code>directions</code> <code>Array&lt;Symbol&gt;</code> Acceptable directions (default: [:UP, :DOWN, :UNCERTAIN, :FLAT]) <p>Returns</p> <p>Type: <code>Array&lt;Integer&gt;</code></p> <p>Indices of points that meet criteria</p> <p>Usage Examples</p> <pre><code>analysis = SQA::FPOP.fpl_analysis(prices, fpop: 10)\nindices = SQA::FPOP.filter_by_quality(\n  analysis,\n  min_magnitude: 5.0,\n  max_risk: 10.0,\n  directions: [:UP]\n)\n</code></pre> Source Location <p><code>lib/sqa/fpop.rb:163</code></p>"},{"location":"api-reference/sqa_fpop/#risk_reward_ratiosanalysis","title":"<code>.risk_reward_ratios(analysis)</code>","text":"<p>Calculate risk-reward ratio for each analysis point</p> <p>Parameters</p> Name Type Description <code>analysis</code> <code>Array&lt;Hash&gt;</code> FPL analysis results <p>Returns</p> <p>Type: <code>Array&lt;Float&gt;</code></p> <p>Risk-reward ratios (magnitude / risk)</p> Source Location <p><code>lib/sqa/fpop.rb:182</code></p>"},{"location":"api-reference/sqa_fpop/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_geneticprogram/","title":"\ud83d\udce6 SQA::GeneticProgram","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/gp.rb:35</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_geneticprogram/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_geneticprogram/#stock","title":"<code>#stock()</code>","text":"<p>Returns the value of attribute stock.</p> Source Location <p><code>lib/sqa/gp.rb:54</code></p>"},{"location":"api-reference/sqa_geneticprogram/#population","title":"<code>#population()</code>","text":"<p>Returns the value of attribute population.</p> Source Location <p><code>lib/sqa/gp.rb:54</code></p>"},{"location":"api-reference/sqa_geneticprogram/#best_individual","title":"<code>#best_individual()</code>","text":"<p>Returns the value of attribute best_individual.</p> Source Location <p><code>lib/sqa/gp.rb:54</code></p>"},{"location":"api-reference/sqa_geneticprogram/#generation","title":"<code>#generation()</code>","text":"<p>Returns the value of attribute generation.</p> Source Location <p><code>lib/sqa/gp.rb:54</code></p>"},{"location":"api-reference/sqa_geneticprogram/#history","title":"<code>#history()</code>","text":"<p>Returns the value of attribute history.</p> Source Location <p><code>lib/sqa/gp.rb:54</code></p>"},{"location":"api-reference/sqa_geneticprogram/#population_size","title":"<code>#population_size()</code>","text":"<p>Returns the value of attribute population_size.</p> Source Location <p><code>lib/sqa/gp.rb:55</code></p>"},{"location":"api-reference/sqa_geneticprogram/#population_sizevalue","title":"<code>#population_size=(value)</code>","text":"<p>Sets the attribute population_size</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute population_size to. Source Location <p><code>lib/sqa/gp.rb:55</code></p>"},{"location":"api-reference/sqa_geneticprogram/#generations","title":"<code>#generations()</code>","text":"<p>Returns the value of attribute generations.</p> Source Location <p><code>lib/sqa/gp.rb:55</code></p>"},{"location":"api-reference/sqa_geneticprogram/#generationsvalue","title":"<code>#generations=(value)</code>","text":"<p>Sets the attribute generations</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute generations to. Source Location <p><code>lib/sqa/gp.rb:55</code></p>"},{"location":"api-reference/sqa_geneticprogram/#mutation_rate","title":"<code>#mutation_rate()</code>","text":"<p>Returns the value of attribute mutation_rate.</p> Source Location <p><code>lib/sqa/gp.rb:55</code></p>"},{"location":"api-reference/sqa_geneticprogram/#mutation_ratevalue","title":"<code>#mutation_rate=(value)</code>","text":"<p>Sets the attribute mutation_rate</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute mutation_rate to. Source Location <p><code>lib/sqa/gp.rb:55</code></p>"},{"location":"api-reference/sqa_geneticprogram/#crossover_rate","title":"<code>#crossover_rate()</code>","text":"<p>Returns the value of attribute crossover_rate.</p> Source Location <p><code>lib/sqa/gp.rb:55</code></p>"},{"location":"api-reference/sqa_geneticprogram/#crossover_ratevalue","title":"<code>#crossover_rate=(value)</code>","text":"<p>Sets the attribute crossover_rate</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute crossover_rate to. Source Location <p><code>lib/sqa/gp.rb:55</code></p>"},{"location":"api-reference/sqa_geneticprogram/#elitism_count","title":"<code>#elitism_count()</code>","text":"<p>Returns the value of attribute elitism_count.</p> Source Location <p><code>lib/sqa/gp.rb:55</code></p>"},{"location":"api-reference/sqa_geneticprogram/#elitism_countvalue","title":"<code>#elitism_count=(value)</code>","text":"<p>Sets the attribute elitism_count</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute elitism_count to. Source Location <p><code>lib/sqa/gp.rb:55</code></p>"},{"location":"api-reference/sqa_geneticprogram/#initializestock-population_size-50-generations-100-mutation_rate-015-crossover_rate-07-elitism_count-2","title":"<code>#initialize(stock:, population_size: = 50, generations: = 100, mutation_rate: = 0.15, crossover_rate: = 0.7, elitism_count: = 2)</code>","text":"<p>Returns</p> <p>Type: <code>GeneticProgram</code></p> <p>a new instance of GeneticProgram</p> Source Location <p><code>lib/sqa/gp.rb:57</code></p>"},{"location":"api-reference/sqa_geneticprogram/#define_genesconstraints","title":"<code>#define_genes(**constraints)</code>","text":"<p>Define the parameter space for evolution</p> <p>Example:   gp.define_genes(     indicator: [:rsi, :macd, :stoch],     period: (5..30).to_a,     buy_threshold: (20..40).to_a,     sell_threshold: (60..80).to_a   )</p> Source Location <p><code>lib/sqa/gp.rb:82</code></p>"},{"location":"api-reference/sqa_geneticprogram/#fitnessblock","title":"<code>#fitness(&amp;block)</code>","text":"<p>Define how to evaluate fitness for an individual</p> <p>The block receives an individual's genes hash and should return a numeric fitness value (higher is better)</p> <p>Example:   gp.fitness do |genes|     backtest = SQA::Backtest.new(       stock: stock,       strategy: create_strategy_from_genes(genes),       initial_capital: 10_000     )     results = backtest.run     results.total_return # Higher return = higher fitness   end</p> Source Location <p><code>lib/sqa/gp.rb:102</code></p>"},{"location":"api-reference/sqa_geneticprogram/#evolve","title":"<code>#evolve()</code>","text":"<p>Run the genetic algorithm evolution</p> Source Location <p><code>lib/sqa/gp.rb:108</code></p>"},{"location":"api-reference/sqa_geneticprogram/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_geneticprogram/#stock-read-only","title":"\ud83d\udc41\ufe0f <code>stock</code> read-only","text":"<p>Returns the value of attribute stock.</p>"},{"location":"api-reference/sqa_geneticprogram/#population-read-only","title":"\ud83d\udc41\ufe0f <code>population</code> read-only","text":"<p>Returns the value of attribute population.</p>"},{"location":"api-reference/sqa_geneticprogram/#best_individual-read-only","title":"\ud83d\udc41\ufe0f <code>best_individual</code> read-only","text":"<p>Returns the value of attribute best_individual.</p>"},{"location":"api-reference/sqa_geneticprogram/#generation-read-only","title":"\ud83d\udc41\ufe0f <code>generation</code> read-only","text":"<p>Returns the value of attribute generation.</p>"},{"location":"api-reference/sqa_geneticprogram/#history-read-only","title":"\ud83d\udc41\ufe0f <code>history</code> read-only","text":"<p>Returns the value of attribute history.</p>"},{"location":"api-reference/sqa_geneticprogram/#population_size-readwrite","title":"\ud83d\udd04 <code>population_size</code> read/write","text":"<p>Returns the value of attribute population_size.</p>"},{"location":"api-reference/sqa_geneticprogram/#generations-readwrite","title":"\ud83d\udd04 <code>generations</code> read/write","text":"<p>Returns the value of attribute generations.</p>"},{"location":"api-reference/sqa_geneticprogram/#mutation_rate-readwrite","title":"\ud83d\udd04 <code>mutation_rate</code> read/write","text":"<p>Returns the value of attribute mutation_rate.</p>"},{"location":"api-reference/sqa_geneticprogram/#crossover_rate-readwrite","title":"\ud83d\udd04 <code>crossover_rate</code> read/write","text":"<p>Returns the value of attribute crossover_rate.</p>"},{"location":"api-reference/sqa_geneticprogram/#elitism_count-readwrite","title":"\ud83d\udd04 <code>elitism_count</code> read/write","text":"<p>Returns the value of attribute elitism_count.</p>"},{"location":"api-reference/sqa_geneticprogram_individual/","title":"\ud83d\udce6 SQA::GeneticProgram::Individual","text":"<p>Description</p> <p>Represents an individual trading strategy with specific parameters</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/gp.rb:37</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_geneticprogram_individual/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_geneticprogram_individual/#genes","title":"<code>#genes()</code>","text":"<p>Returns the value of attribute genes.</p> Source Location <p><code>lib/sqa/gp.rb:38</code></p>"},{"location":"api-reference/sqa_geneticprogram_individual/#genesvalue","title":"<code>#genes=(value)</code>","text":"<p>Sets the attribute genes</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute genes to. Source Location <p><code>lib/sqa/gp.rb:38</code></p>"},{"location":"api-reference/sqa_geneticprogram_individual/#fitness","title":"<code>#fitness()</code>","text":"<p>Returns the value of attribute fitness.</p> Source Location <p><code>lib/sqa/gp.rb:38</code></p>"},{"location":"api-reference/sqa_geneticprogram_individual/#fitnessvalue","title":"<code>#fitness=(value)</code>","text":"<p>Sets the attribute fitness</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute fitness to. Source Location <p><code>lib/sqa/gp.rb:38</code></p>"},{"location":"api-reference/sqa_geneticprogram_individual/#initializegenes-fitness-nil","title":"<code>#initialize(genes: = {}, fitness: = nil)</code>","text":"<p>Returns</p> <p>Type: <code>Individual</code></p> <p>a new instance of Individual</p> Source Location <p><code>lib/sqa/gp.rb:40</code></p>"},{"location":"api-reference/sqa_geneticprogram_individual/#clone","title":"<code>#clone()</code>","text":"Source Location <p><code>lib/sqa/gp.rb:45</code></p>"},{"location":"api-reference/sqa_geneticprogram_individual/#to_s","title":"<code>#to_s()</code>","text":"Source Location <p><code>lib/sqa/gp.rb:49</code></p>"},{"location":"api-reference/sqa_geneticprogram_individual/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_geneticprogram_individual/#genes-readwrite","title":"\ud83d\udd04 <code>genes</code> read/write","text":"<p>Returns the value of attribute genes.</p>"},{"location":"api-reference/sqa_geneticprogram_individual/#fitness-readwrite","title":"\ud83d\udd04 <code>fitness</code> read/write","text":"<p>Returns the value of attribute fitness.</p>"},{"location":"api-reference/sqa_marketregime/","title":"\ud83d\udd27 SQA::MarketRegime","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/market_regime.rb:17</code></p>"},{"location":"api-reference/sqa_marketregime/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_marketregime/#detectstock-lookback-nil-window-nil","title":"<code>.detect(stock, lookback: = nil, window: = nil)</code>","text":"<p>Detect current market regime for a stock</p> <p>Parameters</p> Name Type Description <code>stock</code> <code>SQA::Stock</code> Stock to analyze <code>lookback</code> <code>Integer</code> Days to look back for regime detection <code>window</code> <code>Integer</code> Alias for lookback (for backward compatibility) <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Regime metadata with both symbolic and numeric values</p> Source Location <p><code>lib/sqa/market_regime.rb:26</code></p>"},{"location":"api-reference/sqa_marketregime/#detect_historystock-window-60","title":"<code>.detect_history(stock, window: = 60)</code>","text":"<p>Detect market regimes across entire history</p> <p>Splits historical data into regime periods</p> <p>Parameters</p> Name Type Description <code>stock</code> <code>SQA::Stock</code> Stock to analyze <code>window</code> <code>Integer</code> Rolling window for regime detection <p>Returns</p> <p>Type: <code>Array&lt;Hash&gt;</code></p> <p>Array of regime periods</p> Source Location <p><code>lib/sqa/market_regime.rb:61</code></p>"},{"location":"api-reference/sqa_marketregime/#detect_trend_with_scoreprices","title":"<code>.detect_trend_with_score(prices)</code>","text":"<p>Classify regime type based on trend with numeric score</p> <p>Parameters</p> Name Type Description <code>prices</code> <code>Array&lt;Float&gt;</code> Price array <p>Returns</p> <p>Type: <code>Hash</code></p> <p>{ type: Symbol, score: Float }</p> Source Location <p><code>lib/sqa/market_regime.rb:109</code></p>"},{"location":"api-reference/sqa_marketregime/#detect_trendprices","title":"<code>.detect_trend(prices)</code>","text":"<p>Classify regime type based on trend (backward compatibility)</p> <p>Parameters</p> Name Type Description <code>prices</code> <code>Array&lt;Float&gt;</code> Price array <p>Returns</p> <p>Type: <code>Symbol</code></p> <p>:bull, :bear, or :sideways</p> Source Location <p><code>lib/sqa/market_regime.rb:136</code></p>"},{"location":"api-reference/sqa_marketregime/#detect_volatility_with_scoreprices","title":"<code>.detect_volatility_with_score(prices)</code>","text":"<p>Detect volatility regime with numeric score</p> <p>Parameters</p> Name Type Description <code>prices</code> <code>Array&lt;Float&gt;</code> Price array <p>Returns</p> <p>Type: <code>Hash</code></p> <p>{ type: Symbol, score: Float }</p> Source Location <p><code>lib/sqa/market_regime.rb:145</code></p>"},{"location":"api-reference/sqa_marketregime/#detect_volatilityprices","title":"<code>.detect_volatility(prices)</code>","text":"<p>Detect volatility regime (backward compatibility)</p> <p>Parameters</p> Name Type Description <code>prices</code> <code>Array&lt;Float&gt;</code> Price array <p>Returns</p> <p>Type: <code>Symbol</code></p> <p>:low, :medium, or :high</p> Source Location <p><code>lib/sqa/market_regime.rb:170</code></p>"},{"location":"api-reference/sqa_marketregime/#detect_strength_with_scoreprices","title":"<code>.detect_strength_with_score(prices)</code>","text":"<p>Detect trend strength with numeric score</p> <p>Parameters</p> Name Type Description <code>prices</code> <code>Array&lt;Float&gt;</code> Price array <p>Returns</p> <p>Type: <code>Hash</code></p> <p>{ type: Symbol, score: Float }</p> Source Location <p><code>lib/sqa/market_regime.rb:179</code></p>"},{"location":"api-reference/sqa_marketregime/#detect_strengthprices","title":"<code>.detect_strength(prices)</code>","text":"<p>Detect trend strength (backward compatibility)</p> <p>Parameters</p> Name Type Description <code>prices</code> <code>Array&lt;Float&gt;</code> Price array <p>Returns</p> <p>Type: <code>Symbol</code></p> <p>:weak, :moderate, or :strong</p> Source Location <p><code>lib/sqa/market_regime.rb:211</code></p>"},{"location":"api-reference/sqa_marketregime/#split_by_regimestock","title":"<code>.split_by_regime(stock)</code>","text":"<p>Split data by regime</p> <p>Parameters</p> Name Type Description <code>stock</code> <code>SQA::Stock</code> Stock to analyze <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Data grouped by regime type</p> Source Location <p><code>lib/sqa/market_regime.rb:220</code></p>"},{"location":"api-reference/sqa_marketregime/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_multitimeframe/","title":"\ud83d\udce6 SQA::MultiTimeframe","text":"<p>Description</p> <p>MultiTimeframe - Analyze patterns across multiple timeframes</p> <p>Provides methods for: - Timeframe conversion (daily \u2192 weekly \u2192 monthly) - Multi-timeframe signal confirmation - Trend alignment across timeframes - Support/resistance across timeframes</p> <p>Common timeframe strategy: - Use higher timeframe for trend direction - Use lower timeframe for entry timing</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/multi_timeframe.rb:23</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_multitimeframe/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_multitimeframe/#stock","title":"<code>#stock()</code>","text":"<p>Returns the value of attribute stock.</p> Source Location <p><code>lib/sqa/multi_timeframe.rb:24</code></p>"},{"location":"api-reference/sqa_multitimeframe/#timeframes","title":"<code>#timeframes()</code>","text":"<p>Returns the value of attribute timeframes.</p> Source Location <p><code>lib/sqa/multi_timeframe.rb:24</code></p>"},{"location":"api-reference/sqa_multitimeframe/#initializestock","title":"<code>#initialize(stock:)</code>","text":"<p>Initialize multi-timeframe analyzer</p> <p>Parameters</p> Name Type Description <code>stock</code> <code>SQA::Stock</code> Stock object with daily data <p>Returns</p> <p>Type: <code>MultiTimeframe</code></p> <p>a new instance of MultiTimeframe</p> Source Location <p><code>lib/sqa/multi_timeframe.rb:31</code></p>"},{"location":"api-reference/sqa_multitimeframe/#convert_timeframes","title":"<code>#convert_timeframes()</code>","text":"<p>Convert daily data to weekly and monthly</p> Source Location <p><code>lib/sqa/multi_timeframe.rb:42</code></p>"},{"location":"api-reference/sqa_multitimeframe/#trend_alignmentlookback-20","title":"<code>#trend_alignment(lookback: = 20)</code>","text":"<p>Check trend alignment across timeframes</p> <p>Parameters</p> Name Type Description <code>lookback</code> <code>Integer</code> Periods to look back for trend <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Trend direction for each timeframe</p> Source Location <p><code>lib/sqa/multi_timeframe.rb:56</code></p>"},{"location":"api-reference/sqa_multitimeframe/#signalstrategy_class-higher_timeframe-weekly-lower_timeframe-daily","title":"<code>#signal(strategy_class:, higher_timeframe: = :weekly, lower_timeframe: = :daily)</code>","text":"<p>Generate multi-timeframe signal</p> <p>Uses higher timeframe for trend, lower for timing.</p> <p>Parameters</p> Name Type Description <code>strategy_class</code> <code>Class</code> Strategy to apply <code>higher_timeframe</code> <code>Symbol</code> Timeframe for trend (:weekly, :monthly) <code>lower_timeframe</code> <code>Symbol</code> Timeframe for entry (:daily, :weekly) <p>Returns</p> <p>Type: <code>Symbol</code></p> <p>:buy, :sell, or :hold</p> Source Location <p><code>lib/sqa/multi_timeframe.rb:102</code></p>"},{"location":"api-reference/sqa_multitimeframe/#support_resistancetolerance-002","title":"<code>#support_resistance(tolerance: = 0.02)</code>","text":"<p>Find support/resistance levels across timeframes</p> <p>Levels that appear on multiple timeframes are stronger.</p> <p>Parameters</p> Name Type Description <code>tolerance</code> <code>Float</code> Price tolerance for matching levels (default: 0.02 for 2%) <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Support and resistance levels</p> Source Location <p><code>lib/sqa/multi_timeframe.rb:138</code></p>"},{"location":"api-reference/sqa_multitimeframe/#indicatorsindicator-options","title":"<code>#indicators(indicator:, **options)</code>","text":"<p>Calculate indicators for each timeframe</p> <p>Parameters</p> Name Type Description <code>indicator</code> <code>Symbol</code> Indicator to calculate <code>options</code> <code>Hash</code> Indicator options <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Indicator values for each timeframe</p> Source Location <p><code>lib/sqa/multi_timeframe.rb:167</code></p>"},{"location":"api-reference/sqa_multitimeframe/#detect_divergence","title":"<code>#detect_divergence()</code>","text":"<p>Detect divergence across timeframes</p> <p>Divergence occurs when price and indicator move in opposite directions.</p> <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Divergence information</p> Source Location <p><code>lib/sqa/multi_timeframe.rb:197</code></p>"},{"location":"api-reference/sqa_multitimeframe/#confirmationstrategy_class","title":"<code>#confirmation(strategy_class:)</code>","text":"<p>Check if timeframes confirm each other</p> <p>Parameters</p> Name Type Description <code>strategy_class</code> <code>Class</code> Strategy to use <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Confirmation status</p> Source Location <p><code>lib/sqa/multi_timeframe.rb:228</code></p>"},{"location":"api-reference/sqa_multitimeframe/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_multitimeframe/#stock-read-only","title":"\ud83d\udc41\ufe0f <code>stock</code> read-only","text":"<p>Returns the value of attribute stock.</p>"},{"location":"api-reference/sqa_multitimeframe/#timeframes-read-only","title":"\ud83d\udc41\ufe0f <code>timeframes</code> read-only","text":"<p>Returns the value of attribute timeframes.</p>"},{"location":"api-reference/sqa_patternmatcher/","title":"\ud83d\udce6 SQA::PatternMatcher","text":"<p>Description</p> <p>PatternMatcher - Find similar historical patterns</p> <p>Provides methods for: - Pattern similarity search (nearest-neighbor) - Shape-based pattern matching - Predict future moves based on similar past patterns - Pattern clustering</p> <p>Uses techniques: - Euclidean distance - Dynamic Time Warping (DTW) - Pearson correlation</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/pattern_matcher.rb:24</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_patternmatcher/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_patternmatcher/#stock","title":"<code>#stock()</code>","text":"<p>Returns the value of attribute stock.</p> Source Location <p><code>lib/sqa/pattern_matcher.rb:25</code></p>"},{"location":"api-reference/sqa_patternmatcher/#prices","title":"<code>#prices()</code>","text":"<p>Returns the value of attribute prices.</p> Source Location <p><code>lib/sqa/pattern_matcher.rb:25</code></p>"},{"location":"api-reference/sqa_patternmatcher/#initializestock","title":"<code>#initialize(stock:)</code>","text":"<p>Initialize pattern matcher</p> <p>Parameters</p> Name Type Description <code>stock</code> <code>SQA::Stock</code> Stock object <p>Returns</p> <p>Type: <code>PatternMatcher</code></p> <p>a new instance of PatternMatcher</p> Source Location <p><code>lib/sqa/pattern_matcher.rb:32</code></p>"},{"location":"api-reference/sqa_patternmatcher/#find_similarlookback-10-num_matches-5-method-euclidean-normalize-true","title":"<code>#find_similar(lookback: = 10, num_matches: = 5, method: = :euclidean, normalize: = true)</code>","text":"<p>Find similar historical patterns to current pattern</p> <p>Parameters</p> Name Type Description <code>lookback</code> <code>Integer</code> Pattern length (days) <code>num_matches</code> <code>Integer</code> Number of similar patterns to find <code>method</code> <code>Symbol</code> Distance method (:euclidean, :dtw, :correlation) <code>normalize</code> <code>Boolean</code> Normalize patterns before comparison <p>Returns</p> <p>Type: <code>Array&lt;Hash&gt;</code></p> <p>Similar patterns with metadata</p> Source Location <p><code>lib/sqa/pattern_matcher.rb:46</code></p>"},{"location":"api-reference/sqa_patternmatcher/#forecastlookback-10-forecast_periods-5-num_matches-10","title":"<code>#forecast(lookback: = 10, forecast_periods: = 5, num_matches: = 10)</code>","text":"<p>Predict future price movement based on similar patterns</p> <p>Parameters</p> Name Type Description <code>lookback</code> <code>Integer</code> Pattern length <code>forecast_periods</code> <code>Integer</code> Periods to forecast <code>num_matches</code> <code>Integer</code> Number of similar patterns to use <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Forecast with confidence intervals</p> Source Location <p><code>lib/sqa/pattern_matcher.rb:107</code></p>"},{"location":"api-reference/sqa_patternmatcher/#detect_chart_patternpattern_type","title":"<code>#detect_chart_pattern(pattern_type)</code>","text":"<p>Detect chart patterns (head &amp; shoulders, double top, etc.)</p> <p>Parameters</p> Name Type Description <code>pattern_type</code> <code>Symbol</code> Pattern to detect <p>Returns</p> <p>Type: <code>Array&lt;Hash&gt;</code></p> <p>Detected patterns</p> Source Location <p><code>lib/sqa/pattern_matcher.rb:141</code></p>"},{"location":"api-reference/sqa_patternmatcher/#cluster_patternspattern_length-10-num_clusters-5","title":"<code>#cluster_patterns(pattern_length: = 10, num_clusters: = 5)</code>","text":"<p>Cluster patterns by similarity</p> <p>Parameters</p> Name Type Description <code>pattern_length</code> <code>Integer</code> Length of patterns <code>num_clusters</code> <code>Integer</code> Number of clusters <p>Returns</p> <p>Type: <code>Array&lt;Array&lt;Hash&gt;&gt;</code></p> <p>Clusters of similar patterns</p> Source Location <p><code>lib/sqa/pattern_matcher.rb:163</code></p>"},{"location":"api-reference/sqa_patternmatcher/#pattern_qualitypattern","title":"<code>#pattern_quality(pattern)</code>","text":"<p>Calculate pattern strength/quality</p> <p>Parameters</p> Name Type Description <code>pattern</code> <code>Array&lt;Float&gt;</code> Price pattern <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Pattern quality metrics</p> Source Location <p><code>lib/sqa/pattern_matcher.rb:214</code></p>"},{"location":"api-reference/sqa_patternmatcher/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_patternmatcher/#stock-read-only","title":"\ud83d\udc41\ufe0f <code>stock</code> read-only","text":"<p>Returns the value of attribute stock.</p>"},{"location":"api-reference/sqa_patternmatcher/#prices-read-only","title":"\ud83d\udc41\ufe0f <code>prices</code> read-only","text":"<p>Returns the value of attribute prices.</p>"},{"location":"api-reference/sqa_pluginmanager/","title":"\ud83d\udce6 SQA::PluginManager","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/plugin_manager.rb:7</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_pluginmanager/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_pluginmanager/#registered_properties","title":"<code>.registered_properties()</code>","text":"<p>Returns the value of attribute registered_properties.</p> Source Location <p><code>lib/sqa/plugin_manager.rb:11</code></p>"},{"location":"api-reference/sqa_pluginmanager/#registered_propertiesvalue","title":"<code>.registered_properties=(value)</code>","text":"<p>Sets the attribute registered_properties</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute registered_properties to. Source Location <p><code>lib/sqa/plugin_manager.rb:11</code></p>"},{"location":"api-reference/sqa_pluginmanager/#new_propertyname-options","title":"<code>.new_property(name, options = {})</code>","text":"<p>name (Symbol)</p> Source Location <p><code>lib/sqa/plugin_manager.rb:15</code></p>"},{"location":"api-reference/sqa_pluginmanager/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_pluginmanager/#registered_properties-readwrite","title":"\ud83d\udd04 <code>registered_properties</code> read/write","text":"<p>Returns the value of attribute registered_properties.</p>"},{"location":"api-reference/sqa_portfolio/","title":"\ud83d\udce6 SQA::Portfolio","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/portfolio.rb:7</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_portfolio/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_portfolio/#load_from_csvfilename","title":"<code>.load_from_csv(filename)</code>","text":"<p>Load portfolio from CSV file</p> <p>Parameters</p> Name Type Description <code>filename</code> <code>String</code> Path to CSV file Source Location <p><code>lib/sqa/portfolio.rb:236</code></p>"},{"location":"api-reference/sqa_portfolio/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_portfolio/#positions","title":"<code>#positions()</code>","text":"<p>Returns the value of attribute positions.</p> Source Location <p><code>lib/sqa/portfolio.rb:8</code></p>"},{"location":"api-reference/sqa_portfolio/#positionsvalue","title":"<code>#positions=(value)</code>","text":"<p>Sets the attribute positions</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute positions to. Source Location <p><code>lib/sqa/portfolio.rb:8</code></p>"},{"location":"api-reference/sqa_portfolio/#trades","title":"<code>#trades()</code>","text":"<p>Returns the value of attribute trades.</p> Source Location <p><code>lib/sqa/portfolio.rb:8</code></p>"},{"location":"api-reference/sqa_portfolio/#tradesvalue","title":"<code>#trades=(value)</code>","text":"<p>Sets the attribute trades</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute trades to. Source Location <p><code>lib/sqa/portfolio.rb:8</code></p>"},{"location":"api-reference/sqa_portfolio/#cash","title":"<code>#cash()</code>","text":"<p>Returns the value of attribute cash.</p> Source Location <p><code>lib/sqa/portfolio.rb:8</code></p>"},{"location":"api-reference/sqa_portfolio/#cashvalue","title":"<code>#cash=(value)</code>","text":"<p>Sets the attribute cash</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute cash to. Source Location <p><code>lib/sqa/portfolio.rb:8</code></p>"},{"location":"api-reference/sqa_portfolio/#initial_cash","title":"<code>#initial_cash()</code>","text":"<p>Returns the value of attribute initial_cash.</p> Source Location <p><code>lib/sqa/portfolio.rb:8</code></p>"},{"location":"api-reference/sqa_portfolio/#initial_cashvalue","title":"<code>#initial_cash=(value)</code>","text":"<p>Sets the attribute initial_cash</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute initial_cash to. Source Location <p><code>lib/sqa/portfolio.rb:8</code></p>"},{"location":"api-reference/sqa_portfolio/#commission","title":"<code>#commission()</code>","text":"<p>Returns the value of attribute commission.</p> Source Location <p><code>lib/sqa/portfolio.rb:8</code></p>"},{"location":"api-reference/sqa_portfolio/#commissionvalue","title":"<code>#commission=(value)</code>","text":"<p>Sets the attribute commission</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute commission to. Source Location <p><code>lib/sqa/portfolio.rb:8</code></p>"},{"location":"api-reference/sqa_portfolio/#initializeinitial_cash-10_0000-commission-00","title":"<code>#initialize(initial_cash: = 10_000.0, commission: = 0.0)</code>","text":"<p>Returns</p> <p>Type: <code>Portfolio</code></p> <p>a new instance of Portfolio</p> Source Location <p><code>lib/sqa/portfolio.rb:41</code></p>"},{"location":"api-reference/sqa_portfolio/#buyticker-shares-price-date-datetoday","title":"<code>#buy(ticker, shares:, price:, date: = Date.today)</code>","text":"<p>Buy shares of a stock</p> <p>Parameters</p> Name Type Description <code>ticker</code> <code>String</code> Stock ticker symbol <code>shares</code> <code>Integer</code> Number of shares to buy <code>price</code> <code>Float</code> Price per share <code>date</code> <code>Date</code> Date of trade <p>Returns</p> <p>Type: <code>Trade</code></p> <p>The executed trade</p> Source Location <p><code>lib/sqa/portfolio.rb:55</code></p>"},{"location":"api-reference/sqa_portfolio/#sellticker-shares-price-date-datetoday","title":"<code>#sell(ticker, shares:, price:, date: = Date.today)</code>","text":"<p>Sell shares of a stock</p> <p>Parameters</p> Name Type Description <code>ticker</code> <code>String</code> Stock ticker symbol <code>shares</code> <code>Integer</code> Number of shares to sell <code>price</code> <code>Float</code> Price per share <code>date</code> <code>Date</code> Date of trade <p>Returns</p> <p>Type: <code>Trade</code></p> <p>The executed trade</p> Source Location <p><code>lib/sqa/portfolio.rb:98</code></p>"},{"location":"api-reference/sqa_portfolio/#positionticker","title":"<code>#position(ticker)</code>","text":"<p>Get current position for a ticker</p> <p>Parameters</p> Name Type Description <code>ticker</code> <code>String</code> Stock ticker symbol <p>Returns</p> <p>Type: <code>Position, nil</code></p> <p>The position or nil if not found</p> Source Location <p><code>lib/sqa/portfolio.rb:135</code></p>"},{"location":"api-reference/sqa_portfolio/#all_positions","title":"<code>#all_positions()</code>","text":"<p>Get all current positions</p> <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Hash of ticker =&gt; Position</p> Source Location <p><code>lib/sqa/portfolio.rb:141</code></p>"},{"location":"api-reference/sqa_portfolio/#valuecurrent_prices","title":"<code>#value(current_prices = {})</code>","text":"<p>Calculate total portfolio value</p> <p>Parameters</p> Name Type Description <code>current_prices</code> <code>Hash</code> Hash of ticker =&gt; current_price <p>Returns</p> <p>Type: <code>Float</code></p> <p>Total portfolio value (cash + positions)</p> Source Location <p><code>lib/sqa/portfolio.rb:148</code></p>"},{"location":"api-reference/sqa_portfolio/#profit_losscurrent_prices","title":"<code>#profit_loss(current_prices = {})</code>","text":"<p>Calculate total profit/loss across all positions</p> <p>Parameters</p> Name Type Description <code>current_prices</code> <code>Hash</code> Hash of ticker =&gt; current_price <p>Returns</p> <p>Type: <code>Float</code></p> <p>Total P&amp;L</p> Source Location <p><code>lib/sqa/portfolio.rb:160</code></p>"},{"location":"api-reference/sqa_portfolio/#profit_loss_percentcurrent_prices","title":"<code>#profit_loss_percent(current_prices = {})</code>","text":"<p>Calculate profit/loss percentage</p> <p>Parameters</p> Name Type Description <code>current_prices</code> <code>Hash</code> Hash of ticker =&gt; current_price <p>Returns</p> <p>Type: <code>Float</code></p> <p>P&amp;L percentage</p> Source Location <p><code>lib/sqa/portfolio.rb:167</code></p>"},{"location":"api-reference/sqa_portfolio/#total_returncurrent_prices","title":"<code>#total_return(current_prices = {})</code>","text":"<p>Calculate total return (including dividends if tracked)</p> <p>Parameters</p> Name Type Description <code>current_prices</code> <code>Hash</code> Hash of ticker =&gt; current_price <p>Returns</p> <p>Type: <code>Float</code></p> <p>Total return as decimal (e.g., 0.15 for 15%)</p> Source Location <p><code>lib/sqa/portfolio.rb:175</code></p>"},{"location":"api-reference/sqa_portfolio/#trade_history","title":"<code>#trade_history()</code>","text":"<p>Get trade history</p> <p>Returns</p> <p>Type: <code>Array&lt;Trade&gt;</code></p> <p>Array of all trades</p> Source Location <p><code>lib/sqa/portfolio.rb:182</code></p>"},{"location":"api-reference/sqa_portfolio/#summarycurrent_prices","title":"<code>#summary(current_prices = {})</code>","text":"<p>Get summary statistics</p> <p>Parameters</p> Name Type Description <code>current_prices</code> <code>Hash</code> Hash of ticker =&gt; current_price <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Summary statistics</p> Source Location <p><code>lib/sqa/portfolio.rb:189</code></p>"},{"location":"api-reference/sqa_portfolio/#save_to_csvfilename","title":"<code>#save_to_csv(filename)</code>","text":"<p>Save portfolio to CSV file</p> <p>Parameters</p> Name Type Description <code>filename</code> <code>String</code> Path to CSV file Source Location <p><code>lib/sqa/portfolio.rb:206</code></p>"},{"location":"api-reference/sqa_portfolio/#save_trades_to_csvfilename","title":"<code>#save_trades_to_csv(filename)</code>","text":"<p>Save trade history to CSV file</p> <p>Parameters</p> Name Type Description <code>filename</code> <code>String</code> Path to CSV file Source Location <p><code>lib/sqa/portfolio.rb:217</code></p>"},{"location":"api-reference/sqa_portfolio/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_portfolio/#positions-readwrite","title":"\ud83d\udd04 <code>positions</code> read/write","text":"<p>Returns the value of attribute positions.</p>"},{"location":"api-reference/sqa_portfolio/#trades-readwrite","title":"\ud83d\udd04 <code>trades</code> read/write","text":"<p>Returns the value of attribute trades.</p>"},{"location":"api-reference/sqa_portfolio/#cash-readwrite","title":"\ud83d\udd04 <code>cash</code> read/write","text":"<p>Returns the value of attribute cash.</p>"},{"location":"api-reference/sqa_portfolio/#initial_cash-readwrite","title":"\ud83d\udd04 <code>initial_cash</code> read/write","text":"<p>Returns the value of attribute initial_cash.</p>"},{"location":"api-reference/sqa_portfolio/#commission-readwrite","title":"\ud83d\udd04 <code>commission</code> read/write","text":"<p>Returns the value of attribute commission.</p>"},{"location":"api-reference/sqa_portfolio_position/","title":"\ud83d\udce6 SQA::Portfolio::Position","text":"<p>Description</p> <p>Represents a single position in the portfolio</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/portfolio.rb:11</code></p> <p>Inherits from: <code>Struct</code></p>"},{"location":"api-reference/sqa_portfolio_position/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_portfolio_position/#tickervalue","title":"<code>#ticker=(value)</code>","text":"<p>Sets the attribute ticker</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Object</code> the value to set the attribute ticker to. <p>Returns</p> <p>Type: <code>Object</code></p> <p>the newly set value</p> Source Location <p><code>lib/sqa/portfolio.rb:11</code></p>"},{"location":"api-reference/sqa_portfolio_position/#ticker","title":"<code>#ticker()</code>","text":"<p>Returns the value of attribute ticker</p> <p>Returns</p> <p>Type: <code>Object</code></p> <p>the current value of ticker</p> Source Location <p><code>lib/sqa/portfolio.rb:11</code></p>"},{"location":"api-reference/sqa_portfolio_position/#sharesvalue","title":"<code>#shares=(value)</code>","text":"<p>Sets the attribute shares</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Object</code> the value to set the attribute shares to. <p>Returns</p> <p>Type: <code>Object</code></p> <p>the newly set value</p> Source Location <p><code>lib/sqa/portfolio.rb:11</code></p>"},{"location":"api-reference/sqa_portfolio_position/#shares","title":"<code>#shares()</code>","text":"<p>Returns the value of attribute shares</p> <p>Returns</p> <p>Type: <code>Object</code></p> <p>the current value of shares</p> Source Location <p><code>lib/sqa/portfolio.rb:11</code></p>"},{"location":"api-reference/sqa_portfolio_position/#avg_costvalue","title":"<code>#avg_cost=(value)</code>","text":"<p>Sets the attribute avg_cost</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Object</code> the value to set the attribute avg_cost to. <p>Returns</p> <p>Type: <code>Object</code></p> <p>the newly set value</p> Source Location <p><code>lib/sqa/portfolio.rb:11</code></p>"},{"location":"api-reference/sqa_portfolio_position/#avg_cost","title":"<code>#avg_cost()</code>","text":"<p>Returns the value of attribute avg_cost</p> <p>Returns</p> <p>Type: <code>Object</code></p> <p>the current value of avg_cost</p> Source Location <p><code>lib/sqa/portfolio.rb:11</code></p>"},{"location":"api-reference/sqa_portfolio_position/#total_costvalue","title":"<code>#total_cost=(value)</code>","text":"<p>Sets the attribute total_cost</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Object</code> the value to set the attribute total_cost to. <p>Returns</p> <p>Type: <code>Object</code></p> <p>the newly set value</p> Source Location <p><code>lib/sqa/portfolio.rb:11</code></p>"},{"location":"api-reference/sqa_portfolio_position/#total_cost","title":"<code>#total_cost()</code>","text":"<p>Returns the value of attribute total_cost</p> <p>Returns</p> <p>Type: <code>Object</code></p> <p>the current value of total_cost</p> Source Location <p><code>lib/sqa/portfolio.rb:11</code></p>"},{"location":"api-reference/sqa_portfolio_position/#valuecurrent_price","title":"<code>#value(current_price)</code>","text":"Source Location <p><code>lib/sqa/portfolio.rb:12</code></p>"},{"location":"api-reference/sqa_portfolio_position/#profit_losscurrent_price","title":"<code>#profit_loss(current_price)</code>","text":"Source Location <p><code>lib/sqa/portfolio.rb:16</code></p>"},{"location":"api-reference/sqa_portfolio_position/#profit_loss_percentcurrent_price","title":"<code>#profit_loss_percent(current_price)</code>","text":"Source Location <p><code>lib/sqa/portfolio.rb:20</code></p>"},{"location":"api-reference/sqa_portfolio_position/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_portfolio_position/#ticker-readwrite","title":"\ud83d\udd04 <code>ticker</code> read/write","text":"<p>Returns the value of attribute ticker</p>"},{"location":"api-reference/sqa_portfolio_position/#shares-readwrite","title":"\ud83d\udd04 <code>shares</code> read/write","text":"<p>Returns the value of attribute shares</p>"},{"location":"api-reference/sqa_portfolio_position/#avg_cost-readwrite","title":"\ud83d\udd04 <code>avg_cost</code> read/write","text":"<p>Returns the value of attribute avg_cost</p>"},{"location":"api-reference/sqa_portfolio_position/#total_cost-readwrite","title":"\ud83d\udd04 <code>total_cost</code> read/write","text":"<p>Returns the value of attribute total_cost</p>"},{"location":"api-reference/sqa_portfolio_trade/","title":"\ud83d\udce6 SQA::Portfolio::Trade","text":"<p>Description</p> <p>Represents a single trade</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/portfolio.rb:27</code></p> <p>Inherits from: <code>Struct</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_portfolio_trade/#tickervalue","title":"<code>#ticker=(value)</code>","text":"<p>Sets the attribute ticker</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Object</code> the value to set the attribute ticker to. <p>Returns</p> <p>Type: <code>Object</code></p> <p>the newly set value</p> Source Location <p><code>lib/sqa/portfolio.rb:27</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#ticker","title":"<code>#ticker()</code>","text":"<p>Returns the value of attribute ticker</p> <p>Returns</p> <p>Type: <code>Object</code></p> <p>the current value of ticker</p> Source Location <p><code>lib/sqa/portfolio.rb:27</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#actionvalue","title":"<code>#action=(value)</code>","text":"<p>Sets the attribute action</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Object</code> the value to set the attribute action to. <p>Returns</p> <p>Type: <code>Object</code></p> <p>the newly set value</p> Source Location <p><code>lib/sqa/portfolio.rb:27</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#action","title":"<code>#action()</code>","text":"<p>Returns the value of attribute action</p> <p>Returns</p> <p>Type: <code>Object</code></p> <p>the current value of action</p> Source Location <p><code>lib/sqa/portfolio.rb:27</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#sharesvalue","title":"<code>#shares=(value)</code>","text":"<p>Sets the attribute shares</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Object</code> the value to set the attribute shares to. <p>Returns</p> <p>Type: <code>Object</code></p> <p>the newly set value</p> Source Location <p><code>lib/sqa/portfolio.rb:27</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#shares","title":"<code>#shares()</code>","text":"<p>Returns the value of attribute shares</p> <p>Returns</p> <p>Type: <code>Object</code></p> <p>the current value of shares</p> Source Location <p><code>lib/sqa/portfolio.rb:27</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#pricevalue","title":"<code>#price=(value)</code>","text":"<p>Sets the attribute price</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Object</code> the value to set the attribute price to. <p>Returns</p> <p>Type: <code>Object</code></p> <p>the newly set value</p> Source Location <p><code>lib/sqa/portfolio.rb:27</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#price","title":"<code>#price()</code>","text":"<p>Returns the value of attribute price</p> <p>Returns</p> <p>Type: <code>Object</code></p> <p>the current value of price</p> Source Location <p><code>lib/sqa/portfolio.rb:27</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#datevalue","title":"<code>#date=(value)</code>","text":"<p>Sets the attribute date</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Object</code> the value to set the attribute date to. <p>Returns</p> <p>Type: <code>Object</code></p> <p>the newly set value</p> Source Location <p><code>lib/sqa/portfolio.rb:27</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#date","title":"<code>#date()</code>","text":"<p>Returns the value of attribute date</p> <p>Returns</p> <p>Type: <code>Object</code></p> <p>the current value of date</p> Source Location <p><code>lib/sqa/portfolio.rb:27</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#totalvalue","title":"<code>#total=(value)</code>","text":"<p>Sets the attribute total</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Object</code> the value to set the attribute total to. <p>Returns</p> <p>Type: <code>Object</code></p> <p>the newly set value</p> Source Location <p><code>lib/sqa/portfolio.rb:27</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#total","title":"<code>#total()</code>","text":"<p>Returns the value of attribute total</p> <p>Returns</p> <p>Type: <code>Object</code></p> <p>the current value of total</p> Source Location <p><code>lib/sqa/portfolio.rb:27</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#commissionvalue","title":"<code>#commission=(value)</code>","text":"<p>Sets the attribute commission</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Object</code> the value to set the attribute commission to. <p>Returns</p> <p>Type: <code>Object</code></p> <p>the newly set value</p> Source Location <p><code>lib/sqa/portfolio.rb:27</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#commission","title":"<code>#commission()</code>","text":"<p>Returns the value of attribute commission</p> <p>Returns</p> <p>Type: <code>Object</code></p> <p>the current value of commission</p> Source Location <p><code>lib/sqa/portfolio.rb:27</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#to_h","title":"<code>#to_h()</code>","text":"Source Location <p><code>lib/sqa/portfolio.rb:28</code></p>"},{"location":"api-reference/sqa_portfolio_trade/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_portfolio_trade/#ticker-readwrite","title":"\ud83d\udd04 <code>ticker</code> read/write","text":"<p>Returns the value of attribute ticker</p>"},{"location":"api-reference/sqa_portfolio_trade/#action-readwrite","title":"\ud83d\udd04 <code>action</code> read/write","text":"<p>Returns the value of attribute action</p>"},{"location":"api-reference/sqa_portfolio_trade/#shares-readwrite","title":"\ud83d\udd04 <code>shares</code> read/write","text":"<p>Returns the value of attribute shares</p>"},{"location":"api-reference/sqa_portfolio_trade/#price-readwrite","title":"\ud83d\udd04 <code>price</code> read/write","text":"<p>Returns the value of attribute price</p>"},{"location":"api-reference/sqa_portfolio_trade/#date-readwrite","title":"\ud83d\udd04 <code>date</code> read/write","text":"<p>Returns the value of attribute date</p>"},{"location":"api-reference/sqa_portfolio_trade/#total-readwrite","title":"\ud83d\udd04 <code>total</code> read/write","text":"<p>Returns the value of attribute total</p>"},{"location":"api-reference/sqa_portfolio_trade/#commission-readwrite","title":"\ud83d\udd04 <code>commission</code> read/write","text":"<p>Returns the value of attribute commission</p>"},{"location":"api-reference/sqa_portfoliooptimizer/","title":"\ud83d\udce6 SQA::PortfolioOptimizer","text":"<p>Description</p> <p>PortfolioOptimizer - Multi-objective portfolio optimization</p> <p>Provides methods for: - Mean-Variance Optimization (Markowitz) - Multi-objective optimization (return vs risk vs drawdown) - Efficient Frontier calculation - Risk Parity allocation - Minimum Variance portfolio - Maximum Sharpe portfolio</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/portfolio_optimizer.rb:25</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_portfoliooptimizer/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_portfoliooptimizer/#portfolio_returnsreturns_matrix-weights","title":"<code>.portfolio_returns(returns_matrix, weights)</code>","text":"<p>Calculate portfolio returns given weights</p> <p>Parameters</p> Name Type Description <code>returns_matrix</code> <code>Array&lt;Array&lt;Float&gt;&gt;</code> Returns for each asset (rows = assets, cols = periods) <code>weights</code> <code>Array&lt;Float&gt;</code> Portfolio weights (must sum to 1.0) <p>Returns</p> <p>Type: <code>Array&lt;Float&gt;</code></p> <p>Portfolio returns over time</p> Source Location <p><code>lib/sqa/portfolio_optimizer.rb:34</code></p>"},{"location":"api-reference/sqa_portfoliooptimizer/#portfolio_variancereturns_matrix-weights","title":"<code>.portfolio_variance(returns_matrix, weights)</code>","text":"<p>Calculate portfolio variance</p> <p>Parameters</p> Name Type Description <code>returns_matrix</code> <code>Array&lt;Array&lt;Float&gt;&gt;</code> Returns for each asset <code>weights</code> <code>Array&lt;Float&gt;</code> Portfolio weights <p>Returns</p> <p>Type: <code>Float</code></p> <p>Portfolio variance</p> Source Location <p><code>lib/sqa/portfolio_optimizer.rb:51</code></p>"},{"location":"api-reference/sqa_portfoliooptimizer/#maximum_sharpereturns_matrix-risk_free_rate-002-constraints","title":"<code>.maximum_sharpe(returns_matrix, risk_free_rate: = 0.02, constraints: = {})</code>","text":"<p>Find Maximum Sharpe Ratio portfolio</p> <p>Uses numerical optimization to find weights that maximize Sharpe ratio.</p> <p>Parameters</p> Name Type Description <code>returns_matrix</code> <code>Array&lt;Array&lt;Float&gt;&gt;</code> Returns for each asset <code>risk_free_rate</code> <code>Float</code> Risk-free rate (default: 0.02) <code>constraints</code> <code>Hash</code> Optimization constraints <p>Returns</p> <p>Type: <code>Hash</code></p> <p>{ weights: Array, sharpe: Float, return: Float, volatility: Float }</p> Source Location <p><code>lib/sqa/portfolio_optimizer.rb:75</code></p>"},{"location":"api-reference/sqa_portfoliooptimizer/#minimum_variancereturns_matrix-constraints","title":"<code>.minimum_variance(returns_matrix, constraints: = {})</code>","text":"<p>Find Minimum Variance portfolio</p> <p>Parameters</p> Name Type Description <code>returns_matrix</code> <code>Array&lt;Array&lt;Float&gt;&gt;</code> Returns for each asset <code>constraints</code> <code>Hash</code> Optimization constraints <p>Returns</p> <p>Type: <code>Hash</code></p> <p>{ weights: Array, variance: Float, volatility: Float }</p> Source Location <p><code>lib/sqa/portfolio_optimizer.rb:114</code></p>"},{"location":"api-reference/sqa_portfoliooptimizer/#risk_parityreturns_matrix","title":"<code>.risk_parity(returns_matrix)</code>","text":"<p>Calculate Risk Parity portfolio</p> <p>Allocate weights so each asset contributes equally to portfolio risk.</p> <p>Parameters</p> Name Type Description <code>returns_matrix</code> <code>Array&lt;Array&lt;Float&gt;&gt;</code> Returns for each asset <p>Returns</p> <p>Type: <code>Hash</code></p> <p>{ weights: Array, volatility: Float }</p> Source Location <p><code>lib/sqa/portfolio_optimizer.rb:146</code></p>"},{"location":"api-reference/sqa_portfoliooptimizer/#efficient_frontierreturns_matrix-num_portfolios-50","title":"<code>.efficient_frontier(returns_matrix, num_portfolios: = 50)</code>","text":"<p>Calculate Efficient Frontier</p> <p>Generate portfolios along the efficient frontier.</p> <p>Parameters</p> Name Type Description <code>returns_matrix</code> <code>Array&lt;Array&lt;Float&gt;&gt;</code> Returns for each asset <code>num_portfolios</code> <code>Integer</code> Number of portfolios to generate <p>Returns</p> <p>Type: <code>Array&lt;Hash&gt;</code></p> <p>Array of portfolio hashes</p> Source Location <p><code>lib/sqa/portfolio_optimizer.rb:175</code></p>"},{"location":"api-reference/sqa_portfoliooptimizer/#multi_objectivereturns_matrix-objectives","title":"<code>.multi_objective(returns_matrix, objectives: = {})</code>","text":"<p>Multi-objective optimization</p> <p>Optimize portfolio for multiple objectives simultaneously.</p> <p>Parameters</p> Name Type Description <code>returns_matrix</code> <code>Array&lt;Array&lt;Float&gt;&gt;</code> Returns for each asset <code>objectives</code> <code>Hash</code> Objectives with weights <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Optimal portfolio</p> <p>Usage Examples</p> <pre><code>result = SQA::PortfolioOptimizer.multi_objective(\n  returns_matrix,\n  objectives: {\n    maximize_return: 0.4,\n    minimize_volatility: 0.3,\n    minimize_drawdown: 0.3\n  }\n)\n</code></pre> Source Location <p><code>lib/sqa/portfolio_optimizer.rb:217</code></p>"},{"location":"api-reference/sqa_portfoliooptimizer/#equal_weightnum_assets","title":"<code>.equal_weight(num_assets)</code>","text":"<p>Equal weight portfolio (1/N rule)</p> <p>Parameters</p> Name Type Description <code>num_assets</code> <code>Integer</code> Number of assets <p>Returns</p> <p>Type: <code>Array&lt;Float&gt;</code></p> <p>Equal weights</p> Source Location <p><code>lib/sqa/portfolio_optimizer.rb:285</code></p>"},{"location":"api-reference/sqa_portfoliooptimizer/#rebalancecurrent_values-target_weights-total_value-prices","title":"<code>.rebalance(current_values:, target_weights:, total_value:, prices:)</code>","text":"<p>Rebalance portfolio to target weights</p> <p>Parameters</p> Name Type Description <code>current_values</code> <code>Hash</code> Current holdings <code>target_weights</code> <code>Hash</code> Target weights <code>total_value</code> <code>Float</code> Total portfolio value <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Rebalancing trades { ticker =&gt; { action: :buy/:sell, shares: N, value: $ } }</p> Source Location <p><code>lib/sqa/portfolio_optimizer.rb:298</code></p>"},{"location":"api-reference/sqa_portfoliooptimizer/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_riskmanager/","title":"\ud83d\udce6 SQA::RiskManager","text":"<p>Description</p> <p>RiskManager - Comprehensive risk management and position sizing</p> <p>Provides methods for: - Value at Risk (VaR): Historical, Parametric, Monte Carlo - Conditional VaR (CVaR / Expected Shortfall) - Position sizing: Kelly Criterion, Fixed Fractional, Percent Volatility - Risk metrics: Sharpe, Sortino, Calmar, Maximum Drawdown - Stop loss calculations</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/risk_manager.rb:29</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_riskmanager/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_riskmanager/#varreturns-confidence-095-method-historical-simulations-10_000","title":"<code>.var(returns, confidence: = 0.95, method: = :historical, simulations: = 10_000)</code>","text":"<p>Calculate Value at Risk (VaR) using historical method</p> <p>VaR represents the maximum expected loss over a given time period at a specified confidence level.</p> <p>Parameters</p> Name Type Description <code>returns</code> <code>Array&lt;Float&gt;</code> Array of period returns (e.g., daily returns) <code>confidence</code> <code>Float</code> Confidence level (default: 0.95 for 95%) <code>method</code> <code>Symbol</code> Method to use (:historical, :parametric, :monte_carlo) <code>simulations</code> <code>Integer</code> Number of Monte Carlo simulations (if method is :monte_carlo) <p>Returns</p> <p>Type: <code>Float</code></p> <p>Value at Risk as a percentage</p> <p>Usage Examples</p> <pre><code>returns = [0.01, -0.02, 0.015, -0.01, 0.005]\nvar = SQA::RiskManager.var(returns, confidence: 0.95)\n# =&gt; -0.02 (2% maximum expected loss at 95% confidence)\n</code></pre> Source Location <p><code>lib/sqa/risk_manager.rb:48</code></p>"},{"location":"api-reference/sqa_riskmanager/#cvarreturns-confidence-095","title":"<code>.cvar(returns, confidence: = 0.95)</code>","text":"<p>Calculate Conditional Value at Risk (CVaR / Expected Shortfall)</p> <p>CVaR is the expected loss given that the loss exceeds the VaR threshold. It provides a more conservative risk measure than VaR.</p> <p>Parameters</p> Name Type Description <code>returns</code> <code>Array&lt;Float&gt;</code> Array of period returns <code>confidence</code> <code>Float</code> Confidence level (default: 0.95) <p>Returns</p> <p>Type: <code>Float</code></p> <p>CVaR as a percentage</p> <p>Usage Examples</p> <pre><code>cvar = SQA::RiskManager.cvar(returns, confidence: 0.95)\n# =&gt; -0.025 (2.5% expected loss in worst 5% of cases)\n</code></pre> Source Location <p><code>lib/sqa/risk_manager.rb:77</code></p>"},{"location":"api-reference/sqa_riskmanager/#kelly_criterionwin_rate-avg_win-avg_loss-capital-max_fraction-025","title":"<code>.kelly_criterion(win_rate:, avg_win:, avg_loss:, capital:, max_fraction: = 0.25)</code>","text":"<p>Calculate position size using Kelly Criterion</p> <p>Kelly Criterion calculates the optimal fraction of capital to risk based on win rate and win/loss ratio.</p> <p>Formula: f = (p * b - q) / b where:   f = fraction of capital to bet   p = probability of winning   q = probability of losing (1 - p)   b = win/loss ratio (avg_win / avg_loss)</p> <p>Parameters</p> Name Type Description <code>win_rate</code> <code>Float</code> Win rate (0.0 to 1.0) <code>avg_win</code> <code>Float</code> Average win size (as percentage) <code>avg_loss</code> <code>Float</code> Average loss size (as percentage) <code>capital</code> <code>Float</code> Total capital available <code>max_fraction</code> <code>Float</code> Maximum fraction to risk (default: 0.25 for 25%) <p>Returns</p> <p>Type: <code>Float</code></p> <p>Dollar amount to risk</p> <p>Usage Examples</p> <pre><code>position = SQA::RiskManager.kelly_criterion(\n  win_rate: 0.60,\n  avg_win: 0.10,\n  avg_loss: 0.05,\n  capital: 10_000,\n  max_fraction: 0.25\n)\n</code></pre> Source Location <p><code>lib/sqa/risk_manager.rb:116</code></p>"},{"location":"api-reference/sqa_riskmanager/#fixed_fractionalcapital-risk_fraction-002","title":"<code>.fixed_fractional(capital:, risk_fraction: = 0.02)</code>","text":"<p>Calculate position size using Fixed Fractional method</p> <p>Risk a fixed percentage of capital on each trade. Simple and conservative approach.</p> <p>Parameters</p> Name Type Description <code>capital</code> <code>Float</code> Total capital <code>risk_fraction</code> <code>Float</code> Fraction to risk (e.g., 0.02 for 2%) <p>Returns</p> <p>Type: <code>Float</code></p> <p>Dollar amount to risk</p> <p>Usage Examples</p> <pre><code>position = SQA::RiskManager.fixed_fractional(capital: 10_000, risk_fraction: 0.02)\n# =&gt; 200.0 (risk $200 per trade)\n</code></pre> Source Location <p><code>lib/sqa/risk_manager.rb:146</code></p>"},{"location":"api-reference/sqa_riskmanager/#percent_volatilitycapital-returns-target_volatility-015-current_price","title":"<code>.percent_volatility(capital:, returns:, target_volatility: = 0.15, current_price:)</code>","text":"<p>Calculate position size using Percent Volatility method</p> <p>Adjust position size based on recent volatility. Higher volatility = smaller position size.</p> <p>Parameters</p> Name Type Description <code>capital</code> <code>Float</code> Total capital <code>returns</code> <code>Array&lt;Float&gt;</code> Recent returns <code>target_volatility</code> <code>Float</code> Target portfolio volatility (annualized) <code>current_price</code> <code>Float</code> Current asset price <p>Returns</p> <p>Type: <code>Integer</code></p> <p>Number of shares to buy</p> <p>Usage Examples</p> <pre><code>shares = SQA::RiskManager.percent_volatility(\n  capital: 10_000,\n  returns: recent_returns,\n  target_volatility: 0.15,\n  current_price: 150.0\n)\n</code></pre> Source Location <p><code>lib/sqa/risk_manager.rb:170</code></p>"},{"location":"api-reference/sqa_riskmanager/#atr_stop_losscurrent_price-atr-multiplier-20-direction-long","title":"<code>.atr_stop_loss(current_price:, atr:, multiplier: = 2.0, direction: = :long)</code>","text":"<p>Calculate stop loss price based on ATR (Average True Range)</p> <p>Parameters</p> Name Type Description <code>current_price</code> <code>Float</code> Current asset price <code>atr</code> <code>Float</code> Average True Range <code>multiplier</code> <code>Float</code> ATR multiplier (default: 2.0) <code>direction</code> <code>Symbol</code> :long or :short <p>Returns</p> <p>Type: <code>Float</code></p> <p>Stop loss price</p> <p>Usage Examples</p> <pre><code>stop = SQA::RiskManager.atr_stop_loss(\n  current_price: 150.0,\n  atr: 3.5,\n  multiplier: 2.0,\n  direction: :long\n)\n# =&gt; 143.0 (stop at current - 2*ATR)\n</code></pre> Source Location <p><code>lib/sqa/risk_manager.rb:204</code></p>"},{"location":"api-reference/sqa_riskmanager/#max_drawdownprices","title":"<code>.max_drawdown(prices)</code>","text":"<p>Calculate maximum drawdown from price series</p> <p>Drawdown is the peak-to-trough decline in portfolio value.</p> <p>Parameters</p> Name Type Description <code>prices</code> <code>Array&lt;Float&gt;</code> Array of prices or portfolio values <p>Returns</p> <p>Type: <code>Hash</code></p> <p>{ max_drawdown: Float, peak_idx: Integer, trough_idx: Integer }</p> <p>Usage Examples</p> <pre><code>dd = SQA::RiskManager.max_drawdown([100, 110, 105, 95, 100])\n# =&gt; { max_drawdown: -0.136, peak_idx: 1, trough_idx: 3 }\n</code></pre> Source Location <p><code>lib/sqa/risk_manager.rb:224</code></p>"},{"location":"api-reference/sqa_riskmanager/#sharpe_ratioreturns-risk_free_rate-002-periods_per_year-252","title":"<code>.sharpe_ratio(returns, risk_free_rate: = 0.02, periods_per_year: = 252)</code>","text":"<p>Calculate Sharpe Ratio</p> <p>Measures risk-adjusted return (excess return per unit of risk).</p> <p>Parameters</p> Name Type Description <code>returns</code> <code>Array&lt;Float&gt;</code> Array of period returns <code>risk_free_rate</code> <code>Float</code> Risk-free rate (annualized, default: 0.02) <code>periods_per_year</code> <code>Integer</code> Number of periods per year (default: 252 for daily) <p>Returns</p> <p>Type: <code>Float</code></p> <p>Sharpe ratio</p> <p>Usage Examples</p> <pre><code>sharpe = SQA::RiskManager.sharpe_ratio(returns, risk_free_rate: 0.02)\n</code></pre> Source Location <p><code>lib/sqa/risk_manager.rb:269</code></p>"},{"location":"api-reference/sqa_riskmanager/#sortino_ratioreturns-target_return-00-periods_per_year-252","title":"<code>.sortino_ratio(returns, target_return: = 0.0, periods_per_year: = 252)</code>","text":"<p>Calculate Sortino Ratio</p> <p>Like Sharpe ratio but only penalizes downside volatility.</p> <p>Parameters</p> Name Type Description <code>returns</code> <code>Array&lt;Float&gt;</code> Array of period returns <code>target_return</code> <code>Float</code> Target return (default: 0.0) <code>periods_per_year</code> <code>Integer</code> Number of periods per year (default: 252) <p>Returns</p> <p>Type: <code>Float</code></p> <p>Sortino ratio</p> <p>Usage Examples</p> <pre><code>sortino = SQA::RiskManager.sortino_ratio(returns)\n</code></pre> Source Location <p><code>lib/sqa/risk_manager.rb:294</code></p>"},{"location":"api-reference/sqa_riskmanager/#calmar_ratioreturns-periods_per_year-252","title":"<code>.calmar_ratio(returns, periods_per_year: = 252)</code>","text":"<p>Calculate Calmar Ratio</p> <p>Ratio of annualized return to maximum drawdown.</p> <p>Parameters</p> Name Type Description <code>returns</code> <code>Array&lt;Float&gt;</code> Array of period returns <code>periods_per_year</code> <code>Integer</code> Number of periods per year (default: 252) <p>Returns</p> <p>Type: <code>Float</code></p> <p>Calmar ratio</p> <p>Usage Examples</p> <pre><code>calmar = SQA::RiskManager.calmar_ratio(returns)\n</code></pre> Source Location <p><code>lib/sqa/risk_manager.rb:325</code></p>"},{"location":"api-reference/sqa_riskmanager/#monte_carlo_simulationinitial_capital-returns-periods-simulations-1000","title":"<code>.monte_carlo_simulation(initial_capital:, returns:, periods:, simulations: = 1000)</code>","text":"<p>Monte Carlo simulation for portfolio value</p> <p>Parameters</p> Name Type Description <code>initial_capital</code> <code>Float</code> Starting capital <code>returns</code> <code>Array&lt;Float&gt;</code> Historical returns to sample from <code>periods</code> <code>Integer</code> Number of periods to simulate <code>simulations</code> <code>Integer</code> Number of simulation paths <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Simulation results with percentiles</p> <p>Usage Examples</p> <pre><code>results = SQA::RiskManager.monte_carlo_simulation(\n  initial_capital: 10_000,\n  returns: historical_returns,\n  periods: 252,\n  simulations: 1000\n)\nputs \"95th percentile: $#{results[:percentile_95]}\"\n</code></pre> Source Location <p><code>lib/sqa/risk_manager.rb:360</code></p>"},{"location":"api-reference/sqa_riskmanager/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_seasonalanalyzer/","title":"\ud83d\udd27 SQA::SeasonalAnalyzer","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/seasonal_analyzer.rb:18</code></p>"},{"location":"api-reference/sqa_seasonalanalyzer/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_seasonalanalyzer/#analyzestock","title":"<code>.analyze(stock)</code>","text":"<p>Analyze seasonal performance patterns</p> <p>Parameters</p> Name Type Description <code>stock</code> <code>SQA::Stock</code> Stock to analyze <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Seasonal performance metadata</p> Source Location <p><code>lib/sqa/seasonal_analyzer.rb:25</code></p>"},{"location":"api-reference/sqa_seasonalanalyzer/#filter_by_monthsstock-months","title":"<code>.filter_by_months(stock, months)</code>","text":"<p>Filter data by calendar months</p> <p>Parameters</p> Name Type Description <code>stock</code> <code>SQA::Stock</code> Stock to analyze <code>months</code> <code>Array&lt;Integer&gt;</code> Months to include (1-12) <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Filtered data</p> Source Location <p><code>lib/sqa/seasonal_analyzer.rb:56</code></p>"},{"location":"api-reference/sqa_seasonalanalyzer/#filter_by_quartersstock-quarters","title":"<code>.filter_by_quarters(stock, quarters)</code>","text":"<p>Filter data by quarters</p> <p>Parameters</p> Name Type Description <code>stock</code> <code>SQA::Stock</code> Stock to analyze <code>quarters</code> <code>Array&lt;Integer&gt;</code> Quarters to include (1-4) <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Filtered data</p> Source Location <p><code>lib/sqa/seasonal_analyzer.rb:82</code></p>"},{"location":"api-reference/sqa_seasonalanalyzer/#detect_seasonalitymonthly_returns","title":"<code>.detect_seasonality(monthly_returns)</code>","text":"<p>Detect if stock has seasonal pattern</p> <p>Parameters</p> Name Type Description <code>monthly_returns</code> <code>Hash</code> Monthly return statistics <p>Returns</p> <p>Type: <code>Boolean</code></p> <p>True if significant seasonal pattern exists</p> Source Location <p><code>lib/sqa/seasonal_analyzer.rb:99</code></p>"},{"location":"api-reference/sqa_seasonalanalyzer/#context_for_datedate","title":"<code>.context_for_date(date)</code>","text":"<p>Get seasonal context for a specific date</p> <p>Parameters</p> Name Type Description <code>date</code> <code>Date</code> Date to check <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Seasonal context</p> Source Location <p><code>lib/sqa/seasonal_analyzer.rb:116</code></p>"},{"location":"api-reference/sqa_seasonalanalyzer/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_sectoranalyzer/","title":"\ud83d\udce6 SQA::SectorAnalyzer","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/sector_analyzer.rb:26</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_sectoranalyzer/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_sectoranalyzer/#blackboards","title":"<code>#blackboards()</code>","text":"<p>Returns the value of attribute blackboards.</p> Source Location <p><code>lib/sqa/sector_analyzer.rb:40</code></p>"},{"location":"api-reference/sqa_sectoranalyzer/#stocks_by_sector","title":"<code>#stocks_by_sector()</code>","text":"<p>Returns the value of attribute stocks_by_sector.</p> Source Location <p><code>lib/sqa/sector_analyzer.rb:40</code></p>"},{"location":"api-reference/sqa_sectoranalyzer/#initializedb_dir-tmpsqa_sectors","title":"<code>#initialize(db_dir: = '/tmp/sqa_sectors')</code>","text":"<p>Returns</p> <p>Type: <code>SectorAnalyzer</code></p> <p>a new instance of SectorAnalyzer</p> Source Location <p><code>lib/sqa/sector_analyzer.rb:42</code></p>"},{"location":"api-reference/sqa_sectoranalyzer/#add_stockstock-sector","title":"<code>#add_stock(stock, sector:)</code>","text":"<p>Add a stock to sector analysis</p> <p>Parameters</p> Name Type Description <code>stock</code> <code>SQA::Stock, String</code> Stock object or ticker <code>sector</code> <code>Symbol</code> Sector classification Source Location <p><code>lib/sqa/sector_analyzer.rb:62</code></p>"},{"location":"api-reference/sqa_sectoranalyzer/#discover_sector_patternssector-stocks-options","title":"<code>#discover_sector_patterns(sector, stocks, **options)</code>","text":"<p>Discover patterns for an entire sector</p> <p>Parameters</p> Name Type Description <code>sector</code> <code>Symbol</code> Sector to analyze <code>stocks</code> <code>Array&lt;SQA::Stock&gt;</code> Stock objects to analyze <code>options</code> <code>Hash</code> Pattern discovery options <p>Returns</p> <p>Type: <code>Array&lt;Hash&gt;</code></p> <p>Sector-wide patterns</p> Source Location <p><code>lib/sqa/sector_analyzer.rb:86</code></p>"},{"location":"api-reference/sqa_sectoranalyzer/#detect_sector_regimesector-stocks","title":"<code>#detect_sector_regime(sector, stocks)</code>","text":"<p>Detect sector regime</p> <p>Parameters</p> Name Type Description <code>sector</code> <code>Symbol</code> Sector to analyze <code>stocks</code> <code>Array&lt;SQA::Stock&gt;</code> Stock objects <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Sector regime information</p> Source Location <p><code>lib/sqa/sector_analyzer.rb:146</code></p>"},{"location":"api-reference/sqa_sectoranalyzer/#query_sectorsector-fact_type-pattern","title":"<code>#query_sector(sector, fact_type, pattern = {})</code>","text":"<p>Query sector blackboard</p> <p>Parameters</p> Name Type Description <code>sector</code> <code>Symbol</code> Sector to query <code>fact_type</code> <code>Symbol</code> Type of fact to query <code>pattern</code> <code>Hash</code> Pattern to match <p>Returns</p> <p>Type: <code>Array&lt;KBS::Fact&gt;</code></p> <p>Matching facts</p> Source Location <p><code>lib/sqa/sector_analyzer.rb:190</code></p>"},{"location":"api-reference/sqa_sectoranalyzer/#print_sector_summarysector","title":"<code>#print_sector_summary(sector)</code>","text":"<p>Print sector summary</p> <p>Parameters</p> Name Type Description <code>sector</code> <code>Symbol</code> Sector to summarize Source Location <p><code>lib/sqa/sector_analyzer.rb:202</code></p>"},{"location":"api-reference/sqa_sectoranalyzer/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_sectoranalyzer/#blackboards-read-only","title":"\ud83d\udc41\ufe0f <code>blackboards</code> read-only","text":"<p>Returns the value of attribute blackboards.</p>"},{"location":"api-reference/sqa_sectoranalyzer/#stocks_by_sector-read-only","title":"\ud83d\udc41\ufe0f <code>stocks_by_sector</code> read-only","text":"<p>Returns the value of attribute stocks_by_sector.</p>"},{"location":"api-reference/sqa_stock/","title":"\ud83d\udce6 SQA::Stock","text":"<p>Description</p> <p>Represents a stock with price history, metadata, and technical analysis capabilities. This is the primary domain object for interacting with stock data.</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/stock.rb:14</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_stock/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_stock/#connection","title":"<code>.connection()</code>","text":"<p>Returns the current Faraday connection for API requests. Allows injection of custom connections for testing or different configurations.</p> <p>Returns</p> <p>Type: <code>Faraday::Connection</code></p> <p>The current connection instance</p> Source Location <p><code>lib/sqa/stock.rb:30</code></p>"},{"location":"api-reference/sqa_stock/#connectionconn","title":"<code>.connection=(conn)</code>","text":"<p>Sets a custom Faraday connection. Useful for testing with mocks/stubs or configuring different API endpoints.</p> <p>Parameters</p> Name Type Description <code>conn</code> <code>Faraday::Connection</code> Custom Faraday connection to use <p>Returns</p> <p>Type: <code>Faraday::Connection</code></p> <p>The connection that was set</p> Source Location <p><code>lib/sqa/stock.rb:39</code></p>"},{"location":"api-reference/sqa_stock/#default_connection","title":"<code>.default_connection()</code>","text":"<p>Creates the default Faraday connection to Alpha Vantage.</p> <p>Returns</p> <p>Type: <code>Faraday::Connection</code></p> <p>A new connection to Alpha Vantage API</p> Source Location <p><code>lib/sqa/stock.rb:46</code></p>"},{"location":"api-reference/sqa_stock/#reset_connection","title":"<code>.reset_connection!()</code>","text":"<p>Resets the connection to default. Useful for testing cleanup to ensure fresh state between tests.</p> <p>Returns</p> <p>Type: <code>nil</code></p> Source Location <p><code>lib/sqa/stock.rb:54</code></p>"},{"location":"api-reference/sqa_stock/#top","title":"<code>.top()</code>","text":"<p>Fetches top gainers, losers, and most actively traded stocks from Alpha Vantage. Results are cached after the first call.</p> <p>Returns</p> <p>Type: <code>Hashie::Mash</code></p> <p>Object with top_gainers, top_losers, and most_actively_traded arrays</p> <p>Usage Examples</p> <pre><code>top = SQA::Stock.top\ntop.top_gainers.each { |stock| puts \"#{stock.ticker}: +#{stock.change_percentage}%\" }\ntop.top_losers.first.ticker  # =&gt; \"XYZ\"\n</code></pre> Source Location <p><code>lib/sqa/stock.rb:341</code></p>"},{"location":"api-reference/sqa_stock/#reset_top","title":"<code>.reset_top!()</code>","text":"<p>Resets the cached top gainers/losers data. Useful for testing or forcing a refresh.</p> <p>Returns</p> <p>Type: <code>nil</code></p> Source Location <p><code>lib/sqa/stock.rb:372</code></p>"},{"location":"api-reference/sqa_stock/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_stock/#data","title":"<code>#data()</code>","text":"<p>Returns</p> <p>Type: <code>SQA::DataFrame::Data</code></p> <p>Stock metadata (ticker, name, exchange, etc.)</p> Source Location <p><code>lib/sqa/stock.rb:69</code></p>"},{"location":"api-reference/sqa_stock/#datavalue","title":"<code>#data=(value)</code>","text":"<p>Returns</p> <p>Type: <code>SQA::DataFrame::Data</code></p> <p>Stock metadata (ticker, name, exchange, etc.)</p> Source Location <p><code>lib/sqa/stock.rb:69</code></p>"},{"location":"api-reference/sqa_stock/#df","title":"<code>#df()</code>","text":"<p>Returns</p> <p>Type: <code>SQA::DataFrame</code></p> <p>Price and volume data as a DataFrame</p> Source Location <p><code>lib/sqa/stock.rb:69</code></p>"},{"location":"api-reference/sqa_stock/#dfvalue","title":"<code>#df=(value)</code>","text":"<p>Returns</p> <p>Type: <code>SQA::DataFrame</code></p> <p>Price and volume data as a DataFrame</p> Source Location <p><code>lib/sqa/stock.rb:69</code></p>"},{"location":"api-reference/sqa_stock/#klass","title":"<code>#klass()</code>","text":"<p>Returns</p> <p>Type: <code>Class</code></p> <p>The data source class (e.g., SQA::DataFrame::AlphaVantage)</p> Source Location <p><code>lib/sqa/stock.rb:69</code></p>"},{"location":"api-reference/sqa_stock/#klassvalue","title":"<code>#klass=(value)</code>","text":"<p>Returns</p> <p>Type: <code>Class</code></p> <p>The data source class (e.g., SQA::DataFrame::AlphaVantage)</p> Source Location <p><code>lib/sqa/stock.rb:69</code></p>"},{"location":"api-reference/sqa_stock/#transformers","title":"<code>#transformers()</code>","text":"<p>Returns</p> <p>Type: <code>Hash</code></p> <p>Column transformers for data normalization</p> Source Location <p><code>lib/sqa/stock.rb:69</code></p>"},{"location":"api-reference/sqa_stock/#transformersvalue","title":"<code>#transformers=(value)</code>","text":"<p>Returns</p> <p>Type: <code>Hash</code></p> <p>Column transformers for data normalization</p> Source Location <p><code>lib/sqa/stock.rb:69</code></p>"},{"location":"api-reference/sqa_stock/#strategy","title":"<code>#strategy()</code>","text":"<p>Returns</p> <p>Type: <code>SQA::Strategy, nil</code></p> <p>Optional trading strategy attached to this stock</p> Source Location <p><code>lib/sqa/stock.rb:69</code></p>"},{"location":"api-reference/sqa_stock/#strategyvalue","title":"<code>#strategy=(value)</code>","text":"<p>Sets the attribute strategy</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute strategy to. Source Location <p><code>lib/sqa/stock.rb:69</code></p>"},{"location":"api-reference/sqa_stock/#initializeticker-source-alpha_vantage","title":"<code>#initialize(ticker:, source: = :alpha_vantage)</code>","text":"<p>Creates a new Stock instance and loads or fetches its data.</p> <p>Parameters</p> Name Type Description <code>ticker</code> <code>String</code> The stock ticker symbol (e.g., 'AAPL', 'MSFT') <code>source</code> <code>Symbol</code> The data source to use (:alpha_vantage or :yahoo_finance) <p>Returns</p> <p>Type: <code>Stock</code></p> <p>a new instance of Stock</p> <p>Usage Examples</p> <pre><code>stock = SQA::Stock.new(ticker: 'AAPL')\nstock = SQA::Stock.new(ticker: 'GOOG', source: :yahoo_finance)\n</code></pre> Source Location <p><code>lib/sqa/stock.rb:81</code></p>"},{"location":"api-reference/sqa_stock/#load_or_create_data","title":"<code>#load_or_create_data()</code>","text":"<p>Loads existing data from cache or creates new data structure. If cached data exists, loads from JSON file. Otherwise creates minimal structure and attempts to fetch overview from API.</p> <p>Returns</p> <p>Type: <code>void</code></p> Source Location <p><code>lib/sqa/stock.rb:107</code></p>"},{"location":"api-reference/sqa_stock/#create_data","title":"<code>#create_data()</code>","text":"<p>Creates a new minimal data structure for the stock.</p> <p>Returns</p> <p>Type: <code>SQA::DataFrame::Data</code></p> <p>The newly created data object</p> Source Location <p><code>lib/sqa/stock.rb:126</code></p>"},{"location":"api-reference/sqa_stock/#update","title":"<code>#update()</code>","text":"<p>Updates the stock's overview data from the API. Silently handles errors since overview data is optional.</p> <p>Returns</p> <p>Type: <code>void</code></p> Source Location <p><code>lib/sqa/stock.rb:134</code></p>"},{"location":"api-reference/sqa_stock/#save_data","title":"<code>#save_data()</code>","text":"<p>Persists the stock's metadata to a JSON file.</p> <p>Returns</p> <p>Type: <code>Integer</code></p> <p>Number of bytes written</p> Source Location <p><code>lib/sqa/stock.rb:147</code></p>"},{"location":"api-reference/sqa_stock/#ticker","title":"<code>#ticker()</code>","text":"<p>Returns</p> <p>Type: <code>String</code></p> <p>The stock's ticker symbol</p> Source Location <p><code>lib/sqa/stock.rb:165</code></p>"},{"location":"api-reference/sqa_stock/#name","title":"<code>#name()</code>","text":"<p>Returns</p> <p>Type: <code>String, nil</code></p> <p>The company name</p> Source Location <p><code>lib/sqa/stock.rb:165</code></p>"},{"location":"api-reference/sqa_stock/#exchange","title":"<code>#exchange()</code>","text":"<p>Returns</p> <p>Type: <code>String, nil</code></p> <p>The exchange where the stock trades</p> Source Location <p><code>lib/sqa/stock.rb:165</code></p>"},{"location":"api-reference/sqa_stock/#source","title":"<code>#source()</code>","text":"<p>Returns</p> <p>Type: <code>Symbol</code></p> <p>The data source (:alpha_vantage or :yahoo_finance)</p> Source Location <p><code>lib/sqa/stock.rb:165</code></p>"},{"location":"api-reference/sqa_stock/#indicators","title":"<code>#indicators()</code>","text":"<p>Returns</p> <p>Type: <code>Hash</code></p> <p>Cached indicator values</p> Source Location <p><code>lib/sqa/stock.rb:165</code></p>"},{"location":"api-reference/sqa_stock/#indicatorsvalue","title":"<code>#indicators=(value)</code>","text":"<p>Parameters</p> Name Type Description <code>value</code> <code>Hash</code> New indicator values Source Location <p><code>lib/sqa/stock.rb:165</code></p>"},{"location":"api-reference/sqa_stock/#overview","title":"<code>#overview()</code>","text":"<p>Returns</p> <p>Type: <code>Hash, nil</code></p> <p>Company overview data from API</p> Source Location <p><code>lib/sqa/stock.rb:165</code></p>"},{"location":"api-reference/sqa_stock/#update_dataframe","title":"<code>#update_dataframe()</code>","text":"<p>Updates the DataFrame with price data. Loads from cache if available, otherwise fetches from API. Applies migrations for old data formats and updates with recent data.</p> <p>Returns</p> <p>Type: <code>void</code></p> Source Location <p><code>lib/sqa/stock.rb:173</code></p>"},{"location":"api-reference/sqa_stock/#update_dataframe_with_recent_data","title":"<code>#update_dataframe_with_recent_data()</code>","text":"<p>Fetches recent data from API and appends to existing DataFrame. Only called if should_update? returns true.</p> <p>Returns</p> <p>Type: <code>void</code></p> Source Location <p><code>lib/sqa/stock.rb:228</code></p>"},{"location":"api-reference/sqa_stock/#update_the_dataframe","title":"<code>#update_the_dataframe()</code>","text":"<p>Returns</p> <p>Type: <code>void</code></p> Source Location <p><code>lib/sqa/stock.rb:250</code></p>"},{"location":"api-reference/sqa_stock/#should_update","title":"<code>#should_update?()</code>","text":"<p>Determines whether the DataFrame should be updated from the API. Returns false if lazy_update is enabled, API key is missing, or data is already current.</p> <p>Returns</p> <p>Type: <code>Boolean</code></p> <p>true if update should proceed, false otherwise</p> Source Location <p><code>lib/sqa/stock.rb:260</code></p>"},{"location":"api-reference/sqa_stock/#to_s","title":"<code>#to_s()</code>","text":"<p>Returns a human-readable string representation of the stock.</p> <p>Returns</p> <p>Type: <code>String</code></p> <p>Summary including ticker, data points count, and date range</p> <p>Usage Examples</p> <pre><code>stock.to_s  # =&gt; \"aapl with 252 data points from 2023-01-03 to 2023-12-29\"\n</code></pre> Source Location <p><code>lib/sqa/stock.rb:294</code></p>"},{"location":"api-reference/sqa_stock/#inspect","title":"<code>#inspect()</code>","text":"<p>Returns a human-readable string representation of the stock. Note: CSV data is stored in ascending chronological order (oldest to newest) This ensures compatibility with TA-Lib indicators which expect arrays in this order</p> <p>Returns</p> <p>Type: <code>String</code></p> <p>Summary including ticker, data points count, and date range</p> <p>Usage Examples</p> <pre><code>stock.to_s  # =&gt; \"aapl with 252 data points from 2023-01-03 to 2023-12-29\"\n</code></pre> Source Location <p><code>lib/sqa/stock.rb:299</code></p>"},{"location":"api-reference/sqa_stock/#merge_overview","title":"<code>#merge_overview()</code>","text":"<p>Fetches and merges company overview data from Alpha Vantage API. Converts API response keys to snake_case and appropriate data types.</p> <p>Returns</p> <p>Type: <code>Hash</code></p> <p>The merged overview data</p> Source Location <p><code>lib/sqa/stock.rb:306</code></p>"},{"location":"api-reference/sqa_stock/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_stock/#data-readwrite","title":"\ud83d\udd04 <code>data</code> read/write","text":""},{"location":"api-reference/sqa_stock/#df-readwrite","title":"\ud83d\udd04 <code>df</code> read/write","text":""},{"location":"api-reference/sqa_stock/#klass-readwrite","title":"\ud83d\udd04 <code>klass</code> read/write","text":""},{"location":"api-reference/sqa_stock/#transformers-readwrite","title":"\ud83d\udd04 <code>transformers</code> read/write","text":""},{"location":"api-reference/sqa_stock/#strategy-readwrite","title":"\ud83d\udd04 <code>strategy</code> read/write","text":""},{"location":"api-reference/sqa_strategy/","title":"\ud83d\udce6 SQA::Strategy","text":"<p>Description</p> <p>This module needs to be extend'ed within a strategy class so that these common class methods are available in every trading strategy.</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy.rb:16</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategy/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_strategy/#strategies","title":"<code>#strategies()</code>","text":"<p>Returns</p> <p>Type: <code>Array&lt;Method&gt;</code></p> <p>Collection of strategy trade methods</p> Source Location <p><code>lib/sqa/strategy.rb:19</code></p>"},{"location":"api-reference/sqa_strategy/#strategiesvalue","title":"<code>#strategies=(value)</code>","text":"<p>Sets the attribute strategies</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute strategies to. Source Location <p><code>lib/sqa/strategy.rb:19</code></p>"},{"location":"api-reference/sqa_strategy/#initialize","title":"<code>#initialize()</code>","text":"<p>Creates a new Strategy instance with an empty strategies collection.</p> <p>Returns</p> <p>Type: <code>Strategy</code></p> <p>a new instance of Strategy</p> Source Location <p><code>lib/sqa/strategy.rb:22</code></p>"},{"location":"api-reference/sqa_strategy/#adda_strategy","title":"<code>#add(a_strategy)</code>","text":"<p>Adds a trading strategy to the collection. Strategies must be either a Class with a .trade method or a Method object.</p> <p>Parameters</p> Name Type Description <code>a_strategy</code> <code>Class, Method</code> Strategy to add <p>Returns</p> <p>Type: <code>Array&lt;Method&gt;</code></p> <p>Updated strategies collection</p> <p>Usage Examples</p> <pre><code>strategy.add(SQA::Strategy::RSI)\n</code></pre> <pre><code>strategy.add(MyModule.method(:custom_trade))\n</code></pre> Source Location <p><code>lib/sqa/strategy.rb:39</code></p>"},{"location":"api-reference/sqa_strategy/#executev","title":"<code>#execute(v)</code>","text":"<p>Executes all registered strategies with the given data vector.</p> <p>Parameters</p> Name Type Description <code>v</code> <code>OpenStruct</code> Data vector containing indicator values and prices <p>Returns</p> <p>Type: <code>Array&lt;Symbol&gt;</code></p> <p>Array of signals (:buy, :sell, or :hold) from each strategy</p> <p>Usage Examples</p> <pre><code>vector = OpenStruct.new(rsi: 25, prices: prices_array)\nsignals = strategy.execute(vector)  # =&gt; [:buy, :hold, :sell]\n</code></pre> Source Location <p><code>lib/sqa/strategy.rb:60</code></p>"},{"location":"api-reference/sqa_strategy/#auto_loadexcept-common-only","title":"<code>#auto_load(except: = [:common], only: = [])</code>","text":"<p>Auto-loads strategy files from the strategy directory.</p> <p>Parameters</p> Name Type Description <code>except</code> <code>Array&lt;Symbol&gt;</code> Strategy names to exclude (default: [:common]) <code>only</code> <code>Array&lt;Symbol&gt;</code> If provided, only load these strategies <p>Returns</p> <p>Type: <code>nil</code></p> <p>Usage Examples</p> <pre><code>strategy.auto_load(except: [:common, :random])\n</code></pre> <pre><code>strategy.auto_load(only: [:rsi, :macd])\n</code></pre> Source Location <p><code>lib/sqa/strategy.rb:79</code></p>"},{"location":"api-reference/sqa_strategy/#available","title":"<code>#available()</code>","text":"<p>Returns all available strategy classes in the SQA::Strategy namespace.</p> <p>Returns</p> <p>Type: <code>Array&lt;Class&gt;</code></p> <p>Array of strategy classes</p> <p>Usage Examples</p> <pre><code>SQA::Strategy.new.available\n# =&gt; [SQA::Strategy::RSI, SQA::Strategy::MACD, ...]\n</code></pre> Source Location <p><code>lib/sqa/strategy.rb:108</code></p>"},{"location":"api-reference/sqa_strategy/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategy/#strategies-readwrite","title":"\ud83d\udd04 <code>strategies</code> read/write","text":""},{"location":"api-reference/sqa_strategy_bollingerbands/","title":"\ud83d\udce6 SQA::Strategy::BollingerBands","text":"<p>Description</p> <p>Bollinger Bands trading strategy Buy when price touches lower band (oversold) Sell when price touches upper band (overbought)</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy/bollinger_bands.rb:8</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategy_bollingerbands/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_strategy_bollingerbands/#tradevector","title":"<code>.trade(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/bollinger_bands.rb:9</code></p>"},{"location":"api-reference/sqa_strategy_bollingerbands/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategy_common/","title":"\ud83d\udd27 SQA::Strategy::Common","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy/common.rb:8</code></p>"},{"location":"api-reference/sqa_strategy_common/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_strategy_common/#trade_againstvector","title":"<code>#trade_against(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:9</code></p>"},{"location":"api-reference/sqa_strategy_common/#desc","title":"<code>#desc()</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:23</code></p>"},{"location":"api-reference/sqa_strategy_common/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategy_consensus/","title":"\ud83d\udce6 SQA::Strategy::Consensus","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy/consensus.rb:5</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategy_consensus/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_strategy_consensus/#tradevector","title":"<code>.trade(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/consensus.rb:8</code></p>"},{"location":"api-reference/sqa_strategy_consensus/#trade_againstvector","title":"<code>.trade_against(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:9</code></p>"},{"location":"api-reference/sqa_strategy_consensus/#desc","title":"<code>.desc()</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:23</code></p>"},{"location":"api-reference/sqa_strategy_consensus/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_strategy_consensus/#initializevector","title":"<code>#initialize(vector)</code>","text":"<p>Returns</p> <p>Type: <code>Consensus</code></p> <p>a new instance of Consensus</p> Source Location <p><code>lib/sqa/strategy/consensus.rb:12</code></p>"},{"location":"api-reference/sqa_strategy_consensus/#my_fancy_trader","title":"<code>#my_fancy_trader()</code>","text":"Source Location <p><code>lib/sqa/strategy/consensus.rb:17</code></p>"},{"location":"api-reference/sqa_strategy_consensus/#consensus","title":"<code>#consensus()</code>","text":"Source Location <p><code>lib/sqa/strategy/consensus.rb:26</code></p>"},{"location":"api-reference/sqa_strategy_consensus/#strat_one","title":"<code>#strat_one()</code>","text":"Source Location <p><code>lib/sqa/strategy/consensus.rb:41</code></p>"},{"location":"api-reference/sqa_strategy_consensus/#strat_two","title":"<code>#strat_two()</code>","text":"Source Location <p><code>lib/sqa/strategy/consensus.rb:42</code></p>"},{"location":"api-reference/sqa_strategy_consensus/#strat_three","title":"<code>#strat_three()</code>","text":"Source Location <p><code>lib/sqa/strategy/consensus.rb:43</code></p>"},{"location":"api-reference/sqa_strategy_consensus/#strat_four","title":"<code>#strat_four()</code>","text":"Source Location <p><code>lib/sqa/strategy/consensus.rb:44</code></p>"},{"location":"api-reference/sqa_strategy_consensus/#strat_five","title":"<code>#strat_five()</code>","text":"Source Location <p><code>lib/sqa/strategy/consensus.rb:45</code></p>"},{"location":"api-reference/sqa_strategy_consensus/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategy_ema/","title":"\ud83d\udce6 SQA::Strategy::EMA","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy/ema.rb:5</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategy_ema/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_strategy_ema/#tradevector","title":"<code>.trade(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/ema.rb:8</code></p>"},{"location":"api-reference/sqa_strategy_ema/#trade_againstvector","title":"<code>.trade_against(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:9</code></p>"},{"location":"api-reference/sqa_strategy_ema/#desc","title":"<code>.desc()</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:23</code></p>"},{"location":"api-reference/sqa_strategy_ema/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategy_kbs/","title":"\ud83d\udce6 SQA::Strategy::KBS","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy/kbs_strategy.rb:50</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategy_kbs/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_strategy_kbs/#tradevector","title":"<code>.trade(vector)</code>","text":"<p>Main strategy interface - compatible with SQA::Strategy framework</p> Source Location <p><code>lib/sqa/strategy/kbs_strategy.rb:62</code></p>"},{"location":"api-reference/sqa_strategy_kbs/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_strategy_kbs/#kb","title":"<code>#kb()</code>","text":"<p>Returns the value of attribute kb.</p> Source Location <p><code>lib/sqa/strategy/kbs_strategy.rb:51</code></p>"},{"location":"api-reference/sqa_strategy_kbs/#default_rules_loaded","title":"<code>#default_rules_loaded()</code>","text":"<p>Returns the value of attribute default_rules_loaded.</p> Source Location <p><code>lib/sqa/strategy/kbs_strategy.rb:51</code></p>"},{"location":"api-reference/sqa_strategy_kbs/#initializeload_defaults-true","title":"<code>#initialize(load_defaults: = true)</code>","text":"<p>Returns</p> <p>Type: <code>KBS</code></p> <p>a new instance of KBS</p> Source Location <p><code>lib/sqa/strategy/kbs_strategy.rb:53</code></p>"},{"location":"api-reference/sqa_strategy_kbs/#executevector","title":"<code>#execute(vector)</code>","text":"<p>Execute strategy with given market data</p> Source Location <p><code>lib/sqa/strategy/kbs_strategy.rb:68</code></p>"},{"location":"api-reference/sqa_strategy_kbs/#add_rulename-block","title":"<code>#add_rule(name, &amp;block)</code>","text":"<p>Add a custom trading rule</p> <p>Example:   add_rule :buy_dip do     on :rsi, { value: -&gt;(v) { v &lt; 30 } }     on :macd, { signal: :bullish }     perform { kb.assert(:signal, { action: :buy, confidence: :high }) }   end</p> <p>Note: Use <code>kb.assert</code> in perform blocks, not just <code>assert</code></p> Source Location <p><code>lib/sqa/strategy/kbs_strategy.rb:92</code></p>"},{"location":"api-reference/sqa_strategy_kbs/#assert_facttype-attributes","title":"<code>#assert_fact(type, attributes = {})</code>","text":"<p>Assert a fact into working memory</p> Source Location <p><code>lib/sqa/strategy/kbs_strategy.rb:105</code></p>"},{"location":"api-reference/sqa_strategy_kbs/#query_factstype-pattern","title":"<code>#query_facts(type, pattern = {})</code>","text":"<p>Query facts from working memory</p> Source Location <p><code>lib/sqa/strategy/kbs_strategy.rb:110</code></p>"},{"location":"api-reference/sqa_strategy_kbs/#print_facts","title":"<code>#print_facts()</code>","text":"<p>Print current working memory (for debugging)</p> Source Location <p><code>lib/sqa/strategy/kbs_strategy.rb:115</code></p>"},{"location":"api-reference/sqa_strategy_kbs/#print_rules","title":"<code>#print_rules()</code>","text":"<p>Print all rules (for debugging)</p> Source Location <p><code>lib/sqa/strategy/kbs_strategy.rb:120</code></p>"},{"location":"api-reference/sqa_strategy_kbs/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategy_kbs/#kb-read-only","title":"\ud83d\udc41\ufe0f <code>kb</code> read-only","text":"<p>Returns the value of attribute kb.</p>"},{"location":"api-reference/sqa_strategy_kbs/#default_rules_loaded-read-only","title":"\ud83d\udc41\ufe0f <code>default_rules_loaded</code> read-only","text":"<p>Returns the value of attribute default_rules_loaded.</p>"},{"location":"api-reference/sqa_strategy_macd/","title":"\ud83d\udce6 SQA::Strategy::MACD","text":"<p>Description</p> <p>MACD (Moving Average Convergence Divergence) crossover strategy Buy when MACD line crosses above signal line (bullish) Sell when MACD line crosses below signal line (bearish)</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy/macd.rb:8</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategy_macd/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_strategy_macd/#tradevector","title":"<code>.trade(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/macd.rb:9</code></p>"},{"location":"api-reference/sqa_strategy_macd/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategy_mp/","title":"\ud83d\udce6 SQA::Strategy::MP","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy/mp.rb:5</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategy_mp/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_strategy_mp/#tradevector","title":"<code>.trade(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/mp.rb:8</code></p>"},{"location":"api-reference/sqa_strategy_mp/#trade_againstvector","title":"<code>.trade_against(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:9</code></p>"},{"location":"api-reference/sqa_strategy_mp/#desc","title":"<code>.desc()</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:23</code></p>"},{"location":"api-reference/sqa_strategy_mp/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategy_mr/","title":"\ud83d\udce6 SQA::Strategy::MR","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy/mr.rb:5</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategy_mr/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_strategy_mr/#tradevector","title":"<code>.trade(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/mr.rb:8</code></p>"},{"location":"api-reference/sqa_strategy_mr/#trade_againstvector","title":"<code>.trade_against(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:9</code></p>"},{"location":"api-reference/sqa_strategy_mr/#desc","title":"<code>.desc()</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:23</code></p>"},{"location":"api-reference/sqa_strategy_mr/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategy_random/","title":"\ud83d\udce6 SQA::Strategy::Random","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy/random.rb:5</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategy_random/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_strategy_random/#tradevector","title":"<code>.trade(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/random.rb:8</code></p>"},{"location":"api-reference/sqa_strategy_random/#trade_againstvector","title":"<code>.trade_against(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:9</code></p>"},{"location":"api-reference/sqa_strategy_random/#desc","title":"<code>.desc()</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:23</code></p>"},{"location":"api-reference/sqa_strategy_random/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategy_rsi/","title":"\ud83d\udce6 SQA::Strategy::RSI","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy/rsi.rb:5</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategy_rsi/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_strategy_rsi/#tradevector","title":"<code>.trade(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/rsi.rb:8</code></p>"},{"location":"api-reference/sqa_strategy_rsi/#trade_againstvector","title":"<code>.trade_against(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:9</code></p>"},{"location":"api-reference/sqa_strategy_rsi/#desc","title":"<code>.desc()</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:23</code></p>"},{"location":"api-reference/sqa_strategy_rsi/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategy_sma/","title":"\ud83d\udce6 SQA::Strategy::SMA","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy/sma.rb:5</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategy_sma/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_strategy_sma/#tradevector","title":"<code>.trade(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/sma.rb:8</code></p>"},{"location":"api-reference/sqa_strategy_sma/#trade_againstvector","title":"<code>.trade_against(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:9</code></p>"},{"location":"api-reference/sqa_strategy_sma/#desc","title":"<code>.desc()</code>","text":"Source Location <p><code>lib/sqa/strategy/common.rb:23</code></p>"},{"location":"api-reference/sqa_strategy_sma/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategy_stochastic/","title":"\ud83d\udce6 SQA::Strategy::Stochastic","text":"<p>Description</p> <p>Stochastic Oscillator crossover strategy Buy when %K crosses above %D in oversold territory (&lt; 20) Sell when %K crosses below %D in overbought territory (&gt; 80)</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy/stochastic.rb:8</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategy_stochastic/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_strategy_stochastic/#tradevector","title":"<code>.trade(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/stochastic.rb:9</code></p>"},{"location":"api-reference/sqa_strategy_stochastic/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategy_volumebreakout/","title":"\ud83d\udce6 SQA::Strategy::VolumeBreakout","text":"<p>Description</p> <p>Volume Breakout strategy Buy when price breaks above resistance with high volume Sell when price breaks below support with high volume</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy/volume_breakout.rb:8</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategy_volumebreakout/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_strategy_volumebreakout/#tradevector","title":"<code>.trade(vector)</code>","text":"Source Location <p><code>lib/sqa/strategy/volume_breakout.rb:9</code></p>"},{"location":"api-reference/sqa_strategy_volumebreakout/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategygenerator/","title":"\ud83d\udce6 SQA::StrategyGenerator","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy_generator.rb:36</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategygenerator/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_strategygenerator/#stock","title":"<code>#stock()</code>","text":"<p>Returns the value of attribute stock.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:140</code></p>"},{"location":"api-reference/sqa_strategygenerator/#profitable_points","title":"<code>#profitable_points()</code>","text":"<p>Returns the value of attribute profitable_points.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:140</code></p>"},{"location":"api-reference/sqa_strategygenerator/#patterns","title":"<code>#patterns()</code>","text":"<p>Returns the value of attribute patterns.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:140</code></p>"},{"location":"api-reference/sqa_strategygenerator/#min_gain_percent","title":"<code>#min_gain_percent()</code>","text":"<p>Returns the value of attribute min_gain_percent.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:140</code></p>"},{"location":"api-reference/sqa_strategygenerator/#fpop","title":"<code>#fpop()</code>","text":"<p>Returns the value of attribute fpop.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:140</code></p>"},{"location":"api-reference/sqa_strategygenerator/#min_loss_percent","title":"<code>#min_loss_percent()</code>","text":"<p>Returns the value of attribute min_loss_percent.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:140</code></p>"},{"location":"api-reference/sqa_strategygenerator/#indicators_config","title":"<code>#indicators_config()</code>","text":"<p>Returns the value of attribute indicators_config.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:140</code></p>"},{"location":"api-reference/sqa_strategygenerator/#inflection_window","title":"<code>#inflection_window()</code>","text":"<p>Returns the value of attribute inflection_window.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:140</code></p>"},{"location":"api-reference/sqa_strategygenerator/#max_fpl_risk","title":"<code>#max_fpl_risk()</code>","text":"<p>Returns the value of attribute max_fpl_risk.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:140</code></p>"},{"location":"api-reference/sqa_strategygenerator/#required_fpl_directions","title":"<code>#required_fpl_directions()</code>","text":"<p>Returns the value of attribute required_fpl_directions.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:140</code></p>"},{"location":"api-reference/sqa_strategygenerator/#initializestock-min_gain_percent-100-min_loss_percent-nil-fpop-10-inflection_window-3-max_fpl_risk-nil-required_fpl_directions-nil","title":"<code>#initialize(stock:, min_gain_percent: = 10.0, min_loss_percent: = nil, fpop: = 10, inflection_window: = 3, max_fpl_risk: = nil, required_fpl_directions: = nil)</code>","text":"<p>Returns</p> <p>Type: <code>StrategyGenerator</code></p> <p>a new instance of StrategyGenerator</p> Source Location <p><code>lib/sqa/strategy_generator.rb:144</code></p>"},{"location":"api-reference/sqa_strategygenerator/#discover_patternsmin_pattern_frequency-2","title":"<code>#discover_patterns(min_pattern_frequency: = 2)</code>","text":"<p>Main entry point: Discover patterns in historical data</p> Source Location <p><code>lib/sqa/strategy_generator.rb:168</code></p>"},{"location":"api-reference/sqa_strategygenerator/#generate_strategypattern_index-0-strategy_type-proc","title":"<code>#generate_strategy(pattern_index: = 0, strategy_type: = :proc)</code>","text":"<p>Generate a trading strategy from discovered patterns</p> Source Location <p><code>lib/sqa/strategy_generator.rb:196</code></p>"},{"location":"api-reference/sqa_strategygenerator/#generate_strategiestop_n-5-strategy_type-class","title":"<code>#generate_strategies(top_n: = 5, strategy_type: = :class)</code>","text":"<p>Generate multiple strategies from top N patterns</p> Source Location <p><code>lib/sqa/strategy_generator.rb:214</code></p>"},{"location":"api-reference/sqa_strategygenerator/#print_patternsmax_patterns-10","title":"<code>#print_patterns(max_patterns: = 10)</code>","text":"<p>Print discovered patterns</p> Source Location <p><code>lib/sqa/strategy_generator.rb:221</code></p>"},{"location":"api-reference/sqa_strategygenerator/#export_patternsfilename","title":"<code>#export_patterns(filename)</code>","text":"<p>Export patterns to CSV</p> Source Location <p><code>lib/sqa/strategy_generator.rb:241</code></p>"},{"location":"api-reference/sqa_strategygenerator/#walk_forward_validatetrain_size-250-test_size-60-step_size-30","title":"<code>#walk_forward_validate(train_size: = 250, test_size: = 60, step_size: = 30)</code>","text":"<p>Walk-forward validation - discover patterns with time-series cross-validation</p> <p>Splits data into train/test windows and rolls forward through history to prevent overfitting. Only keeps patterns that work out-of-sample.</p> <p>Parameters</p> Name Type Description <code>train_size</code> <code>Integer</code> Training window size in days <code>test_size</code> <code>Integer</code> Testing window size in days <code>step_size</code> <code>Integer</code> How many days to step forward each iteration <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Validation results with patterns and performance</p> Source Location <p><code>lib/sqa/strategy_generator.rb:273</code></p>"},{"location":"api-reference/sqa_strategygenerator/#discover_context_aware_patternsanalyze_regime-true-analyze_seasonal-true-sector-nil","title":"<code>#discover_context_aware_patterns(analyze_regime: = true, analyze_seasonal: = true, sector: = nil)</code>","text":"<p>Discover patterns with context (regime, seasonal, sector)</p> <p>Parameters</p> Name Type Description <code>analyze_regime</code> <code>Boolean</code> Detect and filter by market regime <code>analyze_seasonal</code> <code>Boolean</code> Detect seasonal patterns <code>sector</code> <code>Symbol</code> Sector classification <p>Returns</p> <p>Type: <code>Array&lt;Pattern&gt;</code></p> <p>Patterns with context metadata</p> Source Location <p><code>lib/sqa/strategy_generator.rb:379</code></p>"},{"location":"api-reference/sqa_strategygenerator/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategygenerator/#stock-read-only","title":"\ud83d\udc41\ufe0f <code>stock</code> read-only","text":"<p>Returns the value of attribute stock.</p>"},{"location":"api-reference/sqa_strategygenerator/#profitable_points-read-only","title":"\ud83d\udc41\ufe0f <code>profitable_points</code> read-only","text":"<p>Returns the value of attribute profitable_points.</p>"},{"location":"api-reference/sqa_strategygenerator/#patterns-read-only","title":"\ud83d\udc41\ufe0f <code>patterns</code> read-only","text":"<p>Returns the value of attribute patterns.</p>"},{"location":"api-reference/sqa_strategygenerator/#min_gain_percent-read-only","title":"\ud83d\udc41\ufe0f <code>min_gain_percent</code> read-only","text":"<p>Returns the value of attribute min_gain_percent.</p>"},{"location":"api-reference/sqa_strategygenerator/#fpop-read-only","title":"\ud83d\udc41\ufe0f <code>fpop</code> read-only","text":"<p>Returns the value of attribute fpop.</p>"},{"location":"api-reference/sqa_strategygenerator/#min_loss_percent-read-only","title":"\ud83d\udc41\ufe0f <code>min_loss_percent</code> read-only","text":"<p>Returns the value of attribute min_loss_percent.</p>"},{"location":"api-reference/sqa_strategygenerator/#indicators_config-read-only","title":"\ud83d\udc41\ufe0f <code>indicators_config</code> read-only","text":"<p>Returns the value of attribute indicators_config.</p>"},{"location":"api-reference/sqa_strategygenerator/#inflection_window-read-only","title":"\ud83d\udc41\ufe0f <code>inflection_window</code> read-only","text":"<p>Returns the value of attribute inflection_window.</p>"},{"location":"api-reference/sqa_strategygenerator/#max_fpl_risk-read-only","title":"\ud83d\udc41\ufe0f <code>max_fpl_risk</code> read-only","text":"<p>Returns the value of attribute max_fpl_risk.</p>"},{"location":"api-reference/sqa_strategygenerator/#required_fpl_directions-read-only","title":"\ud83d\udc41\ufe0f <code>required_fpl_directions</code> read-only","text":"<p>Returns the value of attribute required_fpl_directions.</p>"},{"location":"api-reference/sqa_strategygenerator_pattern/","title":"\ud83d\udce6 SQA::StrategyGenerator::Pattern","text":"<p>Description</p> <p>Represents a discovered indicator pattern</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy_generator.rb:69</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_strategygenerator_pattern/#conditions","title":"<code>#conditions()</code>","text":"<p>Returns the value of attribute conditions.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:70</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#conditionsvalue","title":"<code>#conditions=(value)</code>","text":"<p>Sets the attribute conditions</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute conditions to. Source Location <p><code>lib/sqa/strategy_generator.rb:70</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#frequency","title":"<code>#frequency()</code>","text":"<p>Returns the value of attribute frequency.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:70</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#frequencyvalue","title":"<code>#frequency=(value)</code>","text":"<p>Sets the attribute frequency</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute frequency to. Source Location <p><code>lib/sqa/strategy_generator.rb:70</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#avg_gain","title":"<code>#avg_gain()</code>","text":"<p>Returns the value of attribute avg_gain.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:70</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#avg_gainvalue","title":"<code>#avg_gain=(value)</code>","text":"<p>Sets the attribute avg_gain</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute avg_gain to. Source Location <p><code>lib/sqa/strategy_generator.rb:70</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#avg_holding_days","title":"<code>#avg_holding_days()</code>","text":"<p>Returns the value of attribute avg_holding_days.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:70</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#avg_holding_daysvalue","title":"<code>#avg_holding_days=(value)</code>","text":"<p>Sets the attribute avg_holding_days</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute avg_holding_days to. Source Location <p><code>lib/sqa/strategy_generator.rb:70</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#success_rate","title":"<code>#success_rate()</code>","text":"<p>Returns the value of attribute success_rate.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:70</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#success_ratevalue","title":"<code>#success_rate=(value)</code>","text":"<p>Sets the attribute success_rate</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute success_rate to. Source Location <p><code>lib/sqa/strategy_generator.rb:70</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#occurrences","title":"<code>#occurrences()</code>","text":"<p>Returns the value of attribute occurrences.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:70</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#occurrencesvalue","title":"<code>#occurrences=(value)</code>","text":"<p>Sets the attribute occurrences</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute occurrences to. Source Location <p><code>lib/sqa/strategy_generator.rb:70</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#context","title":"<code>#context()</code>","text":"<p>Returns the value of attribute context.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:70</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#contextvalue","title":"<code>#context=(value)</code>","text":"<p>Sets the attribute context</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute context to. Source Location <p><code>lib/sqa/strategy_generator.rb:70</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#initializeconditions","title":"<code>#initialize(conditions: = {})</code>","text":"<p>Returns</p> <p>Type: <code>Pattern</code></p> <p>a new instance of Pattern</p> Source Location <p><code>lib/sqa/strategy_generator.rb:74</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#to_s","title":"<code>#to_s()</code>","text":"Source Location <p><code>lib/sqa/strategy_generator.rb:84</code></p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategygenerator_pattern/#conditions-readwrite","title":"\ud83d\udd04 <code>conditions</code> read/write","text":"<p>Returns the value of attribute conditions.</p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#frequency-readwrite","title":"\ud83d\udd04 <code>frequency</code> read/write","text":"<p>Returns the value of attribute frequency.</p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#avg_gain-readwrite","title":"\ud83d\udd04 <code>avg_gain</code> read/write","text":"<p>Returns the value of attribute avg_gain.</p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#avg_holding_days-readwrite","title":"\ud83d\udd04 <code>avg_holding_days</code> read/write","text":"<p>Returns the value of attribute avg_holding_days.</p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#success_rate-readwrite","title":"\ud83d\udd04 <code>success_rate</code> read/write","text":"<p>Returns the value of attribute success_rate.</p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#occurrences-readwrite","title":"\ud83d\udd04 <code>occurrences</code> read/write","text":"<p>Returns the value of attribute occurrences.</p>"},{"location":"api-reference/sqa_strategygenerator_pattern/#context-readwrite","title":"\ud83d\udd04 <code>context</code> read/write","text":"<p>Returns the value of attribute context.</p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/","title":"\ud83d\udce6 SQA::StrategyGenerator::PatternContext","text":"<p>Description</p> <p>Pattern Context - metadata about when/where pattern is valid</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy_generator.rb:91</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_strategygenerator_patterncontext/#market_regime","title":"<code>#market_regime()</code>","text":"<p>Returns the value of attribute market_regime.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#market_regimevalue","title":"<code>#market_regime=(value)</code>","text":"<p>Sets the attribute market_regime</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute market_regime to. Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#valid_months","title":"<code>#valid_months()</code>","text":"<p>Returns the value of attribute valid_months.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#valid_monthsvalue","title":"<code>#valid_months=(value)</code>","text":"<p>Sets the attribute valid_months</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute valid_months to. Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#valid_quarters","title":"<code>#valid_quarters()</code>","text":"<p>Returns the value of attribute valid_quarters.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#valid_quartersvalue","title":"<code>#valid_quarters=(value)</code>","text":"<p>Sets the attribute valid_quarters</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute valid_quarters to. Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#discovered_period","title":"<code>#discovered_period()</code>","text":"<p>Returns the value of attribute discovered_period.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#discovered_periodvalue","title":"<code>#discovered_period=(value)</code>","text":"<p>Sets the attribute discovered_period</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute discovered_period to. Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#validation_period","title":"<code>#validation_period()</code>","text":"<p>Returns the value of attribute validation_period.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#validation_periodvalue","title":"<code>#validation_period=(value)</code>","text":"<p>Sets the attribute validation_period</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute validation_period to. Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#stability_score","title":"<code>#stability_score()</code>","text":"<p>Returns the value of attribute stability_score.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#stability_scorevalue","title":"<code>#stability_score=(value)</code>","text":"<p>Sets the attribute stability_score</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute stability_score to. Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#sector","title":"<code>#sector()</code>","text":"<p>Returns the value of attribute sector.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#sectorvalue","title":"<code>#sector=(value)</code>","text":"<p>Sets the attribute sector</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute sector to. Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#volatility_regime","title":"<code>#volatility_regime()</code>","text":"<p>Returns the value of attribute volatility_regime.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#volatility_regimevalue","title":"<code>#volatility_regime=(value)</code>","text":"<p>Sets the attribute volatility_regime</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute volatility_regime to. Source Location <p><code>lib/sqa/strategy_generator.rb:92</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#initialize","title":"<code>#initialize()</code>","text":"<p>Returns</p> <p>Type: <code>PatternContext</code></p> <p>a new instance of PatternContext</p> Source Location <p><code>lib/sqa/strategy_generator.rb:96</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#valid","title":"<code>#valid?()</code>","text":"<p>Returns</p> <p>Type: <code>Boolean</code></p> Source Location <p><code>lib/sqa/strategy_generator.rb:107</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#summary","title":"<code>#summary()</code>","text":"Source Location <p><code>lib/sqa/strategy_generator.rb:111</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#valid_fordate-nil-regime-nil-sector-nil","title":"<code>#valid_for?(date: = nil, regime: = nil, sector: = nil)</code>","text":"<p>Check if pattern is valid for given date and conditions</p> <p>Returns</p> <p>Type: <code>Boolean</code></p> Source Location <p><code>lib/sqa/strategy_generator.rb:121</code></p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategygenerator_patterncontext/#market_regime-readwrite","title":"\ud83d\udd04 <code>market_regime</code> read/write","text":"<p>Returns the value of attribute market_regime.</p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#valid_months-readwrite","title":"\ud83d\udd04 <code>valid_months</code> read/write","text":"<p>Returns the value of attribute valid_months.</p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#valid_quarters-readwrite","title":"\ud83d\udd04 <code>valid_quarters</code> read/write","text":"<p>Returns the value of attribute valid_quarters.</p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#discovered_period-readwrite","title":"\ud83d\udd04 <code>discovered_period</code> read/write","text":"<p>Returns the value of attribute discovered_period.</p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#validation_period-readwrite","title":"\ud83d\udd04 <code>validation_period</code> read/write","text":"<p>Returns the value of attribute validation_period.</p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#stability_score-readwrite","title":"\ud83d\udd04 <code>stability_score</code> read/write","text":"<p>Returns the value of attribute stability_score.</p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#sector-readwrite","title":"\ud83d\udd04 <code>sector</code> read/write","text":"<p>Returns the value of attribute sector.</p>"},{"location":"api-reference/sqa_strategygenerator_patterncontext/#volatility_regime-readwrite","title":"\ud83d\udd04 <code>volatility_regime</code> read/write","text":"<p>Returns the value of attribute volatility_regime.</p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/","title":"\ud83d\udce6 SQA::StrategyGenerator::ProfitablePoint","text":"<p>Description</p> <p>Represents a profitable trade opportunity discovered in historical data</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/strategy_generator.rb:38</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#entry_index","title":"<code>#entry_index()</code>","text":"<p>Returns the value of attribute entry_index.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#entry_indexvalue","title":"<code>#entry_index=(value)</code>","text":"<p>Sets the attribute entry_index</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute entry_index to. Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#entry_price","title":"<code>#entry_price()</code>","text":"<p>Returns the value of attribute entry_price.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#entry_pricevalue","title":"<code>#entry_price=(value)</code>","text":"<p>Sets the attribute entry_price</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute entry_price to. Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#exit_index","title":"<code>#exit_index()</code>","text":"<p>Returns the value of attribute exit_index.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#exit_indexvalue","title":"<code>#exit_index=(value)</code>","text":"<p>Sets the attribute exit_index</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute exit_index to. Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#exit_price","title":"<code>#exit_price()</code>","text":"<p>Returns the value of attribute exit_price.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#exit_pricevalue","title":"<code>#exit_price=(value)</code>","text":"<p>Sets the attribute exit_price</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute exit_price to. Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#gain_percent","title":"<code>#gain_percent()</code>","text":"<p>Returns the value of attribute gain_percent.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#gain_percentvalue","title":"<code>#gain_percent=(value)</code>","text":"<p>Sets the attribute gain_percent</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute gain_percent to. Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#holding_days","title":"<code>#holding_days()</code>","text":"<p>Returns the value of attribute holding_days.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#holding_daysvalue","title":"<code>#holding_days=(value)</code>","text":"<p>Sets the attribute holding_days</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute holding_days to. Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#indicators","title":"<code>#indicators()</code>","text":"<p>Returns the value of attribute indicators.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#indicatorsvalue","title":"<code>#indicators=(value)</code>","text":"<p>Sets the attribute indicators</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute indicators to. Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#fpl_min_delta","title":"<code>#fpl_min_delta()</code>","text":"<p>Returns the value of attribute fpl_min_delta.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#fpl_min_deltavalue","title":"<code>#fpl_min_delta=(value)</code>","text":"<p>Sets the attribute fpl_min_delta</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute fpl_min_delta to. Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#fpl_max_delta","title":"<code>#fpl_max_delta()</code>","text":"<p>Returns the value of attribute fpl_max_delta.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#fpl_max_deltavalue","title":"<code>#fpl_max_delta=(value)</code>","text":"<p>Sets the attribute fpl_max_delta</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute fpl_max_delta to. Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#fpl_risk","title":"<code>#fpl_risk()</code>","text":"<p>Returns the value of attribute fpl_risk.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#fpl_riskvalue","title":"<code>#fpl_risk=(value)</code>","text":"<p>Sets the attribute fpl_risk</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute fpl_risk to. Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#fpl_direction","title":"<code>#fpl_direction()</code>","text":"<p>Returns the value of attribute fpl_direction.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#fpl_directionvalue","title":"<code>#fpl_direction=(value)</code>","text":"<p>Sets the attribute fpl_direction</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute fpl_direction to. Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#fpl_magnitude","title":"<code>#fpl_magnitude()</code>","text":"<p>Returns the value of attribute fpl_magnitude.</p> Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#fpl_magnitudevalue","title":"<code>#fpl_magnitude=(value)</code>","text":"<p>Sets the attribute fpl_magnitude</p> <p>Parameters</p> Name Type Description <code>value</code> <code>Any</code> the value to set the attribute fpl_magnitude to. Source Location <p><code>lib/sqa/strategy_generator.rb:39</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#initializeentry_index-entry_price-exit_index-exit_price-fpl_data-nil","title":"<code>#initialize(entry_index:, entry_price:, exit_index:, exit_price:, fpl_data: = nil)</code>","text":"<p>Returns</p> <p>Type: <code>ProfitablePoint</code></p> <p>a new instance of ProfitablePoint</p> Source Location <p><code>lib/sqa/strategy_generator.rb:43</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#to_s","title":"<code>#to_s()</code>","text":"Source Location <p><code>lib/sqa/strategy_generator.rb:62</code></p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#entry_index-readwrite","title":"\ud83d\udd04 <code>entry_index</code> read/write","text":"<p>Returns the value of attribute entry_index.</p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#entry_price-readwrite","title":"\ud83d\udd04 <code>entry_price</code> read/write","text":"<p>Returns the value of attribute entry_price.</p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#exit_index-readwrite","title":"\ud83d\udd04 <code>exit_index</code> read/write","text":"<p>Returns the value of attribute exit_index.</p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#exit_price-readwrite","title":"\ud83d\udd04 <code>exit_price</code> read/write","text":"<p>Returns the value of attribute exit_price.</p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#gain_percent-readwrite","title":"\ud83d\udd04 <code>gain_percent</code> read/write","text":"<p>Returns the value of attribute gain_percent.</p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#holding_days-readwrite","title":"\ud83d\udd04 <code>holding_days</code> read/write","text":"<p>Returns the value of attribute holding_days.</p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#indicators-readwrite","title":"\ud83d\udd04 <code>indicators</code> read/write","text":"<p>Returns the value of attribute indicators.</p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#fpl_min_delta-readwrite","title":"\ud83d\udd04 <code>fpl_min_delta</code> read/write","text":"<p>Returns the value of attribute fpl_min_delta.</p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#fpl_max_delta-readwrite","title":"\ud83d\udd04 <code>fpl_max_delta</code> read/write","text":"<p>Returns the value of attribute fpl_max_delta.</p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#fpl_risk-readwrite","title":"\ud83d\udd04 <code>fpl_risk</code> read/write","text":"<p>Returns the value of attribute fpl_risk.</p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#fpl_direction-readwrite","title":"\ud83d\udd04 <code>fpl_direction</code> read/write","text":"<p>Returns the value of attribute fpl_direction.</p>"},{"location":"api-reference/sqa_strategygenerator_profitablepoint/#fpl_magnitude-readwrite","title":"\ud83d\udd04 <code>fpl_magnitude</code> read/write","text":"<p>Returns the value of attribute fpl_magnitude.</p>"},{"location":"api-reference/sqa_stream/","title":"\ud83d\udce6 SQA::Stream","text":"<p>Source Information</p> <p>Defined in: <code>lib/sqa/stream.rb:39</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_stream/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/sqa_stream/#ticker","title":"<code>#ticker()</code>","text":"<p>Returns the value of attribute ticker.</p> Source Location <p><code>lib/sqa/stream.rb:40</code></p>"},{"location":"api-reference/sqa_stream/#window_size","title":"<code>#window_size()</code>","text":"<p>Returns the value of attribute window_size.</p> Source Location <p><code>lib/sqa/stream.rb:40</code></p>"},{"location":"api-reference/sqa_stream/#strategies","title":"<code>#strategies()</code>","text":"<p>Returns the value of attribute strategies.</p> Source Location <p><code>lib/sqa/stream.rb:40</code></p>"},{"location":"api-reference/sqa_stream/#data_buffer","title":"<code>#data_buffer()</code>","text":"<p>Returns the value of attribute data_buffer.</p> Source Location <p><code>lib/sqa/stream.rb:40</code></p>"},{"location":"api-reference/sqa_stream/#indicator_cache","title":"<code>#indicator_cache()</code>","text":"<p>Returns the value of attribute indicator_cache.</p> Source Location <p><code>lib/sqa/stream.rb:40</code></p>"},{"location":"api-reference/sqa_stream/#initializeticker-window_size-100-strategies","title":"<code>#initialize(ticker:, window_size: = 100, strategies: = [])</code>","text":"<p>Returns</p> <p>Type: <code>Stream</code></p> <p>a new instance of Stream</p> Source Location <p><code>lib/sqa/stream.rb:42</code></p>"},{"location":"api-reference/sqa_stream/#add_strategystrategy","title":"<code>#add_strategy(strategy)</code>","text":"<p>Add a strategy to the stream processor</p> Source Location <p><code>lib/sqa/stream.rb:65</code></p>"},{"location":"api-reference/sqa_stream/#on_signalblock","title":"<code>#on_signal(&amp;block)</code>","text":"<p>Register callback for trading signals</p> <p>Example:   stream.on_signal do |signal, data|     puts \"#{signal.upcase} at $#{data[:price]}\"   end</p> Source Location <p><code>lib/sqa/stream.rb:78</code></p>"},{"location":"api-reference/sqa_stream/#on_updateblock","title":"<code>#on_update(&amp;block)</code>","text":"<p>Register callback for price updates</p> <p>Example:   stream.on_update do |data|     puts \"Price updated: $#{data[:price]}\"   end</p> Source Location <p><code>lib/sqa/stream.rb:89</code></p>"},{"location":"api-reference/sqa_stream/#updateprice-volume-nil-high-nil-low-nil-timestamp-timenow","title":"<code>#update(price:, volume: = nil, high: = nil, low: = nil, timestamp: = Time.now)</code>","text":"<p>Update stream with new market data</p> <p>Required fields: price Optional fields: volume, high, low, timestamp</p> Source Location <p><code>lib/sqa/stream.rb:98</code></p>"},{"location":"api-reference/sqa_stream/#current_price","title":"<code>#current_price()</code>","text":"<p>Get current price</p> Source Location <p><code>lib/sqa/stream.rb:136</code></p>"},{"location":"api-reference/sqa_stream/#recent_pricescount-nil","title":"<code>#recent_prices(count = nil)</code>","text":"<p>Get recent prices</p> Source Location <p><code>lib/sqa/stream.rb:141</code></p>"},{"location":"api-reference/sqa_stream/#recent_volumescount-nil","title":"<code>#recent_volumes(count = nil)</code>","text":"<p>Get recent volumes</p> Source Location <p><code>lib/sqa/stream.rb:148</code></p>"},{"location":"api-reference/sqa_stream/#indicatorname-options","title":"<code>#indicator(name, **options)</code>","text":"<p>Calculate or retrieve cached indicator</p> <p>Example:   rsi = stream.indicator(:rsi, period: 14)   sma = stream.indicator(:sma, period: 20)</p> Source Location <p><code>lib/sqa/stream.rb:159</code></p>"},{"location":"api-reference/sqa_stream/#current_signal","title":"<code>#current_signal()</code>","text":"<p>Get current trading signal from last strategy execution</p> Source Location <p><code>lib/sqa/stream.rb:177</code></p>"},{"location":"api-reference/sqa_stream/#stats","title":"<code>#stats()</code>","text":"<p>Get statistics about the stream</p> Source Location <p><code>lib/sqa/stream.rb:182</code></p>"},{"location":"api-reference/sqa_stream/#reset","title":"<code>#reset()</code>","text":"<p>Reset the stream (clear all data)</p> Source Location <p><code>lib/sqa/stream.rb:199</code></p>"},{"location":"api-reference/sqa_stream/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/sqa_stream/#ticker-read-only","title":"\ud83d\udc41\ufe0f <code>ticker</code> read-only","text":"<p>Returns the value of attribute ticker.</p>"},{"location":"api-reference/sqa_stream/#window_size-read-only","title":"\ud83d\udc41\ufe0f <code>window_size</code> read-only","text":"<p>Returns the value of attribute window_size.</p>"},{"location":"api-reference/sqa_stream/#strategies-read-only","title":"\ud83d\udc41\ufe0f <code>strategies</code> read-only","text":"<p>Returns the value of attribute strategies.</p>"},{"location":"api-reference/sqa_stream/#data_buffer-read-only","title":"\ud83d\udc41\ufe0f <code>data_buffer</code> read-only","text":"<p>Returns the value of attribute data_buffer.</p>"},{"location":"api-reference/sqa_stream/#indicator_cache-read-only","title":"\ud83d\udc41\ufe0f <code>indicator_cache</code> read-only","text":"<p>Returns the value of attribute indicator_cache.</p>"},{"location":"api-reference/sqa_ticker/","title":"\ud83d\udce6 SQA::Ticker","text":"<p>Description</p> <p>sqa/lib/sqa/ticker.rb</p> <p>Stock ticker symbol validation and lookup using the dumbstockapi.com service. Downloads and caches a CSV file containing ticker symbols, company names, and exchanges.</p> <p>Source Information</p> <p>Defined in: <code>lib/sqa/ticker.rb:15</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/sqa_ticker/#class-methods","title":"\ud83c\udfed Class Methods","text":""},{"location":"api-reference/sqa_ticker/#downloadcountry-us","title":"<code>.download(country = \"US\")</code>","text":"<p>Downloads ticker data from dumbstockapi.com and saves to data directory.</p> <p>Parameters</p> Name Type Description <code>country</code> <code>String</code> Country code for ticker list (default: \"US\") <p>Returns</p> <p>Type: <code>Integer</code></p> <p>HTTP status code from the download request</p> <p>Usage Examples</p> <pre><code>SQA::Ticker.download(\"US\")  # =&gt; 200\n</code></pre> Source Location <p><code>lib/sqa/ticker.rb:31</code></p>"},{"location":"api-reference/sqa_ticker/#load","title":"<code>.load()</code>","text":"<p>Loads ticker data from cached CSV or downloads if not available. Retries download up to 3 times if no cached file exists.</p> <p>Returns</p> <p>Type: <code>Hash{String =&gt; Hash}</code></p> <p>Hash mapping ticker symbols to info hashes</p> Source Location <p><code>lib/sqa/ticker.rb:47</code></p>"},{"location":"api-reference/sqa_ticker/#load_from_csvcsv_path","title":"<code>.load_from_csv(csv_path)</code>","text":"<p>Loads ticker data from a specific CSV file.</p> <p>Parameters</p> Name Type Description <code>csv_path</code> <code>Pathname, String</code> Path to CSV file <p>Returns</p> <p>Type: <code>Hash{String =&gt; Hash}</code></p> <p>Hash mapping ticker symbols to info hashes</p> Source Location <p><code>lib/sqa/ticker.rb:77</code></p>"},{"location":"api-reference/sqa_ticker/#data","title":"<code>.data()</code>","text":"<p>Returns the cached ticker data, loading it if necessary.</p> <p>Returns</p> <p>Type: <code>Hash{String =&gt; Hash}</code></p> <p>Hash mapping ticker symbols to info hashes</p> Source Location <p><code>lib/sqa/ticker.rb:92</code></p>"},{"location":"api-reference/sqa_ticker/#lookupticker","title":"<code>.lookup(ticker)</code>","text":"<p>Looks up information for a specific ticker symbol.</p> <p>Parameters</p> Name Type Description <code>ticker</code> <code>String, nil</code> Ticker symbol to look up <p>Returns</p> <p>Type: <code>Hash, nil</code></p> <p>Hash with :name and :exchange keys, or nil if not found</p> <p>Usage Examples</p> <pre><code>SQA::Ticker.lookup('AAPL')  # =&gt; { name: \"Apple Inc\", exchange: \"NASDAQ\" }\nSQA::Ticker.lookup('FAKE')  # =&gt; nil\n</code></pre> Source Location <p><code>lib/sqa/ticker.rb:106</code></p>"},{"location":"api-reference/sqa_ticker/#validticker","title":"<code>.valid?(ticker)</code>","text":"<p>Checks if a ticker symbol is valid (exists in the data).</p> <p>Parameters</p> Name Type Description <code>ticker</code> <code>String, nil</code> Ticker symbol to validate <p>Returns</p> <p>Type: <code>Boolean</code></p> <p>true if ticker exists, false otherwise</p> <p>Usage Examples</p> <pre><code>SQA::Ticker.valid?('AAPL')  # =&gt; true\nSQA::Ticker.valid?(nil)     # =&gt; false\n</code></pre> Source Location <p><code>lib/sqa/ticker.rb:120</code></p>"},{"location":"api-reference/sqa_ticker/#reset","title":"<code>.reset!()</code>","text":"<p>Resets the cached ticker data. Useful for testing to force a fresh load.</p> <p>Returns</p> <p>Type: <code>Hash</code></p> <p>Empty hash</p> Source Location <p><code>lib/sqa/ticker.rb:129</code></p>"},{"location":"api-reference/sqa_ticker/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"api-reference/string/","title":"\ud83d\udce6 String","text":"<p>Description</p> <p>File:  string.rb  Desc:  Monkey to the String class.</p> <p>Source Information</p> <p>Defined in: <code>lib/patches/string.rb:10</code></p> <p>Inherits from: <code>Object</code></p>"},{"location":"api-reference/string/#instance-methods","title":"\ud83d\udd28 Instance Methods","text":""},{"location":"api-reference/string/#to_underscore","title":"<code>#to_underscore()</code>","text":"<p>Convert CamelCase to camel_case</p> Source Location <p><code>lib/patches/string.rb:14</code></p>"},{"location":"api-reference/string/#to_snakecase","title":"<code>#to_snakecase()</code>","text":"<p>Convert CamelCase to camel_case</p> Source Location <p><code>lib/patches/string.rb:21</code></p>"},{"location":"api-reference/string/#snakecase","title":"<code>#snakecase()</code>","text":"<p>Convert CamelCase to camel_case</p> Source Location <p><code>lib/patches/string.rb:22</code></p>"},{"location":"api-reference/string/#snake_case","title":"<code>#snake_case()</code>","text":"<p>Convert CamelCase to camel_case</p> Source Location <p><code>lib/patches/string.rb:23</code></p>"},{"location":"api-reference/string/#underscore","title":"<code>#underscore()</code>","text":"<p>Convert CamelCase to camel_case</p> Source Location <p><code>lib/patches/string.rb:24</code></p>"},{"location":"api-reference/string/#to_camelcase","title":"<code>#to_camelcase()</code>","text":"<p>Convert camel_case to CamelCase</p> Source Location <p><code>lib/patches/string.rb:29</code></p>"},{"location":"api-reference/string/#camelcase","title":"<code>#camelcase()</code>","text":"<p>Convert camel_case to CamelCase</p> Source Location <p><code>lib/patches/string.rb:34</code></p>"},{"location":"api-reference/string/#camelize","title":"<code>#camelize()</code>","text":"<p>Convert camel_case to CamelCase</p> Source Location <p><code>lib/patches/string.rb:35</code></p>"},{"location":"api-reference/string/#to_constant","title":"<code>#to_constant()</code>","text":"<p>Convert \"CamelCase\" into CamelCase</p> Source Location <p><code>lib/patches/string.rb:40</code></p>"},{"location":"api-reference/string/#constantize","title":"<code>#constantize()</code>","text":"<p>Convert \"CamelCase\" into CamelCase</p> Source Location <p><code>lib/patches/string.rb:55</code></p>"},{"location":"api-reference/string/#attributes","title":"\ud83d\udcdd Attributes","text":""},{"location":"concepts/","title":"Core Concepts","text":"<p>Understanding the fundamental building blocks of SQA.</p>"},{"location":"concepts/#overview","title":"Overview","text":"<p>SQA is built around several key concepts that work together to provide a comprehensive stock analysis framework. This page explains the architecture and how all the pieces fit together.</p>"},{"location":"concepts/#system-architecture","title":"System Architecture","text":""},{"location":"concepts/#key-components","title":"Key Components","text":""},{"location":"concepts/#1-stock-object-sqastock","title":"1. Stock Object (<code>SQA::Stock</code>)","text":"<p>The primary domain object representing a stock with all its associated data.</p> <p>Responsibilities: - Load and cache historical price data - Fetch company overview information - Manage data persistence (JSON metadata + CSV prices) - Provide access to DataFrame for analysis</p> <p>Example: <pre><code>stock = SQA::Stock.new(ticker: 'AAPL')\n\n# Access data\nstock.ticker      # =&gt; \"aapl\"\nstock.name        # =&gt; \"Apple Inc\"\nstock.exchange    # =&gt; \"NASDAQ\"\nstock.df          # =&gt; SQA::DataFrame with price/volume\nstock.overview    # =&gt; Hash with company details\n</code></pre></p>"},{"location":"concepts/#2-dataframe-sqadataframe","title":"2. DataFrame (<code>SQA::DataFrame</code>)","text":"<p>High-performance wrapper around Polars for time series data manipulation.</p> <p>Key Features: - Rust-backed Polars engine (30x faster than pure Ruby) - Columnar operations for efficiency - CSV/JSON import/export - Method delegation to Polars</p> <p>Standard Columns: | Column | Description | |--------|-------------| | <code>timestamp</code> | Date of trading day | | <code>open_price</code> | Opening price | | <code>high_price</code> | Highest price | | <code>low_price</code> | Lowest price | | <code>close_price</code> | Closing price | | <code>adj_close_price</code> | Split/dividend adjusted price | | <code>volume</code> | Trading volume |</p> <p>Example: <pre><code>df = stock.df\n\n# Column operations\nprices = df[\"adj_close_price\"].to_a\nvolumes = df[\"volume\"].to_a\n\n# Statistics (via Polars)\ndf.data[\"close_price\"].mean\ndf.data[\"volume\"].sum\n</code></pre></p>"},{"location":"concepts/#3-technical-indicators-sqai-sqatai","title":"3. Technical Indicators (<code>SQAI</code> / <code>SQA::TAI</code>)","text":"<p>150+ technical indicators provided by the <code>sqa-tai</code> gem, which wraps TA-Lib.</p> <p>Categories: - Overlap Studies: SMA, EMA, Bollinger Bands - Momentum: RSI, MACD, Stochastic - Volume: OBV, AD, ADOSC - Volatility: ATR, NATR, True Range - Cycle: Hilbert Transform indicators - Pattern: Candlestick pattern recognition</p> <p>Example: <pre><code>prices = stock.df[\"adj_close_price\"].to_a\n\n# Single-value indicators\nsma = SQAI.sma(prices, period: 20)\nrsi = SQAI.rsi(prices, period: 14)\n\n# Multi-value indicators\nmacd, signal, histogram = SQAI.macd(prices)\nupper, middle, lower = SQAI.bbands(prices, period: 20)\n</code></pre></p>"},{"location":"concepts/#4-trading-strategies-sqastrategy","title":"4. Trading Strategies (<code>SQA::Strategy</code>)","text":"<p>Framework for creating and executing trading rules.</p> <p>Interface: <pre><code># All strategies implement this interface\nclass SQA::Strategy::MyStrategy\n  def self.trade(vector)\n    # Returns :buy, :sell, or :hold\n  end\nend\n</code></pre></p> <p>Built-in Strategies: - RSI, MACD, SMA, EMA - Bollinger Bands, Stochastic - Volume Breakout, Mean Reversion - KBS (Knowledge-Based System) - Consensus (aggregates multiple strategies)</p> <p>Example: <pre><code>require 'ostruct'\n\nvector = OpenStruct.new(\n  rsi: { trend: :over_sold, value: 28 },\n  prices: prices\n)\n\nsignal = SQA::Strategy::RSI.trade(vector)\n# =&gt; :buy\n</code></pre></p>"},{"location":"concepts/#5-portfolio-sqaportfolio","title":"5. Portfolio (<code>SQA::Portfolio</code>)","text":"<p>Track positions, calculate P&amp;L, and manage trades.</p> <p>Features: - Position tracking (shares per ticker) - Commission handling - Realized/unrealized P&amp;L - Trade history</p> <p>Example: <pre><code>portfolio = SQA::Portfolio.new(initial_cash: 10_000, commission: 1.0)\nportfolio.buy('AAPL', shares: 10, price: 150.0)\nportfolio.sell('AAPL', shares: 5, price: 160.0)\n\nportfolio.cash        # Remaining cash\nportfolio.positions   # Current holdings\nportfolio.trades      # Trade history\n</code></pre></p>"},{"location":"concepts/#6-backtesting-sqabacktest","title":"6. Backtesting (<code>SQA::Backtest</code>)","text":"<p>Simulate strategies on historical data.</p> <p>Metrics Generated: - Total return, annualized return - Sharpe ratio, Sortino ratio - Maximum drawdown - Win rate, profit factor - Number of trades</p> <p>Example: <pre><code>backtest = SQA::Backtest.new(\n  stock: stock,\n  strategy: SQA::Strategy::RSI,\n  initial_cash: 10_000\n)\n\nresults = backtest.run\nputs \"Return: #{results.total_return}%\"\nputs \"Sharpe: #{results.sharpe_ratio}\"\n</code></pre></p>"},{"location":"concepts/#data-flow","title":"Data Flow","text":"<p>Understanding how data flows through SQA:</p> <p></p>"},{"location":"concepts/#data-ordering-convention","title":"Data Ordering Convention","text":"<p>Critical: TA-Lib requires data in ascending chronological order (oldest first).</p> <pre><code># Correct order\nprices = [100, 102, 105, 103, 108]  # oldest \u2192 newest\n#          ^                    ^\n#        index 0            index -1\n\n# Access latest value\ncurrent_price = prices.last  # or prices[-1]\n\n# Calculate indicator\nrsi = SQAI.rsi(prices, period: 14)\ncurrent_rsi = rsi.last  # Most recent RSI value\n</code></pre>"},{"location":"concepts/#configuration","title":"Configuration","text":"<p>SQA uses a hierarchical configuration system:</p> <pre><code>1. Default values (lowest priority)\n2. Environment variables (SQA_* prefix)\n3. Config file (~/.sqa.yml)\n4. Runtime settings (highest priority)\n</code></pre> <p>Key Settings: <pre><code># ~/.sqa.yml\ndata_dir: ~/sqa_data\nlog_level: info\ndebug: false\nverbose: false\nlazy_update: false\n</code></pre></p> <p>Environment Variables: <pre><code>export AV_API_KEY=\"your_alpha_vantage_key\"\nexport SQA_DATA_DIR=\"~/my_data\"\nexport SQA_DEBUG=true\n</code></pre></p>"},{"location":"concepts/#file-storage","title":"File Storage","text":"<p>SQA stores data in the configured data directory (default: <code>~/sqa_data</code>):</p> <pre><code>~/sqa_data/\n\u251c\u2500\u2500 aapl.csv              # Price/volume data\n\u251c\u2500\u2500 aapl.json             # Stock metadata\n\u251c\u2500\u2500 msft.csv\n\u251c\u2500\u2500 msft.json\n\u2514\u2500\u2500 dumbstockapi-*.csv    # Ticker validation data\n</code></pre>"},{"location":"concepts/#module-structure","title":"Module Structure","text":"<pre><code>SQA\n\u251c\u2500\u2500 Stock                 # Primary domain object\n\u251c\u2500\u2500 DataFrame             # Time series data wrapper\n\u2502   \u251c\u2500\u2500 Data              # Stock metadata class\n\u2502   \u251c\u2500\u2500 AlphaVantage      # Alpha Vantage adapter\n\u2502   \u2514\u2500\u2500 YahooFinance      # Yahoo Finance adapter\n\u251c\u2500\u2500 Strategy              # Strategy framework\n\u2502   \u251c\u2500\u2500 RSI               # RSI strategy\n\u2502   \u251c\u2500\u2500 MACD              # MACD strategy\n\u2502   \u251c\u2500\u2500 BollingerBands    # Bollinger Bands strategy\n\u2502   \u251c\u2500\u2500 KBS               # Knowledge-based system\n\u2502   \u2514\u2500\u2500 ...               # Other strategies\n\u251c\u2500\u2500 Portfolio             # Position tracking\n\u251c\u2500\u2500 Backtest              # Historical simulation\n\u251c\u2500\u2500 Config                # Configuration management\n\u251c\u2500\u2500 Ticker                # Symbol validation\n\u2514\u2500\u2500 FPOP                  # Future Period analysis\n</code></pre>"},{"location":"concepts/#learn-more","title":"Learn More","text":"<ul> <li> <p> DataFrames</p> <p>High-performance data structures powered by Polars</p> <p> DataFrame Guide</p> </li> <li> <p> Indicators</p> <p>150+ technical analysis indicators via sqa-tai gem</p> <p> Indicators</p> </li> <li> <p> Strategies</p> <p>Framework for creating and executing trading strategies</p> <p> Strategies</p> </li> <li> <p> Portfolio</p> <p>Track positions, P&amp;L, and trade history</p> <p> Portfolio</p> </li> <li> <p> Backtesting</p> <p>Test strategies on historical data</p> <p> Backtesting</p> </li> <li> <p> Configuration</p> <p>Set up data directories and API keys</p> <p> Installation</p> </li> </ul>"},{"location":"concepts/#design-principles","title":"Design Principles","text":""},{"location":"concepts/#1-plugin-architecture","title":"1. Plugin Architecture","text":"<p>Strategies are pluggable modules that follow a common interface. Add new strategies without modifying core code.</p>"},{"location":"concepts/#2-data-source-abstraction","title":"2. Data Source Abstraction","text":"<p>Multiple data providers (Alpha Vantage, Yahoo Finance, CSV) share a common interface. Easy to add new sources.</p>"},{"location":"concepts/#3-performance-first","title":"3. Performance First","text":"<p>Polars DataFrame operations are vectorized and Rust-backed. Avoid Ruby loops over data.</p>"},{"location":"concepts/#4-educational-focus","title":"4. Educational Focus","text":"<p>Clear documentation, transparent algorithms, and honest risk disclaimers.</p>"},{"location":"concepts/#5-separation-of-concerns","title":"5. Separation of Concerns","text":"<ul> <li>Data fetching is separate from analysis</li> <li>Indicators are separate from strategies</li> <li>Strategies are separate from execution</li> </ul>"},{"location":"contributing/","title":"Contributing to SQA","text":"<p>Thank you for your interest in contributing to SQA!</p>"},{"location":"contributing/#ways-to-contribute","title":"Ways to Contribute","text":"<ul> <li>Report bugs</li> <li>Suggest features</li> <li>Improve documentation</li> <li>Submit pull requests</li> <li>Write tests</li> </ul>"},{"location":"contributing/#getting-started","title":"Getting Started","text":"<ol> <li>Fork the repository</li> <li>Create a feature branch</li> <li>Make your changes</li> <li>Run tests</li> <li>Submit a pull request</li> </ol>"},{"location":"contributing/#development-setup","title":"Development Setup","text":"<pre><code>git clone https://github.com/madbomber/sqa.git\ncd sqa\nbundle install\n</code></pre>"},{"location":"contributing/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\nrake test\n\n# Run specific test file\nruby -Ilib:test test/strategy/rsi_test.rb\n\n# With coverage\nrake test\nopen coverage/index.html\n</code></pre>"},{"location":"contributing/#code-style","title":"Code Style","text":"<ul> <li>Follow Ruby community style guidelines</li> <li>Use meaningful variable names</li> <li>Add comments for complex logic</li> <li>Keep methods focused and small</li> </ul>"},{"location":"contributing/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Update documentation</li> <li>Add tests for new features</li> <li>Ensure all tests pass</li> <li>Update CHANGELOG.md</li> <li>Submit PR with clear description</li> </ol>"},{"location":"contributing/#questions","title":"Questions?","text":"<p>Open an issue on GitHub or start a discussion.</p>"},{"location":"data-sources/","title":"Data Sources","text":"<p>SQA supports multiple data sources for historical stock price data.</p>"},{"location":"data-sources/#available-data-sources","title":"Available Data Sources","text":""},{"location":"data-sources/#alpha-vantage-primary","title":"Alpha Vantage (Primary)","text":"<p>Free API with generous limits for historical and real-time data.</p> <p>Setup: <pre><code>export AV_API_KEY=\"your_key_here\"\n</code></pre></p> <p>Features: - Daily historical data - Adjusted closing prices - Up to 20 years of history - API key required (free)</p> <p>Get API Key \u2192</p>"},{"location":"data-sources/#yahoo-finance-fallback","title":"Yahoo Finance (Fallback)","text":"<p>Web scraping fallback for when Alpha Vantage is unavailable.</p> <p>Features: - No API key required - Less reliable (web scraping) - Good for testing</p>"},{"location":"data-sources/#csv-files-custom","title":"CSV Files (Custom)","text":"<p>Import your own data from CSV files.</p> <p>Format: <pre><code>Date,Open,High,Low,Close,Adj Close,Volume\n2024-01-01,150.0,152.0,149.0,151.0,151.0,1000000\n</code></pre></p> <p>Place CSV files in <code>~/sqa_data/</code> named as <code>{ticker}.csv</code>.</p>"},{"location":"data-sources/#data-format","title":"Data Format","text":"<p>SQA uses a standardized column format:</p> <ul> <li><code>timestamp</code> - Date of trading day</li> <li><code>open_price</code> - Opening price</li> <li><code>high_price</code> - Highest price</li> <li><code>low_price</code> - Lowest price</li> <li><code>close_price</code> - Closing price</li> <li><code>adj_close_price</code> - Adjusted closing price</li> <li><code>volume</code> - Trading volume</li> </ul>"},{"location":"data-sources/#configuration","title":"Configuration","text":"<p>Set data directory in config:</p> <pre><code>SQA.config.data_dir = \"/path/to/data\"\n</code></pre> <p>Or via environment:</p> <pre><code>export SQA_DATA_DIR=\"/path/to/data\"\n</code></pre>"},{"location":"getting-started/","title":"Getting Started with SQA","text":"<p>Welcome to SQA! This guide will help you get up and running with stock market technical analysis in just a few minutes.</p>"},{"location":"getting-started/#what-youll-learn","title":"What You'll Learn","text":"<p>In this section, you'll learn how to:</p> <ul> <li>Install SQA and its dependencies</li> <li>Configure your environment for data access</li> <li>Run your first analysis</li> <li>Use the interactive console</li> <li>Understand the basic workflow</li> </ul>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, make sure you have:</p> <ul> <li>Ruby 3.2+ installed on your system</li> <li>TA-Lib C library (for technical indicators)</li> <li>(Optional) Alpha Vantage API key for live data access</li> </ul>"},{"location":"getting-started/#quick-navigation","title":"Quick Navigation","text":"<ul> <li> <p> Installation</p> <p>Install SQA and set up TA-Lib for technical analysis</p> <p> Installation Guide</p> </li> <li> <p> Quick Start</p> <p>Get your first analysis running in minutes</p> <p> Quick Start Guide</p> </li> </ul>"},{"location":"getting-started/#typical-workflow","title":"Typical Workflow","text":"<p>Here's the typical workflow when using SQA:</p> <p></p>"},{"location":"getting-started/#whats-next","title":"What's Next?","text":"<p>Once you've completed the getting started guides, you can explore:</p> <ul> <li>Core Concepts - Deep dive into SQA's architecture</li> <li>Technical Indicators - Learn about the 150+ indicators</li> <li>Trading Strategies - Explore built-in and custom strategies</li> <li>Advanced Features - Portfolio management, backtesting, and more</li> </ul>"},{"location":"getting-started/#need-help","title":"Need Help?","text":"<p>If you run into issues:</p> <ol> <li>Check the Troubleshooting section below</li> <li>Review the Requirements page</li> <li>Visit our GitHub Issues</li> </ol>"},{"location":"getting-started/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/#common-issues","title":"Common Issues","text":"<p>Ruby Version Too Old <pre><code>ruby --version  # Should be 3.2 or higher\nrbenv install 3.3.6  # Or rvm install ruby-3.3.6\n</code></pre></p> <p>TA-Lib Not Found <pre><code># See the Installation guide for TA-Lib setup\n# Quick check:\nls /usr/local/lib/libta_lib.*\n</code></pre></p> <p>API Key Issues <pre><code># Set your Alpha Vantage API key\nexport AV_API_KEY=\"your_key_here\"\n# Or add to ~/.bashrc for persistence\n</code></pre></p> <p>Ready to install? Let's get started with the Installation Guide!</p>"},{"location":"getting-started/installation/","title":"Installation Guide","text":"<p>This guide walks you through installing SQA and all its dependencies.</p>"},{"location":"getting-started/installation/#system-requirements","title":"System Requirements","text":"<ul> <li>Ruby: 3.2 or higher</li> <li>Operating System: Linux, macOS, or Windows (with WSL)</li> <li>Disk Space: ~100MB for gem and dependencies</li> <li>Internet: Required for downloading stock data</li> </ul>"},{"location":"getting-started/installation/#step-1-install-ta-lib","title":"Step 1: Install TA-Lib","text":"<p>SQA requires the TA-Lib C library for technical analysis calculations.</p>"},{"location":"getting-started/installation/#linux-ubuntudebian","title":"Linux (Ubuntu/Debian)","text":"<pre><code># Download and extract TA-Lib source\ncd /tmp\nwget http://prdownloads.sourceforge.net/ta-lib/ta-lib-0.4.0-src.tar.gz\ntar -xzf ta-lib-0.4.0-src.tar.gz\n\n# Compile and install\ncd ta-lib\n./configure --prefix=/usr/local\nmake\nsudo make install\n\n# Create symlink for compatibility\ncd /usr/local/lib\nsudo ln -s libta_lib.so libta-lib.so\nsudo ldconfig\n\n# Set library path (add to ~/.bashrc for persistence)\nexport LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH\n</code></pre>"},{"location":"getting-started/installation/#macos","title":"macOS","text":"<pre><code># Using Homebrew\nbrew install ta-lib\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<pre><code># Check that TA-Lib is installed\nls -la /usr/local/lib/libta_lib.*\n\n# Should show files like:\n# libta_lib.a\n# libta_lib.so\n# libta_lib.so.0\n# libta_lib.so.0.0.0\n</code></pre>"},{"location":"getting-started/installation/#step-2-install-sqa-gem","title":"Step 2: Install SQA Gem","text":""},{"location":"getting-started/installation/#from-rubygems-recommended","title":"From RubyGems (Recommended)","text":"<pre><code>gem install sqa\n</code></pre>"},{"location":"getting-started/installation/#from-source","title":"From Source","text":"<pre><code># Clone the repository\ngit clone https://github.com/madbomber/sqa.git\ncd sqa\n\n# Install dependencies\nbundle install\n\n# Install the gem locally\nrake install\n</code></pre>"},{"location":"getting-started/installation/#step-3-verify-installation","title":"Step 3: Verify Installation","text":"<p>Test that SQA is installed correctly:</p> <pre><code># Launch the SQA console\nsqa-console\n\n# In the console, try:\nSQA::VERSION  # Should display the version number\nSQAI.methods.grep(/^[a-z]/).sort  # List available indicators\n</code></pre> <p>Expected output: <pre><code>=&gt; \"0.0.31\"  # Version number\n\n=&gt; [:acos, :ad, :add, :adosc, :adx, :adxr, ...]  # 150+ indicators\n</code></pre></p>"},{"location":"getting-started/installation/#step-4-configure-api-access-optional","title":"Step 4: Configure API Access (Optional)","text":"<p>To download live stock data, you'll need an Alpha Vantage API key.</p>"},{"location":"getting-started/installation/#get-api-key","title":"Get API Key","text":"<ol> <li>Visit Alpha Vantage</li> <li>Sign up for a free API key</li> <li>Copy your API key</li> </ol>"},{"location":"getting-started/installation/#set-environment-variable","title":"Set Environment Variable","text":"<pre><code># Temporary (current session)\nexport AV_API_KEY=\"your_api_key_here\"\n\n# Permanent (add to ~/.bashrc or ~/.zshrc)\necho 'export AV_API_KEY=\"your_api_key_here\"' &gt;&gt; ~/.bashrc\nsource ~/.bashrc\n</code></pre>"},{"location":"getting-started/installation/#alternative-configuration-file","title":"Alternative: Configuration File","text":"<p>Create <code>~/.sqa.yml</code>:</p> <pre><code>data_dir: ~/sqa_data\ndebug: false\nverbose: false\n</code></pre> <p>The API key is read from environment variables, not the config file.</p>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#ta-lib-not-found","title":"TA-Lib Not Found","text":"<p>Error: <code>cannot load such file -- sqa/tai (LoadError)</code></p> <p>Solution: Make sure TA-Lib is installed and <code>LD_LIBRARY_PATH</code> is set:</p> <pre><code>export LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH\n</code></pre>"},{"location":"getting-started/installation/#permission-denied-during-installation","title":"Permission Denied During Installation","text":"<p>Error: <code>Permission denied @ dir_s_mkdir</code></p> <p>Solution: Use <code>sudo</code> for system-wide installation:</p> <pre><code>sudo gem install sqa\n</code></pre> <p>Or install to user directory:</p> <pre><code>gem install --user-install sqa\n</code></pre>"},{"location":"getting-started/installation/#ruby-version-too-old","title":"Ruby Version Too Old","text":"<p>Error: <code>Required Ruby version is &gt;= 3.2.0</code></p> <p>Solution: Update Ruby using rbenv or rvm:</p> <pre><code># Using rbenv\nrbenv install 3.3.6\nrbenv global 3.3.6\n\n# Using rvm\nrvm install 3.3.6\nrvm use 3.3.6 --default\n</code></pre>"},{"location":"getting-started/installation/#bundle-install-fails","title":"Bundle Install Fails","text":"<p>Error: Various dependency errors</p> <p>Solution: Update bundler and try again:</p> <pre><code>gem update --system\ngem install bundler\nbundle install\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>Now that you have SQA installed:</p> <ol> <li>Quick Start Guide - Run your first analysis</li> <li>Core Concepts - Understand SQA's architecture</li> <li>Trading Strategies - Explore built-in strategies</li> </ol>"},{"location":"getting-started/installation/#additional-dependencies","title":"Additional Dependencies","text":"<p>SQA automatically installs these dependencies:</p> <ul> <li><code>polars-df</code> - High-performance DataFrames</li> <li><code>sqa-tai</code> - TA-Lib wrapper for indicators</li> <li><code>faraday</code> - HTTP client for API calls</li> <li><code>hashie</code> - Enhanced hash objects</li> <li><code>tty-table</code> - Terminal table formatting</li> <li><code>kbs</code> - Knowledge-based strategy framework</li> <li><code>toml-rb</code> - TOML configuration support</li> </ul> <p>For development, you may also want:</p> <ul> <li><code>amazing_print</code> - Pretty printing</li> <li><code>debug_me</code> - Debugging utilities</li> <li><code>minitest</code> - Testing framework</li> <li><code>simplecov</code> - Code coverage</li> </ul>"},{"location":"getting-started/installation/#supported-platforms","title":"Supported Platforms","text":"<p>SQA has been tested on:</p> <ul> <li>\u2705 Ubuntu 20.04+</li> <li>\u2705 Debian 11+</li> <li>\u2705 macOS 12+ (Monterey and later)</li> <li>\u2705 Fedora 35+</li> <li>\u26a0\ufe0f Windows (via WSL recommended)</li> </ul> <p>Having issues? Check our GitHub Issues or create a new one.</p>"},{"location":"getting-started/quick-start/","title":"Quick Start Guide","text":"<p>Get up and running with SQA in just a few minutes!</p>"},{"location":"getting-started/quick-start/#your-first-analysis-5-minutes","title":"Your First Analysis (5 Minutes)","text":""},{"location":"getting-started/quick-start/#1-create-a-simple-script","title":"1. Create a Simple Script","text":"<p>Create a file called <code>my_first_analysis.rb</code>:</p> <pre><code>require 'sqa'\n\n# Initialize SQA\nSQA.init\n\n# Load Apple stock data\nputs \"Loading AAPL data...\"\nstock = SQA::Stock.new(ticker: 'AAPL')\n\n# Display basic information\nputs \"\\n#{stock}\"\nputs \"Data points: #{stock.df.height}\"\nputs \"Date range: #{stock.df['timestamp'].first} to #{stock.df['timestamp'].last}\"\n\n# Get closing prices\nprices = stock.df[\"adj_close_price\"].to_a\nputs \"\\nCurrent price: $#{prices.last}\"\n\n# Calculate RSI (Relative Strength Index)\nrsi_values = SQAI.rsi(prices, period: 14)\ncurrent_rsi = rsi_values.last.round(2)\n\nputs \"Current RSI: #{current_rsi}\"\nputs \"Market condition: #{current_rsi &lt; 30 ? 'Oversold' : current_rsi &gt; 70 ? 'Overbought' : 'Neutral'}\"\n\n# Calculate Simple Moving Average\nsma_20 = SQAI.sma(prices, period: 20)\nsma_50 = SQAI.sma(prices, period: 50)\n\nputs \"\\n20-day SMA: $#{sma_20.last.round(2)}\"\nputs \"50-day SMA: $#{sma_50.last.round(2)}\"\nputs \"Trend: #{sma_20.last &gt; sma_50.last ? 'Bullish' : 'Bearish'}\"\n</code></pre>"},{"location":"getting-started/quick-start/#2-run-the-script","title":"2. Run the Script","text":"<pre><code>ruby my_first_analysis.rb\n</code></pre> <p>Expected output: <pre><code>Loading AAPL data...\n\naapl with 1258 data points from 2019-11-09 to 2024-11-08\nData points: 1258\nDate range: 2019-11-09 to 2024-11-08\n\nCurrent price: $226.96\nCurrent RSI: 48.23\nMarket condition: Neutral\n\n20-day SMA: $225.45\n50-day SMA: $218.32\nTrend: Bullish\n</code></pre></p>"},{"location":"getting-started/quick-start/#backtest-a-strategy-10-minutes","title":"Backtest a Strategy (10 Minutes)","text":"<p>Let's backtest a simple RSI trading strategy:</p> <pre><code>require 'sqa'\n\nSQA.init\n\n# Load stock data\nstock = SQA::Stock.new(ticker: 'AAPL')\n\n# Create and run backtest\nbacktest = SQA::Backtest.new(\n  stock: stock,\n  strategy: SQA::Strategy::RSI,\n  initial_cash: 10_000.0,\n  commission: 1.0  # $1 per trade\n)\n\nputs \"Running backtest for RSI strategy...\"\nresults = backtest.run\n\n# Display results\nputs \"\\n=== Backtest Results ===\"\nputs \"Total Return: #{results.total_return.round(2)}%\"\nputs \"Sharpe Ratio: #{results.sharpe_ratio.round(2)}\"\nputs \"Max Drawdown: #{results.max_drawdown.round(2)}%\"\nputs \"Win Rate: #{results.win_rate.round(2)}%\"\nputs \"\\nTotal Trades: #{results.total_trades}\"\nputs \"Winning Trades: #{results.winning_trades}\"\nputs \"Losing Trades: #{results.losing_trades}\"\nputs \"\\nFinal Portfolio Value: $#{results.final_value.round(2)}\"\n</code></pre>"},{"location":"getting-started/quick-start/#use-multiple-indicators-15-minutes","title":"Use Multiple Indicators (15 Minutes)","text":"<p>Combine several indicators for better analysis:</p> <pre><code>require 'sqa'\n\nSQA.init\n\nstock = SQA::Stock.new(ticker: 'MSFT')\nprices = stock.df[\"adj_close_price\"].to_a\nvolumes = stock.df[\"volume\"].to_a\n\n# Calculate multiple indicators\nputs \"Calculating indicators...\"\n\n# Trend indicators\nsma_20 = SQAI.sma(prices, period: 20)\nema_12 = SQAI.ema(prices, period: 12)\nema_26 = SQAI.ema(prices, period: 26)\n\n# Momentum indicators\nrsi = SQAI.rsi(prices, period: 14)\nmacd_line, signal_line, histogram = SQAI.macd(\n  prices,\n  fast_period: 12,\n  slow_period: 26,\n  signal_period: 9\n)\n\n# Volatility indicators\nupper, middle, lower = SQAI.bbands(prices, period: 20)\n\n# Display current values\nputs \"\\n=== Technical Analysis for MSFT ===\"\nputs \"Price: $#{prices.last.round(2)}\"\nputs \"\\nTrend:\"\nputs \"  SMA(20): $#{sma_20.last.round(2)}\"\nputs \"  EMA(12): $#{ema_12.last.round(2)}\"\nputs \"  EMA(26): $#{ema_26.last.round(2)}\"\n\nputs \"\\nMomentum:\"\nputs \"  RSI: #{rsi.last.round(2)}\"\nputs \"  MACD: #{macd_line.last.round(2)}\"\nputs \"  Signal: #{signal_line.last.round(2)}\"\n\nputs \"\\nVolatility (Bollinger Bands):\"\nputs \"  Upper: $#{upper.last.round(2)}\"\nputs \"  Middle: $#{middle.last.round(2)}\"\nputs \"  Lower: $#{lower.last.round(2)}\"\n\n# Generate trading signal\nsignal = case\n  when rsi.last &lt; 30 &amp;&amp; prices.last &lt; lower.last\n    \"STRONG BUY\"\n  when rsi.last &lt; 40 &amp;&amp; macd_line.last &gt; signal_line.last\n    \"BUY\"\n  when rsi.last &gt; 70 &amp;&amp; prices.last &gt; upper.last\n    \"STRONG SELL\"\n  when rsi.last &gt; 60 &amp;&amp; macd_line.last &lt; signal_line.last\n    \"SELL\"\n  else\n    \"HOLD\"\n  end\n\nputs \"\\nRecommended Action: #{signal}\"\n</code></pre>"},{"location":"getting-started/quick-start/#explore-interactively","title":"Explore Interactively","text":"<p>Use the <code>sqa-console</code> for interactive exploration:</p> <pre><code>sqa-console\n</code></pre> <p>Try these commands in the console:</p> <pre><code># Load a stock\nstock = SQA::Stock.new(ticker: 'GOOGL')\n\n# Explore the dataframe\nstock.df.head(10)\n\n# Get column names\nstock.df.columns\n\n# Calculate any indicator\nprices = stock.df[\"adj_close_price\"].to_a\nSQAI.sma(prices, period: 50)\n\n# List all available indicators\nSQAI.methods.grep(/^[a-z]/).sort\n\n# Try different strategies\nSQA::Strategy.descendants  # List all strategy classes\n</code></pre>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<p>Now that you've run your first analyses:</p> <ol> <li>Core Concepts - Understand SQA's architecture</li> <li>Trading Strategies - Explore built-in strategies</li> <li>Advanced Features - Portfolio management, streaming, etc.</li> <li>API Reference - Complete API documentation</li> </ol>"},{"location":"getting-started/quick-start/#common-patterns","title":"Common Patterns","text":""},{"location":"getting-started/quick-start/#load-historical-data","title":"Load Historical Data","text":"<pre><code>stock = SQA::Stock.new(ticker: 'TSLA')\nprices = stock.df[\"adj_close_price\"].to_a\n</code></pre>"},{"location":"getting-started/quick-start/#calculate-indicator","title":"Calculate Indicator","text":"<pre><code>values = SQAI.indicator_name(prices, period: 14)\n</code></pre>"},{"location":"getting-started/quick-start/#apply-strategy","title":"Apply Strategy","text":"<pre><code>require 'ostruct'\nvector = OpenStruct.new(prices: prices, rsi: rsi_values)\nsignal = SQA::Strategy::RSI.trade(vector)\n</code></pre>"},{"location":"getting-started/quick-start/#run-backtest","title":"Run Backtest","text":"<pre><code>backtest = SQA::Backtest.new(stock: stock, strategy: SQA::Strategy::MACD)\nresults = backtest.run\n</code></pre> <p>Tip: Keep the Technical Indicators Reference handy as you explore!</p>"},{"location":"indicators/","title":"Technical Indicators","text":"<p>SQA provides access to 150+ technical indicators via the sqa-tai gem, which wraps the industry-standard TA-Lib library.</p>"},{"location":"indicators/#quick-reference","title":"Quick Reference","text":"<p>All indicators are available through the <code>SQAI</code> module:</p> <pre><code>require 'sqa'\n\nprices = [100, 102, 101, 103, 105, 104, 106]\n\n# Simple Moving Average\nsma = SQAI.sma(prices, period: 5)\n\n# Relative Strength Index\nrsi = SQAI.rsi(prices, period: 14)\n\n# Bollinger Bands (returns 3 arrays: upper, middle, lower)\nupper, middle, lower = SQAI.bbands(prices, period: 20)\n</code></pre>"},{"location":"indicators/#indicator-categories","title":"Indicator Categories","text":""},{"location":"indicators/#overlap-studies-moving-averages","title":"Overlap Studies (Moving Averages)","text":"<ul> <li>SMA - Simple Moving Average</li> <li>EMA - Exponential Moving Average</li> <li>WMA - Weighted Moving Average</li> <li>DEMA - Double Exponential Moving Average</li> <li>TEMA - Triple Exponential Moving Average</li> <li>T3 - Triple Exponential Moving Average (T3)</li> <li>MA - Moving Average (configurable type)</li> </ul>"},{"location":"indicators/#momentum-indicators","title":"Momentum Indicators","text":"<ul> <li>RSI - Relative Strength Index</li> <li>STOCH - Stochastic Oscillator</li> <li>STOCHF - Stochastic Fast</li> <li>STOCHRSI - Stochastic RSI</li> <li>MACD - Moving Average Convergence Divergence</li> <li>MOM - Momentum</li> <li>ROC - Rate of Change</li> <li>CCI - Commodity Channel Index</li> <li>WILLR - Williams' %R</li> </ul>"},{"location":"indicators/#volatility-indicators","title":"Volatility Indicators","text":"<ul> <li>ATR - Average True Range</li> <li>NATR - Normalized Average True Range</li> <li>TRANGE - True Range</li> <li>BBANDS - Bollinger Bands</li> </ul>"},{"location":"indicators/#volume-indicators","title":"Volume Indicators","text":"<ul> <li>AD - Chaikin A/D Line</li> <li>ADOSC - Chaikin A/D Oscillator</li> <li>OBV - On Balance Volume</li> </ul>"},{"location":"indicators/#see-individual-indicators","title":"See Individual Indicators","text":"<p>Browse the navigation menu for detailed information about each indicator.</p>"},{"location":"indicators/#common-patterns","title":"Common Patterns","text":""},{"location":"indicators/#single-value-indicators","title":"Single-Value Indicators","text":"<pre><code># Returns array of values\nvalues = SQAI.rsi(prices, period: 14)\ncurrent_rsi = values.last\n</code></pre>"},{"location":"indicators/#multi-value-indicators","title":"Multi-Value Indicators","text":"<pre><code># MACD returns 3 arrays\nmacd_line, signal_line, histogram = SQAI.macd(prices)\n</code></pre>"},{"location":"indicators/#indicators-requiring-multiple-inputs","title":"Indicators Requiring Multiple Inputs","text":"<pre><code># ATR needs high, low, close\nhigh = [105, 107, 106, 108]\nlow = [103, 104, 103, 105]\nclose = [104, 106, 105, 107]\n\natr = SQAI.atr(high, low, close, period: 14)\n</code></pre>"},{"location":"indicators/#full-indicator-list","title":"Full Indicator List","text":"<p>To see all available indicators:</p> <pre><code>SQAI.methods.grep(/^[a-z]/).sort\n</code></pre> <p>This will list all 150+ indicators in alphabetical order.</p>"},{"location":"strategies/","title":"Trading Strategies","text":"<p>Explore SQA's comprehensive suite of trading strategies.</p>"},{"location":"strategies/#overview","title":"Overview","text":"<p>SQA provides 13+ built-in trading strategies, from simple moving average crossovers to advanced rule-based systems. All strategies follow a common interface and can be easily backtested or combined.</p>"},{"location":"strategies/#strategy-categories","title":"Strategy Categories","text":""},{"location":"strategies/#trend-following-strategies","title":"Trend-Following Strategies","text":"<p>Strategies that identify and follow market trends:</p> <ul> <li>SMA Strategy - Simple Moving Average crossovers</li> <li>EMA Strategy - Exponential Moving Average crossovers</li> <li>MACD Strategy - Moving Average Convergence Divergence</li> </ul>"},{"location":"strategies/#momentum-strategies","title":"Momentum Strategies","text":"<p>Strategies based on price momentum and oscillators:</p> <ul> <li>RSI Strategy - Relative Strength Index (oversold/overbought)</li> <li>Stochastic Strategy - Stochastic oscillator crossovers</li> </ul>"},{"location":"strategies/#volatility-strategies","title":"Volatility Strategies","text":"<p>Strategies that use volatility measures:</p> <ul> <li>Bollinger Bands Strategy - Price touches bands</li> <li>ATR-based Strategies - Average True Range volatility</li> </ul>"},{"location":"strategies/#volume-strategies","title":"Volume Strategies","text":"<p>Strategies incorporating volume analysis:</p> <ul> <li>Volume Breakout - High volume price breakouts</li> </ul>"},{"location":"strategies/#mean-reversion","title":"Mean Reversion","text":"<p>Strategies assuming prices return to average:</p> <ul> <li>Mean Reversion Strategy - Statistical mean reversion</li> </ul>"},{"location":"strategies/#advanced-strategies","title":"Advanced Strategies","text":"<p>Complex, rule-based approaches:</p> <ul> <li>KBS Strategy - Knowledge-Based System with RETE engine</li> <li>Consensus Strategy - Aggregates multiple strategies</li> </ul>"},{"location":"strategies/#using-strategies","title":"Using Strategies","text":""},{"location":"strategies/#basic-usage","title":"Basic Usage","text":"<pre><code>require 'sqa'\nrequire 'ostruct'\n\n# Create data vector\nvector = OpenStruct.new(\n  rsi: { trend: :over_sold },\n  prices: [100, 102, 105, 103, 107]\n)\n\n# Execute strategy\nsignal = SQA::Strategy::RSI.trade(vector)\n# =&gt; :buy, :sell, or :hold\n</code></pre>"},{"location":"strategies/#backtesting","title":"Backtesting","text":"<pre><code>backtest = SQA::Backtest.new(\n  stock: stock,\n  strategy: SQA::Strategy::MACD,\n  initial_cash: 10_000\n)\n\nresults = backtest.run\nputs \"Return: #{results.total_return}%\"\n</code></pre>"},{"location":"strategies/#strategy-comparison","title":"Strategy Comparison","text":"Strategy Complexity Best For Typical Win Rate SMA Low Trending markets 45-55% RSI Low Range-bound markets 50-60% MACD Medium Trending markets 45-55% Bollinger Bands Medium Volatile markets 50-60% KBS High Complex rules Varies"},{"location":"strategies/#next-steps","title":"Next Steps","text":"<ul> <li>Built-in Strategies - Explore each strategy in detail</li> <li>Custom Strategies - Create your own strategies</li> <li>Backtesting - Test strategies historically</li> </ul>"},{"location":"strategies/bollinger-bands/","title":"Bollinger Bands Strategy","text":""},{"location":"strategies/bollinger-bands/#overview","title":"Overview","text":"<p>The Bollinger Bands strategy uses volatility bands to identify oversold and overbought conditions. The strategy generates buy signals when price touches the lower band and sell signals when price touches the upper band.</p>"},{"location":"strategies/bollinger-bands/#how-it-works","title":"How It Works","text":"<p>Bollinger Bands consist of three lines:</p> <ul> <li>Middle Band: 20-period Simple Moving Average (SMA)</li> <li>Upper Band: Middle Band + (2 \u00d7 Standard Deviation)</li> <li>Lower Band: Middle Band - (2 \u00d7 Standard Deviation)</li> </ul> <p>The bands expand and contract based on market volatility. When volatility increases, the bands widen; when volatility decreases, the bands narrow.</p>"},{"location":"strategies/bollinger-bands/#trading-signals","title":"Trading Signals","text":""},{"location":"strategies/bollinger-bands/#buy-signal","title":"Buy Signal","text":"<p>Price touches or falls below the lower band, indicating an oversold condition.</p> <pre><code>current_price &lt;= lower_band  # =&gt; :buy\n</code></pre>"},{"location":"strategies/bollinger-bands/#sell-signal","title":"Sell Signal","text":"<p>Price touches or exceeds the upper band, indicating an overbought condition.</p> <pre><code>current_price &gt;= upper_band  # =&gt; :sell\n</code></pre>"},{"location":"strategies/bollinger-bands/#hold-signal","title":"Hold Signal","text":"<p>Price remains between the bands.</p> <pre><code>lower_band &lt; current_price &lt; upper_band  # =&gt; :hold\n</code></pre>"},{"location":"strategies/bollinger-bands/#parameters","title":"Parameters","text":"Parameter Value Description Period 20 Number of periods for SMA calculation Std Dev 2.0 Number of standard deviations for bands"},{"location":"strategies/bollinger-bands/#usage-example","title":"Usage Example","text":"<pre><code>require 'sqa'\nrequire 'ostruct'\n\n# Load stock data\nstock = SQA::Stock.new(ticker: 'AAPL')\nprices = stock.df[\"adj_close_price\"].to_a\n\n# Create vector with price data\nvector = OpenStruct.new(prices: prices)\n\n# Execute strategy\nsignal = SQA::Strategy::BollingerBands.trade(vector)\nputs \"Signal: #{signal}\"  # =&gt; :buy, :sell, or :hold\n</code></pre>"},{"location":"strategies/bollinger-bands/#backtesting-example","title":"Backtesting Example","text":"<pre><code># Create backtest with Bollinger Bands strategy\nbacktest = SQA::Backtest.new(\n  stock: stock,\n  strategy: SQA::Strategy::BollingerBands,\n  initial_cash: 10_000\n)\n\nresults = backtest.run\n\nputs \"Total Return: #{results.total_return}%\"\nputs \"Sharpe Ratio: #{results.sharpe_ratio}\"\nputs \"Max Drawdown: #{results.max_drawdown}%\"\nputs \"Win Rate: #{results.win_rate}%\"\n</code></pre>"},{"location":"strategies/bollinger-bands/#characteristics","title":"Characteristics","text":"Attribute Value Complexity Medium Best Market Volatile, range-bound markets Typical Win Rate 50-60% Risk Level Medium Time Horizon Short to medium term"},{"location":"strategies/bollinger-bands/#strengths","title":"Strengths","text":"<ul> <li>\u2705 Works well in ranging markets</li> <li>\u2705 Adapts to volatility changes</li> <li>\u2705 Provides clear entry/exit points</li> <li>\u2705 Simple to understand and implement</li> </ul>"},{"location":"strategies/bollinger-bands/#weaknesses","title":"Weaknesses","text":"<ul> <li>\u274c Less effective in strong trends</li> <li>\u274c Can generate false signals during breakouts</li> <li>\u274c Requires sufficient price history (20+ periods)</li> <li>\u274c May whipsaw in choppy markets</li> </ul>"},{"location":"strategies/bollinger-bands/#tips-for-best-results","title":"Tips for Best Results","text":"<ol> <li>Combine with Trend Indicators: Use with RSI or MACD to filter false signals</li> <li>Watch for Band Squeezes: Narrow bands often precede big moves</li> <li>Adjust Parameters: Consider wider bands (3 std dev) for less frequent signals</li> <li>Volume Confirmation: Look for high volume on band touches for stronger signals</li> <li>Avoid in Trends: Strategy works best in sideways markets</li> </ol>"},{"location":"strategies/bollinger-bands/#implementation-details","title":"Implementation Details","text":"<p>The strategy is implemented in <code>lib/sqa/strategy/bollinger_bands.rb</code> and uses TA-Lib's <code>bbands</code> indicator via the <code>sqa-tai</code> gem:</p> <pre><code>class SQA::Strategy::BollingerBands\n  def self.trade(vector)\n    # Calculate Bollinger Bands\n    upper, middle, lower = SQAI.bbands(\n      prices,\n      period: 20,\n      nbdev_up: 2.0,\n      nbdev_down: 2.0\n    )\n\n    # Compare current price to bands\n    # ... (see source for full implementation)\n  end\nend\n</code></pre>"},{"location":"strategies/bollinger-bands/#related-strategies","title":"Related Strategies","text":"<ul> <li>RSI Strategy - Combine for better oversold/overbought detection</li> <li>Volume Breakout - Use together to confirm breakouts</li> <li>Mean Reversion - Similar range-trading approach</li> </ul>"},{"location":"strategies/bollinger-bands/#further-reading","title":"Further Reading","text":"<ul> <li>Bollinger Bands on Wikipedia</li> <li>John Bollinger's Official Site</li> <li>Technical Indicators</li> </ul>"},{"location":"strategies/consensus/","title":"Consensus Strategy","text":""},{"location":"strategies/consensus/#overview","title":"Overview","text":"<p>Aggregates signals from multiple strategies and makes trading decisions based on majority vote. Reduces risk of acting on single false signals.</p>"},{"location":"strategies/consensus/#how-it-works","title":"How It Works","text":"<p>Executes 5 independent strategies and counts votes: - Majority Buy: More buy signals than sell \u2192 Buy - Majority Sell: More sell signals than buy \u2192 Sell - Tie or No Consensus: Hold</p>"},{"location":"strategies/consensus/#trading-signals","title":"Trading Signals","text":"<pre><code>strategies = [Strategy1, Strategy2, Strategy3, Strategy4, Strategy5]\nvotes = strategies.map { |s| s.trade(vector) }\n# votes = [:buy, :buy, :sell, :hold, :buy]\n\n# Count: buy=3, sell=1, hold=1\n# Result: :buy (majority)\n</code></pre>"},{"location":"strategies/consensus/#usage-example","title":"Usage Example","text":"<pre><code>vector = OpenStruct.new(\n  rsi: rsi_data,\n  macd: macd_data,\n  prices: prices\n)\n\nsignal = SQA::Strategy::Consensus.trade(vector)\n# Returns :buy, :sell, or :hold based on majority\n</code></pre>"},{"location":"strategies/consensus/#characteristics","title":"Characteristics","text":"<ul> <li>Complexity: Medium</li> <li>Best Market: All markets</li> <li>Win Rate: 50-60%</li> <li>Reduces: False signals</li> </ul>"},{"location":"strategies/consensus/#strengths","title":"Strengths","text":"<p>\u2705 Reduces false positives \u2705 More reliable than single strategy \u2705 Democratic decision making \u2705 Can combine different approaches  </p>"},{"location":"strategies/consensus/#weaknesses","title":"Weaknesses","text":"<p>\u274c May be slower to act \u274c Can dilute strong signals \u274c Requires multiple data inputs  </p>"},{"location":"strategies/consensus/#tips","title":"Tips","text":"<ol> <li>Diverse Strategies: Mix trend and momentum strategies</li> <li>Odd Number: Use odd number of strategies to avoid ties</li> <li>Weighted Voting: Consider weighting better-performing strategies</li> <li>Threshold: Require super-majority (e.g., 4 out of 5) for higher conviction</li> </ol>"},{"location":"strategies/custom/","title":"Creating Custom Strategies","text":""},{"location":"strategies/custom/#overview","title":"Overview","text":"<p>Learn how to create your own trading strategies in the SQA framework.</p>"},{"location":"strategies/custom/#strategy-interface","title":"Strategy Interface","text":"<p>All strategies must implement a <code>self.trade(vector)</code> class method that returns <code>:buy</code>, <code>:sell</code>, or <code>:hold</code>.</p>"},{"location":"strategies/custom/#basic-template","title":"Basic Template","text":"<pre><code># lib/sqa/strategy/my_strategy.rb\n\nclass SQA::Strategy::MyStrategy\n  def self.trade(vector)\n    # 1. Validate input\n    return :hold unless vector.respond_to?(:prices)\n    return :hold if vector.prices.nil? || vector.prices.size &lt; 20\n\n    # 2. Extract data\n    prices = vector.prices\n\n    # 3. Calculate indicators\n    sma = SQAI.sma(prices, period: 20)\n    rsi = SQAI.rsi(prices, period: 14)\n\n    # 4. Implement trading logic\n    if rsi.last &lt; 30 &amp;&amp; prices.last &gt; sma.last\n      :buy\n    elsif rsi.last &gt; 70 &amp;&amp; prices.last &lt; sma.last\n      :sell\n    else\n      :hold\n    end\n  rescue =&gt; e\n    warn \"MyStrategy error: #{e.message}\"\n    :hold\n  end\nend\n</code></pre>"},{"location":"strategies/custom/#step-by-step-guide","title":"Step-by-Step Guide","text":""},{"location":"strategies/custom/#1-create-strategy-file","title":"1. Create Strategy File","text":"<p>Create a new file in <code>lib/sqa/strategy/</code>:</p> <pre><code>touch lib/sqa/strategy/my_strategy.rb\n</code></pre>"},{"location":"strategies/custom/#2-define-strategy-class","title":"2. Define Strategy Class","text":"<pre><code>class SQA::Strategy::MyStrategy\n  # Your implementation\nend\n</code></pre>"},{"location":"strategies/custom/#3-implement-trade-method","title":"3. Implement Trade Method","text":"<pre><code>def self.trade(vector)\n  # Return :buy, :sell, or :hold\nend\n</code></pre>"},{"location":"strategies/custom/#4-add-error-handling","title":"4. Add Error Handling","text":"<pre><code>def self.trade(vector)\n  # Your logic\nrescue =&gt; e\n  warn \"Error: #{e.message}\"\n  :hold  # Safe default\nend\n</code></pre>"},{"location":"strategies/custom/#5-write-tests","title":"5. Write Tests","text":"<p>Create <code>test/strategy/my_strategy_test.rb</code>:</p> <pre><code>require_relative '../test_helper'\nrequire 'ostruct'\n\nclass MyStrategyTest &lt; Minitest::Test\n  def test_buy_signal\n    prices = [100, 102, 104, 106, 108]\n    vector = OpenStruct.new(prices: prices)\n\n    signal = SQA::Strategy::MyStrategy.trade(vector)\n    assert_equal :buy, signal\n  end\n\n  def test_hold_when_no_data\n    vector = OpenStruct.new\n    signal = SQA::Strategy::MyStrategy.trade(vector)\n    assert_equal :hold, signal\n  end\nend\n</code></pre>"},{"location":"strategies/custom/#advanced-example","title":"Advanced Example","text":"<pre><code>class SQA::Strategy::AdvancedStrategy\n  # Constants for configuration\n  RSI_OVERSOLD = 30\n  RSI_OVERBOUGHT = 70\n  MIN_VOLUME_RATIO = 1.5\n\n  def self.trade(vector)\n    return :hold unless valid_vector?(vector)\n\n    analysis = analyze_market(vector)\n    generate_signal(analysis)\n  end\n\n  private\n\n  def self.valid_vector?(vector)\n    vector.respond_to?(:prices) &amp;&amp;\n    vector.respond_to?(:volumes) &amp;&amp;\n    vector.prices&amp;.size &gt;= 50\n  end\n\n  def self.analyze_market(vector)\n    {\n      rsi: SQAI.rsi(vector.prices, period: 14).last,\n      trend: detect_trend(vector.prices),\n      volume_spike: volume_spike?(vector.volumes)\n    }\n  end\n\n  def self.detect_trend(prices)\n    sma_short = SQAI.sma(prices, period: 20).last\n    sma_long = SQAI.sma(prices, period: 50).last\n\n    sma_short &gt; sma_long ? :up : :down\n  end\n\n  def self.volume_spike?(volumes)\n    current = volumes.last\n    average = volumes.last(20).sum / 20.0\n    current &gt; (average * MIN_VOLUME_RATIO)\n  end\n\n  def self.generate_signal(analysis)\n    if analysis[:rsi] &lt; RSI_OVERSOLD &amp;&amp; \n       analysis[:trend] == :up &amp;&amp; \n       analysis[:volume_spike]\n      :buy\n    elsif analysis[:rsi] &gt; RSI_OVERBOUGHT &amp;&amp; \n          analysis[:trend] == :down &amp;&amp; \n          analysis[:volume_spike]\n      :sell\n    else\n      :hold\n    end\n  end\nend\n</code></pre>"},{"location":"strategies/custom/#best-practices","title":"Best Practices","text":""},{"location":"strategies/custom/#1-validate-input","title":"1. Validate Input","text":"<pre><code>return :hold unless vector.respond_to?(:prices)\nreturn :hold if vector.prices.nil?\nreturn :hold if vector.prices.size &lt; minimum_required\n</code></pre>"},{"location":"strategies/custom/#2-use-available-indicators","title":"2. Use Available Indicators","text":"<pre><code># All TA-Lib indicators available via SQAI\nrsi = SQAI.rsi(prices, period: 14)\nmacd = SQAI.macd(prices)\nbbands = SQAI.bbands(prices, period: 20)\n</code></pre>"},{"location":"strategies/custom/#3-handle-errors-gracefully","title":"3. Handle Errors Gracefully","text":"<pre><code>rescue =&gt; e\n  warn \"#{self.name} error: #{e.message}\"\n  :hold\nend\n</code></pre>"},{"location":"strategies/custom/#4-test-edge-cases","title":"4. Test Edge Cases","text":"<ul> <li>Empty data</li> <li>Insufficient data</li> <li>Nil values</li> <li>Extreme values</li> </ul>"},{"location":"strategies/custom/#5-document-your-logic","title":"5. Document Your Logic","text":"<pre><code># Buy when:\n# 1. RSI indicates oversold (&lt; 30)\n# 2. Price above 20-day SMA (uptrend)\n# 3. Volume confirms (&gt; 1.5x average)\n</code></pre>"},{"location":"strategies/custom/#using-your-strategy","title":"Using Your Strategy","text":""},{"location":"strategies/custom/#with-backtest","title":"With Backtest","text":"<pre><code>backtest = SQA::Backtest.new(\n  stock: stock,\n  strategy: SQA::Strategy::MyStrategy,\n  initial_cash: 10_000\n)\n\nresults = backtest.run\n</code></pre>"},{"location":"strategies/custom/#with-real-time-stream","title":"With Real-Time Stream","text":"<pre><code>stream = SQA::Stream.new(\n  ticker: 'AAPL',\n  strategies: [SQA::Strategy::MyStrategy]\n)\n\nstream.on_signal do |signal, data|\n  puts \"MyStrategy says: #{signal}\"\nend\n</code></pre>"},{"location":"strategies/custom/#with-strategy-generator","title":"With Strategy Generator","text":"<pre><code># Discover patterns and auto-generate strategies\ngenerator = SQA::StrategyGenerator.new(stock: stock)\npatterns = generator.discover_patterns\nstrategy_code = generator.generate_strategy(pattern_index: 0)\n</code></pre>"},{"location":"strategies/custom/#common-patterns","title":"Common Patterns","text":""},{"location":"strategies/custom/#trend-following","title":"Trend Following","text":"<pre><code>if short_ma &gt; long_ma\n  :buy\nelsif short_ma &lt; long_ma\n  :sell\nelse\n  :hold\nend\n</code></pre>"},{"location":"strategies/custom/#mean-reversion","title":"Mean Reversion","text":"<pre><code>deviation = (price - average) / average\nif deviation &lt; -threshold\n  :buy\nelsif deviation &gt; threshold\n  :sell\nelse\n  :hold\nend\n</code></pre>"},{"location":"strategies/custom/#momentum","title":"Momentum","text":"<pre><code>if rsi &lt; oversold_level\n  :buy\nelsif rsi &gt; overbought_level\n  :sell\nelse\n  :hold\nend\n</code></pre>"},{"location":"strategies/custom/#breakout","title":"Breakout","text":"<pre><code>if price &gt; recent_high &amp;&amp; volume &gt; threshold\n  :buy\nelsif price &lt; recent_low &amp;&amp; volume &gt; threshold\n  :sell\nelse\n  :hold\nend\n</code></pre>"},{"location":"strategies/custom/#next-steps","title":"Next Steps","text":"<ol> <li>Study existing strategies in <code>lib/sqa/strategy/</code></li> <li>Read Backtesting Guide</li> <li>Explore Strategy Generator</li> <li>Learn about Risk Management</li> </ol>"},{"location":"strategies/custom/#related","title":"Related","text":"<ul> <li>KBS Strategy - Rule-based strategies</li> <li>Consensus - Combining strategies</li> <li>Backtesting - Testing strategies</li> </ul>"},{"location":"strategies/ema/","title":"EMA (Exponential Moving Average) Strategy","text":""},{"location":"strategies/ema/#overview","title":"Overview","text":"<p>Similar to SMA but gives more weight to recent prices, making it more responsive to price changes.</p>"},{"location":"strategies/ema/#how-it-works","title":"How It Works","text":"<p>Uses EMA crossovers for signals: - Short EMA: 12 or 20-period - Long EMA: 26 or 50-period</p>"},{"location":"strategies/ema/#trading-signals","title":"Trading Signals","text":""},{"location":"strategies/ema/#buy-signal","title":"Buy Signal","text":"<p>Short EMA crosses above long EMA.</p>"},{"location":"strategies/ema/#sell-signal","title":"Sell Signal","text":"<p>Short EMA crosses below long EMA.</p>"},{"location":"strategies/ema/#usage-example","title":"Usage Example","text":"<pre><code>prices = stock.df[\"adj_close_price\"].to_a\n\nema_short = SQAI.ema(prices, period: 12)\nema_long = SQAI.ema(prices, period: 26)\n\nvector = OpenStruct.new(\n  ema_short: ema_short,\n  ema_long: ema_long\n)\n\nsignal = SQA::Strategy::EMA.trade(vector)\n</code></pre>"},{"location":"strategies/ema/#characteristics","title":"Characteristics","text":"<ul> <li>Complexity: Low</li> <li>Best Market: Trending</li> <li>Win Rate: 45-55%</li> </ul>"},{"location":"strategies/ema/#strengths","title":"Strengths","text":"<p>\u2705 Faster than SMA \u2705 Better for short-term trading \u2705 Reduces lag  </p>"},{"location":"strategies/ema/#weaknesses","title":"Weaknesses","text":"<p>\u274c More false signals \u274c Still lags in fast markets  </p>"},{"location":"strategies/kbs/","title":"KBS (Knowledge-Based Strategy)","text":""},{"location":"strategies/kbs/#overview","title":"Overview","text":"<p>Advanced rule-based trading system using RETE forward-chaining inference engine. Combines multiple indicators with custom logic rules using the <code>kbs</code> (knowledge-based system) ruby gem.  A complete documentation website for the <code>kbs</code> ruby gem is available.</p>"},{"location":"strategies/kbs/#how-it-works","title":"How It Works","text":"<p>Defines trading rules with conditions and actions: - Conditions (<code>on</code>): Facts that must be true - Actions (<code>perform</code>): What to do when conditions met</p>"},{"location":"strategies/kbs/#rule-definition","title":"Rule Definition","text":"<pre><code>strategy = SQA::Strategy::KBS.new(load_defaults: true)\nkb = strategy.kb\n\n# Add custom rule\nstrategy.add_rule :buy_oversold_uptrend do\n  on :rsi, { level: :oversold }\n  on :trend, { short_term: :up }\n  perform do\n    kb.assert(:signal, { action: :buy, confidence: :high })\n  end\nend\n</code></pre>"},{"location":"strategies/kbs/#default-rules","title":"Default Rules","text":"<p>The KBS strategy includes 10 default rules:</p> <ol> <li>Buy on RSI oversold in uptrend</li> <li>Sell on RSI overbought in downtrend</li> <li>Buy on bullish MACD crossover</li> <li>Sell on bearish MACD crossover</li> <li>Buy at lower Bollinger Band</li> <li>Sell at upper Bollinger Band</li> <li>Buy on stochastic oversold crossover</li> <li>Sell on stochastic overbought crossover</li> <li>Buy on SMA golden cross</li> <li>Sell on SMA death cross</li> </ol>"},{"location":"strategies/kbs/#usage-example","title":"Usage Example","text":"<pre><code># Use with default rules\nstrategy = SQA::Strategy::KBS.new(load_defaults: true)\n\n# Provide market data\nprices = stock.df[\"adj_close_price\"].to_a\nvector = OpenStruct.new(\n  rsi: SQAI.rsi(prices, period: 14),\n  prices: prices\n)\n\nsignal = strategy.execute(vector)\n</code></pre>"},{"location":"strategies/kbs/#advanced-example","title":"Advanced Example","text":"<pre><code># Create custom strategy without defaults\nstrategy = SQA::Strategy::KBS.new(load_defaults: false)\nkb = strategy.kb\n\n# Define sophisticated multi-condition rule\nstrategy.add_rule :strong_buy do\n  on :rsi, { level: :oversold }\n  on :macd, { crossover: :bullish }\n  on :volume, { level: :high }\n  without :position  # Don't buy if already holding\n\n  perform do\n    kb.assert(:signal, {\n      action: :buy,\n      confidence: :high,\n      reason: :triple_confirmation\n    })\n  end\nend\n\n# Execute\nsignal = strategy.execute(vector)\n</code></pre>"},{"location":"strategies/kbs/#confidence-levels","title":"Confidence Levels","text":"<p>Signals include confidence scoring: - High: 1.0 - Medium: 0.6 - Low: 0.3</p> <p>Multiple rules can fire, with aggregate confidence determining final signal.</p>"},{"location":"strategies/kbs/#characteristics","title":"Characteristics","text":"<ul> <li>Complexity: High</li> <li>Best Market: All markets (depends on rules)</li> <li>Win Rate: Varies (50-70% with good rules)</li> </ul>"},{"location":"strategies/kbs/#strengths","title":"Strengths","text":"<ul> <li>\u2705 Highly customizable</li> <li>\u2705 Combines multiple indicators</li> <li>\u2705 Confidence scoring</li> <li>\u2705 Forward-chaining inference</li> <li>\u2705 Can encode expert knowledge</li> </ul>"},{"location":"strategies/kbs/#weaknesses","title":"Weaknesses","text":"<ul> <li>\u274c Complex to configure</li> <li>\u274c Requires domain knowledge</li> <li>\u274c Can be slow with many rules</li> <li>\u274c Overfitting risk</li> </ul>"},{"location":"strategies/kbs/#tips","title":"Tips","text":"<ol> <li>Start Simple: Begin with 2-3 rules</li> <li>Test Thoroughly: Backtest each rule independently</li> <li>Avoid Conflicts: Ensure rules don't contradict</li> <li>Use Confidence: Combine weak signals for stronger conviction</li> <li>Monitor Performance: Track which rules fire most often</li> </ol>"},{"location":"strategies/kbs/#available-facts","title":"Available Facts","text":"<p>The KBS strategy processes these fact types:</p> <ul> <li><code>:rsi</code> - RSI indicator data</li> <li><code>:macd</code> - MACD crossovers</li> <li><code>:trend</code> - Price trend analysis</li> <li><code>:bollinger</code> - Bollinger Band position</li> <li><code>:stochastic</code> - Stochastic oscillator</li> <li><code>:volume</code> - Volume analysis</li> <li><code>:sma_crossover</code> - SMA crossovers</li> </ul>"},{"location":"strategies/kbs/#dsl-keywords","title":"DSL Keywords","text":"<ul> <li><code>on</code> - Assert condition (fact must exist with attributes)</li> <li><code>without</code> - Negated condition (fact must NOT exist)</li> <li><code>perform</code> - Action to execute when rule fires</li> </ul>"},{"location":"strategies/kbs/#important-note","title":"Important Note","text":"<p>Due to KBS gem DSL limitations, you must use <code>kb.assert</code> (not just <code>assert</code>) inside <code>perform</code> blocks:</p> <pre><code># CORRECT\nkb = strategy.kb\nstrategy.add_rule :my_rule do\n  on :condition\n  perform { kb.assert(:signal, { action: :buy }) }\nend\n\n# INCORRECT\nstrategy.add_rule :my_rule do\n  on :condition\n  perform { assert(:signal, { action: :buy }) }  # Won't work!\nend\n</code></pre>"},{"location":"strategies/kbs/#related","title":"Related","text":"<ul> <li>Strategy Generator - Auto-generate rules</li> <li>Genetic Programming - Optimize rule parameters</li> </ul>"},{"location":"strategies/macd/","title":"MACD Strategy","text":""},{"location":"strategies/macd/#overview","title":"Overview","text":"<p>Moving Average Convergence Divergence (MACD) is a trend-following momentum indicator that shows the relationship between two moving averages.</p>"},{"location":"strategies/macd/#how-it-works","title":"How It Works","text":"<p>MACD consists of three components: - MACD Line: 12-period EMA - 26-period EMA - Signal Line: 9-period EMA of MACD Line - Histogram: MACD Line - Signal Line</p>"},{"location":"strategies/macd/#trading-signals","title":"Trading Signals","text":""},{"location":"strategies/macd/#buy-signal-bullish-crossover","title":"Buy Signal (Bullish Crossover)","text":"<p>MACD line crosses above the signal line.</p> <pre><code>SQA::Strategy::MACD.trade(vector)  # =&gt; :buy\n</code></pre>"},{"location":"strategies/macd/#sell-signal-bearish-crossover","title":"Sell Signal (Bearish Crossover)","text":"<p>MACD line crosses below the signal line.</p> <pre><code>SQA::Strategy::MACD.trade(vector)  # =&gt; :sell\n</code></pre>"},{"location":"strategies/macd/#usage-example","title":"Usage Example","text":"<pre><code>stock = SQA::Stock.new(ticker: 'AAPL')\nprices = stock.df[\"adj_close_price\"].to_a\n\n# Calculate MACD\nmacd_line, signal_line, histogram = SQAI.macd(\n  prices,\n  fast_period: 12,\n  slow_period: 26,\n  signal_period: 9\n)\n\nvector = OpenStruct.new(\n  macd: [macd_line, signal_line, histogram]\n)\n\nsignal = SQA::Strategy::MACD.trade(vector)\n</code></pre>"},{"location":"strategies/macd/#parameters","title":"Parameters","text":"Parameter Default Description Fast Period 12 Fast EMA period Slow Period 26 Slow EMA period Signal Period 9 Signal line EMA period"},{"location":"strategies/macd/#characteristics","title":"Characteristics","text":"Attribute Value Complexity Medium Best Market Trending Win Rate 45-55% Time Horizon Medium to long term"},{"location":"strategies/macd/#strengths","title":"Strengths","text":"<ul> <li>\u2705 Excellent trend following</li> <li>\u2705 Combines trend and momentum</li> <li>\u2705 Clear crossover signals</li> <li>\u2705 Can detect trend changes early</li> </ul>"},{"location":"strategies/macd/#weaknesses","title":"Weaknesses","text":"<ul> <li>\u274c Lags in fast markets</li> <li>\u274c Whipsaws in ranging markets</li> <li>\u274c False signals during consolidation</li> </ul>"},{"location":"strategies/macd/#tips","title":"Tips","text":"<ol> <li>Confirm with Trend: Best in established trends</li> <li>Histogram Divergence: Watch for divergence with price</li> <li>Zero Line Cross: Additional confirmation signal</li> <li>Multiple Timeframes: Align daily and weekly signals</li> </ol>"},{"location":"strategies/macd/#related-strategies","title":"Related Strategies","text":"<ul> <li>EMA - Uses moving average crossovers</li> <li>SMA - Similar crossover approach</li> <li>RSI - Complementary momentum indicator</li> </ul>"},{"location":"strategies/macd/#further-reading","title":"Further Reading","text":"<ul> <li>MACD on Investopedia</li> </ul>"},{"location":"strategies/market-profile/","title":"Market Profile Strategy","text":""},{"location":"strategies/market-profile/#overview","title":"Overview","text":"<p>Uses market profile analysis to identify support and resistance levels, generating signals when price reaches these key levels.</p>"},{"location":"strategies/market-profile/#how-it-works","title":"How It Works","text":"<p>Analyzes price distribution to find: - Value Area: Where most trading occurred - Support: Lower boundary (buy zone) - Resistance: Upper boundary (sell zone)</p>"},{"location":"strategies/market-profile/#trading-signals","title":"Trading Signals","text":""},{"location":"strategies/market-profile/#buy-signal","title":"Buy Signal","text":"<p>Price at support level (<code>:support</code>).</p>"},{"location":"strategies/market-profile/#sell-signal","title":"Sell Signal","text":"<p>Price at resistance level (<code>:resistance</code>).</p>"},{"location":"strategies/market-profile/#hold-signal","title":"Hold Signal","text":"<p>Price within value area (<code>:mixed</code>).</p>"},{"location":"strategies/market-profile/#usage-example","title":"Usage Example","text":"<pre><code># Market profile data typically comes from\n# price/volume distribution analysis\nvector = OpenStruct.new(\n  market_profile: :support  # or :resistance, :mixed\n)\n\nsignal = SQA::Strategy::MP.trade(vector)\n</code></pre>"},{"location":"strategies/market-profile/#characteristics","title":"Characteristics","text":"<ul> <li>Complexity: High</li> <li>Best Market: Range-bound</li> <li>Win Rate: 55-65%</li> </ul>"},{"location":"strategies/market-profile/#strengths","title":"Strengths","text":"<p>\u2705 Identifies key price levels \u2705 Works well for intraday trading \u2705 Statistical basis  </p>"},{"location":"strategies/market-profile/#weaknesses","title":"Weaknesses","text":"<p>\u274c Requires volume profile data \u274c Complex to calculate \u274c Less effective in trending markets  </p>"},{"location":"strategies/mean-reversion/","title":"Mean Reversion Strategy","text":""},{"location":"strategies/mean-reversion/#overview","title":"Overview","text":"<p>Based on the theory that prices tend to return to their average over time. Buys when price is below average and sells when above.</p>"},{"location":"strategies/mean-reversion/#how-it-works","title":"How It Works","text":"<p>Calculates distance from moving average: - Below average: Expect price to rise (buy) - Above average: Expect price to fall (sell)</p>"},{"location":"strategies/mean-reversion/#trading-signals","title":"Trading Signals","text":""},{"location":"strategies/mean-reversion/#buy-signal","title":"Buy Signal","text":"<p>Price significantly below SMA (undervalued).</p>"},{"location":"strategies/mean-reversion/#sell-signal","title":"Sell Signal","text":"<p>Price significantly above SMA (overvalued).</p>"},{"location":"strategies/mean-reversion/#usage-example","title":"Usage Example","text":"<pre><code>prices = stock.df[\"adj_close_price\"].to_a\nsma = SQAI.sma(prices, period: 20)\n\ncurrent_price = prices.last\ncurrent_sma = sma.last\ndeviation = ((current_price - current_sma) / current_sma) * 100\n\n# Buy if more than 5% below SMA\nsignal = if deviation &lt; -5.0\n  :buy\nelsif deviation &gt; 5.0\n  :sell\nelse\n  :hold\nend\n</code></pre>"},{"location":"strategies/mean-reversion/#characteristics","title":"Characteristics","text":"<ul> <li>Complexity: Low</li> <li>Best Market: Range-bound, low volatility</li> <li>Win Rate: 55-65%</li> </ul>"},{"location":"strategies/mean-reversion/#strengths","title":"Strengths","text":"<p>\u2705 High win rate in ranging markets \u2705 Clear mathematical basis \u2705 Works well with statistical analysis  </p>"},{"location":"strategies/mean-reversion/#weaknesses","title":"Weaknesses","text":"<p>\u274c Fails in trending markets \u274c Can lead to \"catching falling knives\" \u274c Requires stable market conditions  </p>"},{"location":"strategies/rsi/","title":"RSI Strategy","text":""},{"location":"strategies/rsi/#overview","title":"Overview","text":"<p>The Relative Strength Index (RSI) strategy identifies overbought and oversold conditions using momentum oscillators. It generates signals when RSI crosses key thresholds.</p>"},{"location":"strategies/rsi/#how-it-works","title":"How It Works","text":"<p>RSI is a momentum oscillator that ranges from 0 to 100: - Over 70: Overbought (sell signal) - Under 30: Oversold (buy signal) - 30-70: Neutral (hold)</p>"},{"location":"strategies/rsi/#trading-signals","title":"Trading Signals","text":""},{"location":"strategies/rsi/#buy-signal-rsilevel-oversold","title":"Buy Signal (<code>rsi.level == :oversold</code>)","text":"<pre><code>SQA::Strategy::RSI.trade(vector)  # =&gt; :buy when RSI &lt; 30\n</code></pre>"},{"location":"strategies/rsi/#sell-signal-rsilevel-overbought","title":"Sell Signal (<code>rsi.level == :overbought</code>)","text":"<pre><code>SQA::Strategy::RSI.trade(vector)  # =&gt; :sell when RSI &gt; 70\n</code></pre>"},{"location":"strategies/rsi/#usage-example","title":"Usage Example","text":"<pre><code>require 'sqa'\nrequire 'ostruct'\n\nstock = SQA::Stock.new(ticker: 'AAPL')\nprices = stock.df[\"adj_close_price\"].to_a\n\n# Calculate RSI using TA-Lib\nrsi_values = SQAI.rsi(prices, period: 14)\n\n# Create indicator data structure\nrsi_data = {\n  value: rsi_values.last,\n  trend: rsi_values.last &lt; 30 ? :over_sold : \n         rsi_values.last &gt; 70 ? :over_bought : :neutral\n}\n\nvector = OpenStruct.new(rsi: rsi_data)\nsignal = SQA::Strategy::RSI.trade(vector)\n</code></pre>"},{"location":"strategies/rsi/#parameters","title":"Parameters","text":"Parameter Default Description Period 14 Number of periods for RSI calculation Oversold 30 Lower threshold for buy signals Overbought 70 Upper threshold for sell signals"},{"location":"strategies/rsi/#characteristics","title":"Characteristics","text":"Attribute Value Complexity Low Best Market Range-bound, volatile Win Rate 50-60% Time Horizon Short to medium term"},{"location":"strategies/rsi/#strengths","title":"Strengths","text":"<ul> <li>\u2705 Simple and well-understood</li> <li>\u2705 Works in ranging markets</li> <li>\u2705 Can identify divergences</li> <li>\u2705 Fast response to price changes</li> </ul>"},{"location":"strategies/rsi/#weaknesses","title":"Weaknesses","text":"<ul> <li>\u274c Fails in strong trends</li> <li>\u274c Can stay overbought/oversold for extended periods</li> <li>\u274c Generates false signals</li> </ul>"},{"location":"strategies/rsi/#tips","title":"Tips","text":"<ol> <li>Combine with Trend: Only take buy signals in uptrends</li> <li>Adjust Thresholds: Use 20/80 for more conservative signals</li> <li>Watch Divergences: Price makes new highs but RSI doesn't (bearish divergence)</li> <li>Volume Confirmation: Stronger signals with high volume</li> </ol>"},{"location":"strategies/rsi/#related-strategies","title":"Related Strategies","text":"<ul> <li>Stochastic - Similar momentum oscillator</li> <li>MACD - Trend-following momentum</li> <li>Bollinger Bands - Volatility-based signals</li> </ul>"},{"location":"strategies/rsi/#further-reading","title":"Further Reading","text":"<ul> <li>RSI on Investopedia</li> <li>Technical Indicators</li> </ul>"},{"location":"strategies/sma/","title":"SMA (Simple Moving Average) Strategy","text":""},{"location":"strategies/sma/#overview","title":"Overview","text":"<p>The SMA strategy uses crossovers of short-term and long-term simple moving averages to identify trend changes and generate trading signals.</p>"},{"location":"strategies/sma/#how-it-works","title":"How It Works","text":"<p>Compares two SMAs: - Short SMA: Faster, more responsive (e.g., 50-day) - Long SMA: Slower, smoother (e.g., 200-day)</p>"},{"location":"strategies/sma/#trading-signals","title":"Trading Signals","text":""},{"location":"strategies/sma/#buy-signal-golden-cross","title":"Buy Signal (Golden Cross)","text":"<p>Short SMA crosses above long SMA.</p>"},{"location":"strategies/sma/#sell-signal-death-cross","title":"Sell Signal (Death Cross)","text":"<p>Short SMA crosses below long SMA.</p>"},{"location":"strategies/sma/#usage-example","title":"Usage Example","text":"<pre><code>stock = SQA::Stock.new(ticker: 'AAPL')\nprices = stock.df[\"adj_close_price\"].to_a\n\nsma_short = SQAI.sma(prices, period: 50)\nsma_long = SQAI.sma(prices, period: 200)\n\nvector = OpenStruct.new(\n  sma_short: sma_short,\n  sma_long: sma_long\n)\n\nsignal = SQA::Strategy::SMA.trade(vector)\n</code></pre>"},{"location":"strategies/sma/#characteristics","title":"Characteristics","text":"<ul> <li>Complexity: Low</li> <li>Best Market: Trending</li> <li>Win Rate: 45-55%</li> </ul>"},{"location":"strategies/sma/#strengths","title":"Strengths","text":"<p>\u2705 Simple and reliable \u2705 Filters market noise \u2705 Identifies major trends  </p>"},{"location":"strategies/sma/#weaknesses","title":"Weaknesses","text":"<p>\u274c Significant lag \u274c Late entry/exit \u274c Poor in ranging markets  </p>"},{"location":"strategies/stochastic/","title":"Stochastic Oscillator Strategy","text":""},{"location":"strategies/stochastic/#overview","title":"Overview","text":"<p>Compares closing price to the price range over a period to identify overbought/oversold conditions and momentum changes.</p>"},{"location":"strategies/stochastic/#how-it-works","title":"How It Works","text":"<p>Calculates two lines: - %K Line: (Current Close - Lowest Low) / (Highest High - Lowest Low) \u00d7 100 - %D Line: 3-period SMA of %K</p> <p>Range: 0-100</p>"},{"location":"strategies/stochastic/#trading-signals","title":"Trading Signals","text":""},{"location":"strategies/stochastic/#buy-signal","title":"Buy Signal","text":"<ul> <li>%K crosses above %D</li> <li>Both below 20 (oversold zone)</li> </ul>"},{"location":"strategies/stochastic/#sell-signal","title":"Sell Signal","text":"<ul> <li>%K crosses below %D</li> <li>Both above 80 (overbought zone)</li> </ul>"},{"location":"strategies/stochastic/#usage-example","title":"Usage Example","text":"<pre><code>high = stock.df[\"high_price\"].to_a\nlow = stock.df[\"low_price\"].to_a\nclose = stock.df[\"adj_close_price\"].to_a\n\nstoch_k, stoch_d = SQAI.stoch(\n  high, low, close,\n  fastk_period: 14,\n  slowk_period: 3,\n  slowd_period: 3\n)\n\nvector = OpenStruct.new(\n  stoch_k: stoch_k,\n  stoch_d: stoch_d\n)\n\nsignal = SQA::Strategy::Stochastic.trade(vector)\n</code></pre>"},{"location":"strategies/stochastic/#characteristics","title":"Characteristics","text":"<ul> <li>Complexity: Medium</li> <li>Best Market: Range-bound</li> <li>Win Rate: 50-60%</li> </ul>"},{"location":"strategies/stochastic/#strengths","title":"Strengths","text":"<p>\u2705 Good for reversals \u2705 Works in ranging markets \u2705 Early signals  </p>"},{"location":"strategies/stochastic/#weaknesses","title":"Weaknesses","text":"<p>\u274c Many false signals in trends \u274c Can stay overbought/oversold  </p>"},{"location":"strategies/volume-breakout/","title":"Volume Breakout Strategy","text":""},{"location":"strategies/volume-breakout/#overview","title":"Overview","text":"<p>Identifies price breakouts confirmed by high trading volume for stronger signal reliability.</p>"},{"location":"strategies/volume-breakout/#how-it-works","title":"How It Works","text":"<p>Looks for: 1. Price breaking above recent high or below recent low 2. Volume exceeding 1.5x the average volume</p>"},{"location":"strategies/volume-breakout/#trading-signals","title":"Trading Signals","text":""},{"location":"strategies/volume-breakout/#buy-signal","title":"Buy Signal","text":"<ul> <li>Price breaks above 20-period high</li> <li>Volume &gt; 1.5\u00d7 average volume</li> </ul>"},{"location":"strategies/volume-breakout/#sell-signal","title":"Sell Signal","text":"<ul> <li>Price breaks below 20-period low</li> <li>Volume &gt; 1.5\u00d7 average volume</li> </ul>"},{"location":"strategies/volume-breakout/#usage-example","title":"Usage Example","text":"<pre><code>prices = stock.df[\"adj_close_price\"].to_a\nvolumes = stock.df[\"volume\"].to_a\n\nvector = OpenStruct.new(\n  prices: prices,\n  volumes: volumes\n)\n\nsignal = SQA::Strategy::VolumeBreakout.trade(vector)\n</code></pre>"},{"location":"strategies/volume-breakout/#characteristics","title":"Characteristics","text":"<ul> <li>Complexity: Medium</li> <li>Best Market: Breakout/trending</li> <li>Win Rate: 50-60%</li> </ul>"},{"location":"strategies/volume-breakout/#strengths","title":"Strengths","text":"<p>\u2705 Volume confirmation reduces false breakouts \u2705 Catches strong moves \u2705 Clear entry points  </p>"},{"location":"strategies/volume-breakout/#weaknesses","title":"Weaknesses","text":"<p>\u274c Rare signals \u274c Can whipsaw on false breakouts \u274c Requires both price and volume data  </p>"}]}